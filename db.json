{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/favicon.ico","path":"favicon.ico","modified":0,"renderable":0},{"_id":"source/img/avator/fucktheking.jpg","path":"img/avator/fucktheking.jpg","modified":0,"renderable":0},{"_id":"source/img/computer/cipan2.gif","path":"img/computer/cipan2.gif","modified":0,"renderable":0},{"_id":"source/img/computer/cipan3.gif","path":"img/computer/cipan3.gif","modified":0,"renderable":0},{"_id":"source/img/computer/cipan4.png","path":"img/computer/cipan4.png","modified":0,"renderable":0},{"_id":"source/img/kafka/kafka_basic_construct.png","path":"img/kafka/kafka_basic_construct.png","modified":0,"renderable":0},{"_id":"source/img/kafka/kafka_constancepng.png","path":"img/kafka/kafka_constancepng.png","modified":0,"renderable":0},{"_id":"source/img/kafka/kafka_message.png","path":"img/kafka/kafka_message.png","modified":0,"renderable":0},{"_id":"source/img/patterndesign/zhuangshi.png","path":"img/patterndesign/zhuangshi.png","modified":0,"renderable":0},{"_id":"source/img/node/IAMTB.png","path":"img/node/IAMTB.png","modified":0,"renderable":0},{"_id":"source/img/php/Linux_CPU_Usage_Analysis.png","path":"img/php/Linux_CPU_Usage_Analysis.png","modified":0,"renderable":0},{"_id":"source/img/php/api-doc-1.jpg","path":"img/php/api-doc-1.jpg","modified":0,"renderable":0},{"_id":"source/img/php/api-doc-2.jpg","path":"img/php/api-doc-2.jpg","modified":0,"renderable":0},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"source/img/computer/cipan1.png","path":"img/computer/cipan1.png","modified":0,"renderable":0},{"_id":"source/img/patterndesign/adapter.png","path":"img/patterndesign/adapter.png","modified":0,"renderable":0},{"_id":"source/img/patterndesign/qiaojie.png","path":"img/patterndesign/qiaojie.png","modified":0,"renderable":0},{"_id":"source/img/php/api-doc-3.jpg","path":"img/php/api-doc-3.jpg","modified":0,"renderable":0},{"_id":"source/img/php/storm-1.jpg","path":"img/php/storm-1.jpg","modified":0,"renderable":0},{"_id":"source/img/php/storm-2.jpg","path":"img/php/storm-2.jpg","modified":0,"renderable":0},{"_id":"source/img/php/storm-3.jpg","path":"img/php/storm-3.jpg","modified":0,"renderable":0},{"_id":"source/img/ruankao/17-18.png","path":"img/ruankao/17-18.png","modified":0,"renderable":0},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"source/img/kafka/zero_copy.png","path":"img/kafka/zero_copy.png","modified":0,"renderable":0},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"source/img/kafka/no_zero_copy.png","path":"img/kafka/no_zero_copy.png","modified":0,"renderable":0},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"source/img/kafka/kafka_basic_2.png","path":"img/kafka/kafka_basic_2.png","modified":0,"renderable":0},{"_id":"source/img/patterndesign/strategy.png","path":"img/patterndesign/strategy.png","modified":0,"renderable":0},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"source/img/avator/jiayouya.jpg","path":"img/avator/jiayouya.jpg","modified":0,"renderable":0}],"Cache":[{"_id":"source/CNAME","hash":"5d57bade95ca0ff8857742d1c6d190fe73e1f0df","modified":1544344296340},{"_id":"source/favicon.ico","hash":"1b6f0965050e24f8a54c7ae8a980e8a79f5ac357","modified":1544344296371},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1544344296793},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1544344296793},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1544344296793},{"_id":"themes/next/.gitignore","hash":"a18c2e83bb20991b899b58e6aeadcb87dd8aa16e","modified":1544344296809},{"_id":"themes/next/.eslintrc.json","hash":"cc5f297f0322672fe3f684f823bc4659e4a54c41","modified":1544344296793},{"_id":"themes/next/.travis.yml","hash":"3d1dc928c4a97933e64379cfde749dedf62f252c","modified":1544344296809},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1544344296809},{"_id":"themes/next/LICENSE.md","hash":"fc7227c508af3351120181cbf2f9b99dc41f063e","modified":1544344296809},{"_id":"themes/next/_config.yml","hash":"00ba557011bb75ff363b7692ddaedfd3b16f56c7","modified":1561308901304},{"_id":"themes/next/crowdin.yml","hash":"e026078448c77dcdd9ef50256bb6635a8f83dca6","modified":1544344296809},{"_id":"themes/next/README.md","hash":"c1d6d1c6b75736b892e179865833ea58da5ca9d2","modified":1544344296809},{"_id":"themes/next/bower.json","hash":"beac259ba5ef7d199a45a142221dae7d34dbdc49","modified":1544344296809},{"_id":"themes/next/gulpfile.coffee","hash":"48d2f9fa88a4210308fc41cc7d3f6d53989f71b7","modified":1544344296824},{"_id":"themes/next/package.json","hash":"22a8e1a6259ee7452fe0d9a7a8952ad3ccabf719","modified":1544344296902},{"_id":"source/_posts/2015-ruankao-am.md","hash":"fe08b25d9a332c97df90cba0b6cae53fdab5141c","modified":1544344296340},{"_id":"source/_posts/big_small_binary.md","hash":"90d6c2bab66c1edc93cb9f534f331e8e87867bdc","modified":1544344296340},{"_id":"source/_posts/PHP-APP-RSA-AES.md","hash":"3a7fa0f3118075aae4348b6957cc3a223a3112fe","modified":1544344296340},{"_id":"source/_posts/computer-science-summary.md","hash":"418fabd127f231058e6e4bd12f6f1cb496c2c939","modified":1544344296355},{"_id":"source/_posts/code-igniter-apidoc.md","hash":"02b20243ba0ef725bdb746bef7ee46f4e8b6ae64","modified":1544344296355},{"_id":"source/_posts/disk-basic.md","hash":"15b33409b8fffad2c0ee8266b089b3ee6376dc79","modified":1544344296355},{"_id":"source/_posts/docker-one-02.md","hash":"fa216680a24244a0695ec71d66972b84f0e64843","modified":1561304880585},{"_id":"source/_posts/docker-one-01.md","hash":"d3efc6a4fabeef0c10dbc9e63fdeb01dd8806f36","modified":1561304887920},{"_id":"source/_posts/docker-one-03.md","hash":"5f7cdfd8d42abde4c2e7e9f86392ab307318aaee","modified":1561304898549},{"_id":"source/_posts/head_first_c_.md","hash":"ebc13334eaaaf4d2b4f87243d538f319cd94f8ae","modified":1544344296355},{"_id":"source/_posts/head_first_c_106.md","hash":"f48f4d6e00139e6498b8243242ea15abd37c3f7e","modified":1544344296355},{"_id":"source/_posts/head_firstc_str_reverse_98.md","hash":"4aff5189bd0911a79c06bb35f80272d253d405d3","modified":1544344296355},{"_id":"source/_posts/head_firstc_strstr_94.md","hash":"c0791ff540605286c976db4bb3cac60119c627b4","modified":1544344296355},{"_id":"source/_posts/head_frist_c_78.md","hash":"09bc01995695e658fe621a892d5fa85ddfb3c80a","modified":1544344296355},{"_id":"source/_posts/interface_security.md","hash":"4a2b45a59c6ba35fc54387b98f7f607eff3b1aa2","modified":1544344296355},{"_id":"source/_posts/http-cache.md","hash":"3ed1136b746893ce62911b7157f75c958a3f0ee0","modified":1544344296355},{"_id":"source/_posts/java-2016-decorator.md","hash":"384121aa03e176ad94df59d5fc6f9b19210430a1","modified":1544344296355},{"_id":"source/_posts/java-adapter.md","hash":"e6ab4ae6de21e013c4edc5e52394cc71487e0ee6","modified":1544344296355},{"_id":"source/_posts/java-bridge.md","hash":"04b8f1eceb0b7d425132274d60071da96eceb214","modified":1544344296355},{"_id":"source/_posts/java-strategy.md","hash":"7374cb46a1e2143fa1071b611ae573d8c52222a4","modified":1544344296355},{"_id":"source/_posts/jp2a-meituan.md","hash":"1903091dc87eb7dea3f6047dcaa15253d5f61855","modified":1544344296355},{"_id":"source/_posts/kafka-basic-from-imooc.md","hash":"0399c8f8605e873eb10a2f2c3e51ea146bc95e6c","modified":1544346644300},{"_id":"source/_posts/linux-top-about-cpu.md","hash":"50b09e3c458eecd157e502fc091aaf7c5e1ba005","modified":1544344296355},{"_id":"source/_posts/mycnart_email_config.md","hash":"ff0af9263d59dc433c029e96a089f7e28f3e85b9","modified":1544344296355},{"_id":"source/_posts/php-catch-fatel-error.md","hash":"4216a31bb152b53b73525e33ea1383c746244874","modified":1544344296355},{"_id":"source/_posts/php-insert-sort.md","hash":"6f4c96452c953c4891bf5978a651e7827d098388","modified":1544344296355},{"_id":"source/_posts/php7-update-on-ubuntu.md","hash":"0b9a5b6d7ed1357cc23131e8b852d5ec6f770411","modified":1544344296355},{"_id":"source/_posts/phpstorm-add-comment-in-function.md","hash":"a1261a05115eff426d5868d767abdcad816eb9d4","modified":1544344296355},{"_id":"source/_posts/post.md","hash":"43646fa0a794f41a38045ce30a15006790d1574c","modified":1544344296355},{"_id":"source/_posts/redis_incr_hash.md","hash":"17ccb13470b46f3e364cc0cae668d294a2613973","modified":1544344296371},{"_id":"source/_posts/trace-jaeger-php.md","hash":"e4995bb9f2246f4945008330364824d3e4daab1a","modified":1561384043742},{"_id":"source/_posts/trace-zipkin-php.md","hash":"7efebe1e9c4735484af3689b8bf4e5bfbf331671","modified":1561305965519},{"_id":"source/categories/index.md","hash":"8b3c00e0731e5b4a40d5142268aaf77de0fc8025","modified":1544344296371},{"_id":"source/_posts/workday.md","hash":"58868a7308c7598ab0f754641850ec5aee44e3de","modified":1544344296371},{"_id":"source/tags/index.md","hash":"c9dc4500e7615a5a97ede92672e5740933f80fd7","modified":1544344296418},{"_id":"source/about/index.md","hash":"4cb8437daafa1b7d5ce74efdf32b98bde0c430fd","modified":1572752350822},{"_id":"themes/next/.github/CODE_OF_CONDUCT.md","hash":"b63696d41f022525e40d7e7870c3785b6bc7536b","modified":1544344296793},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"a5335a99377069ae76fd993d488bc3eaf48f3a05","modified":1544344296793},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"00c25366764e6b9ccb40b877c60dc13b2916bbf7","modified":1544344296793},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1544344296793},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"7abbb4c8a29b2c14e576a00f53dbc0b4f5669c13","modified":1544344296793},{"_id":"themes/next/.github/stale.yml","hash":"fd0856f6745db8bd0228079ccb92a662830cc4fb","modified":1544344296809},{"_id":"themes/next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1544344296809},{"_id":"themes/next/docs/ALGOLIA-SEARCH.md","hash":"141e989844d0b5ae2e09fb162a280715afb39b0d","modified":1544344296809},{"_id":"themes/next/docs/AUTHORS.md","hash":"7b24be2891167bdedb9284a682c2344ec63e50b5","modified":1544344296809},{"_id":"themes/next/docs/DATA-FILES.md","hash":"8e1962dd3e1b700169b3ae5bba43992f100651ce","modified":1544344296809},{"_id":"themes/next/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"120750c03ec30ccaa470b113bbe39f3d423c67f0","modified":1544344296809},{"_id":"themes/next/docs/LICENSE","hash":"fe607fe22fc9308f6434b892a7f2d2c5514b8f0d","modified":1544344296809},{"_id":"themes/next/docs/INSTALLATION.md","hash":"2bbdd6c1751b2b42ce9b9335da420c6026a483e9","modified":1544344296809},{"_id":"themes/next/docs/MATH.md","hash":"0ae4258950de01a457ea8123a8d13ec6db496e53","modified":1544344296809},{"_id":"themes/next/docs/UPDATE-FROM-5.1.X.md","hash":"ad57c168d12ba01cf144a1ea0627b2ffd1847d3e","modified":1544344296809},{"_id":"themes/next/layout/_layout.swig","hash":"1b59036ccb2ad571503b94587f458fad46775642","modified":1544344296840},{"_id":"themes/next/layout/archive.swig","hash":"2b6450c6b6d2bcbcd123ad9f59922a5e323d77a5","modified":1544344296902},{"_id":"themes/next/layout/category.swig","hash":"5d955284a42f802a48560b4452c80906a5d1da02","modified":1544344296902},{"_id":"themes/next/layout/index.swig","hash":"c2a3896c64e96790edc10426ef586b6186a87f46","modified":1544344296902},{"_id":"themes/next/layout/page.swig","hash":"79040bae5ec14291441b33eea341a24a7c0e9f93","modified":1544344296902},{"_id":"themes/next/layout/post.swig","hash":"318249db246a57e9422875a2457c6acfce974ba5","modified":1544344296902},{"_id":"themes/next/layout/schedule.swig","hash":"3e9cba5313bf3b98a38ccb6ef78b56ffa11d66ee","modified":1544344296902},{"_id":"themes/next/layout/tag.swig","hash":"ba402ce8fd55e80b240e019e8d8c48949b194373","modified":1544344296902},{"_id":"themes/next/languages/de.yml","hash":"fb478c5040a4e58a4c1ad5fb52a91e5983d65a3a","modified":1544344296824},{"_id":"themes/next/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1544344296824},{"_id":"themes/next/languages/en.yml","hash":"c540c3a0d7db2d4239293c8783881962640b6c34","modified":1544344296824},{"_id":"themes/next/languages/fr.yml","hash":"0162a85ae4175e66882a9ead1249fedb89200467","modified":1544344296824},{"_id":"themes/next/languages/id.yml","hash":"e7fb582e117a0785036dcdbb853a6551263d6aa6","modified":1544344296824},{"_id":"themes/next/languages/it.yml","hash":"62ef41d0a9a3816939cb4d93a524e6930ab9c517","modified":1544344296824},{"_id":"themes/next/languages/ja.yml","hash":"509af6c38458a402d37b9beea3500e3b439aa153","modified":1544344296824},{"_id":"themes/next/languages/nl.yml","hash":"bb9ce8adfa5ee94bc6b5fac6ad24ba4605d180d3","modified":1544344296824},{"_id":"themes/next/languages/ko.yml","hash":"fae155018ae0efdf68669b2c7dd3f959c2e45cc9","modified":1544344296824},{"_id":"themes/next/languages/pt-BR.yml","hash":"bfc80c8a363fa2e8dde38ea2bc85cd19e15ab653","modified":1544344296824},{"_id":"themes/next/languages/pt.yml","hash":"3cb51937d13ff12fcce747f972ccb664840a9ef3","modified":1544344296824},{"_id":"themes/next/languages/ru.yml","hash":"db0644e738d2306ac38567aa183ca3e859a3980f","modified":1544344296824},{"_id":"themes/next/languages/tr.yml","hash":"c5f0c20743b1dd52ccb256050b1397d023e6bcd9","modified":1544344296840},{"_id":"themes/next/languages/vi.yml","hash":"8da921dd8335dd676efce31bf75fdd4af7ce6448","modified":1544344296840},{"_id":"themes/next/languages/zh-CN.yml","hash":"fbbf3a0b664ae8e927c700b0a813692b94345156","modified":1544344296840},{"_id":"themes/next/languages/zh-hk.yml","hash":"7903b96912c605e630fb695534012501b2fad805","modified":1544344296840},{"_id":"themes/next/scripts/helpers.js","hash":"a70bfad3efda76738dab12e28e8b75e3989ee3da","modified":1544344296902},{"_id":"themes/next/scripts/merge-configs.js","hash":"33afe97284d34542015d358a720823feeebef120","modified":1544344296902},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1544344296902},{"_id":"themes/next/languages/zh-tw.yml","hash":"6e6d2cd8f4244cb1b349b94904cb4770935acefd","modified":1544344296840},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1544344297043},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1544344297043},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1544344297043},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1544344296996},{"_id":"source/_posts/.idea/workspace.xml","hash":"a531017a2331c783460e459b693e6a5c1493922e","modified":1544344296340},{"_id":"source/_posts/.idea/_posts.iml","hash":"883c5341e8fbf804eb5336c828bf69849ce05d2f","modified":1544344296340},{"_id":"source/_posts/.idea/modules.xml","hash":"6abd6dcb985048745c9214d67295bdf1597307ee","modified":1544344296340},{"_id":"source/img/avator/fucktheking.jpg","hash":"286e125e5bf57d7d3440b9a1671e96ba310e2cd3","modified":1544344296387},{"_id":"source/img/computer/cipan2.gif","hash":"e9be664f153c5c83144d682f24e937bf4716c6d1","modified":1544344296387},{"_id":"source/img/computer/cipan3.gif","hash":"56f867c74f3949e6a466f2c339f4c5cdddfc348a","modified":1544344296387},{"_id":"source/img/computer/cipan4.png","hash":"63b3c2ea35a37a08c5900eef7e932912b8148ff4","modified":1544344296387},{"_id":"source/img/kafka/kafka_basic_construct.png","hash":"269e9cc8759a89cb12aba411da2a6cf2937cccb1","modified":1544346184132},{"_id":"source/img/kafka/kafka_constancepng.png","hash":"ac050b1c5e5a299ee85d34ef1b09c561952ab74d","modified":1544346258283},{"_id":"source/img/kafka/kafka_message.png","hash":"61aceafdd5a290eb896e79704f5c8a43f0091ed3","modified":1544346222207},{"_id":"source/img/patterndesign/zhuangshi.png","hash":"f9ba69ccc8d3ba621bfbaaa5190dcbb3a42158e5","modified":1544344296402},{"_id":"source/img/node/IAMTB.png","hash":"165df2204f10c3a43bbc24ae145a28d860be080d","modified":1544344296402},{"_id":"source/img/php/Linux_CPU_Usage_Analysis.png","hash":"4808ee62ddca27280eddc860c1b37e4c3a63a9d0","modified":1544344296402},{"_id":"source/img/php/api-doc-1.jpg","hash":"6d71ac82bd785a8720931bc4f6c8ffe34b84a9dc","modified":1544344296402},{"_id":"source/img/php/api-doc-2.jpg","hash":"4495d8cc1177623dc239fb5dc12620f38b81024d","modified":1544344296402},{"_id":"themes/next/docs/ru/DATA-FILES.md","hash":"d6d20f60f77a76c77f8e65d0c9adbd79d0274557","modified":1544344296809},{"_id":"themes/next/docs/ru/INSTALLATION.md","hash":"6c5d69e94961c793da156217ecf1179e868d7ba1","modified":1544344296809},{"_id":"themes/next/docs/ru/README.md","hash":"edfe0cfb8b2c9f0effd3beb868af9bfd0fabb3a6","modified":1544344296809},{"_id":"themes/next/docs/ru/UPDATE-FROM-5.1.X.md","hash":"b1dd18d9b890b21718883ea1832e7e02a773104a","modified":1544344296824},{"_id":"themes/next/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"6855402e2ef59aae307e8bd2a990647d3a605eb8","modified":1544344296824},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"a45a791b49954331390d548ac34169d573ea5922","modified":1544344296824},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"bd2c955d9b7b1b45bd74a4536717d547e03fcde3","modified":1544344296824},{"_id":"themes/next/docs/zh-CN/DATA-FILES.md","hash":"f3eec572a7d83542e2710a7404082014aaa1a5e7","modified":1544344296824},{"_id":"themes/next/docs/zh-CN/INSTALLATION.md","hash":"b19a6e0ae96eb7c756fb5b1ba03934c7f9cbb3c3","modified":1544344296824},{"_id":"themes/next/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"24cf2618d164440b047bb9396263de83bee5b993","modified":1544344296824},{"_id":"themes/next/docs/zh-CN/MATH.md","hash":"e03607b608db4aa7d46f6726827c51ac16623339","modified":1544344296824},{"_id":"themes/next/docs/zh-CN/README.md","hash":"46b264623af21211a0a9c4ba0cf1318a80eeb9fb","modified":1544344296824},{"_id":"themes/next/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"5da70d7fa0c988a66a469b9795d33d471a4a4433","modified":1544344296824},{"_id":"themes/next/layout/_custom/head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1544344296840},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1544344296840},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1544344296840},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1544344296840},{"_id":"themes/next/layout/_macro/post-related.swig","hash":"08fe30ce8909b920540231e36c97e28cfbce62b6","modified":1544344296840},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"0790ddbc349508d7ece45a9a4391d0a1cd7263cc","modified":1544344296840},{"_id":"themes/next/layout/_macro/post.swig","hash":"27922af64ecb9db9a28bcf1c98fb68b26bf0b67a","modified":1544344296840},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"1f3121ef66a4698fd78f34bf2594ef79a407c92c","modified":1544344296840},{"_id":"themes/next/layout/_macro/reward.swig","hash":"bd5778d509c51f4b1d8da3a2bc35462929f08c75","modified":1544344296840},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"a9e1346b83cf99e06bed59a53fc069279751e52a","modified":1544344296840},{"_id":"themes/next/layout/_partials/breadcrumb.swig","hash":"6994d891e064f10607bce23f6e2997db7994010e","modified":1544344296840},{"_id":"themes/next/layout/_partials/comments.swig","hash":"eafff2d623af8991844f34819a60e37ac11ef245","modified":1544344296840},{"_id":"themes/next/layout/_partials/footer.swig","hash":"05cdaf9b6cb32afd442b228cd247aaf9468a31ed","modified":1544344296840},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1aaf32bed57b976c4c1913fd801be34d4838cc72","modified":1544344296855},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"dbe321bcf3cf45917cc11a3e3f50d8572bac2c70","modified":1544344296855},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"0a0129e926c27fffc6e7ef87fe370016bc7a4564","modified":1544344296855},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"6fc63d5da49cb6157b8792f39c7305b55a0d1593","modified":1544344296855},{"_id":"themes/next/layout/_scripts/noscript.swig","hash":"ac3ad2c0eccdf16edaa48816d111aaf51200a54b","modified":1544344296855},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"e0bdc723d1dc858b41fd66e44e2786e6519f259f","modified":1544344296871},{"_id":"themes/next/layout/_third-party/bookmark.swig","hash":"60001c8e08b21bf3a7afaf029839e1455340e95d","modified":1544344296871},{"_id":"themes/next/layout/_third-party/copy-code.swig","hash":"a8ab2035654dd06d94faf11a35750529e922d719","modified":1544344296887},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"f532ce257fca6108e84b8f35329c53f272c2ce84","modified":1544344296887},{"_id":"themes/next/layout/_third-party/github-banner.swig","hash":"cabd9640dc3027a0b3ac06f5ebce777e50754065","modified":1544344296887},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"927f19160ae14e7030df306fc7114ba777476282","modified":1544344296887},{"_id":"themes/next/layout/_third-party/pangu.swig","hash":"6b75c5fd76ae7cf0a7b04024510bd5221607eab3","modified":1544344296887},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1544344296887},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1544344296887},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"b0ca46e0d1ff4c08cb0a3a8c1994f20d0260cef9","modified":1544344296887},{"_id":"themes/next/scripts/tags/button.js","hash":"4b12c376bea894d23cca0f9fcb3d6518b6db279d","modified":1544344296902},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"f13430d9d1c9773b390787c2f046bb1f12a79878","modified":1544344296902},{"_id":"themes/next/scripts/tags/exturl.js","hash":"1412ce2ef59fa4137b697a507fd759ff067a2398","modified":1544344296902},{"_id":"themes/next/scripts/tags/full-image.js","hash":"e282bf5a7c70b3d354001e8f66d3bef1a4fbb79e","modified":1544344296902},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"1d59b968af4b8d147f8bc9bc295d596e41be8348","modified":1544344296902},{"_id":"themes/next/scripts/tags/include-raw.js","hash":"5db59d56f4f4082382bf1c16722e6c383892b0c5","modified":1544344296902},{"_id":"themes/next/scripts/tags/label.js","hash":"f0ecd3b5773b19a6bd93a819dfe0c49ee418e4de","modified":1544344296902},{"_id":"themes/next/scripts/tags/note.js","hash":"adb945ba93ac487d46b969ca4e59d3681b8f8d1c","modified":1544344296902},{"_id":"themes/next/scripts/tags/tabs.js","hash":"e37761253d68a29593fe9ed2fe403f49b6e971de","modified":1544344296918},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1544344296996},{"_id":"themes/next/source/css/main.styl","hash":"c26ca6e7b5bd910b9046d6722c8e00be672890e0","modified":1544344296996},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1544344296996},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1544344296996},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1544344296996},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1544344296996},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1544344296996},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1544344296996},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1544344297012},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1544344297012},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1544344297012},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1544344297012},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1544344297012},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1544344297012},{"_id":"themes/next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1544344297012},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1544344297012},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1544344297012},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1544344297012},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1544344297012},{"_id":"source/img/computer/cipan1.png","hash":"ab5742cbc60b9f616545456a29824f1495d04df0","modified":1544344296387},{"_id":"source/img/patterndesign/adapter.png","hash":"e17cf68afe8854a6ac668463161edcb9fd78be3f","modified":1544344296402},{"_id":"source/img/patterndesign/qiaojie.png","hash":"0659cc586a5bfa5ae6d1df87ed622c67efaf17b5","modified":1544344296402},{"_id":"source/img/php/api-doc-3.jpg","hash":"fbc7c7ed9e3ece35678d38227a66c2bbf07b296d","modified":1544344296402},{"_id":"source/img/php/storm-1.jpg","hash":"a92d2d6b8ac033dd2e297b43f0a64d1b421211c0","modified":1544344296402},{"_id":"source/img/php/storm-2.jpg","hash":"f9e2d9554515520b961e94cf04a0c625ae164f63","modified":1544344296402},{"_id":"source/img/php/storm-3.jpg","hash":"a1df6435f9adf363aff9fc0ffcd7c3f5e28979b7","modified":1544344296402},{"_id":"source/img/ruankao/17-18.png","hash":"7fcb4da270cb392e8e995052b272cb2d8ecde696","modified":1544344296418},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1544344296871},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1544344296871},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1544344296965},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1544344296965},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1544344296965},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1544344296996},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1544344296996},{"_id":"themes/next/layout/_macro/menu/menu-badge.swig","hash":"65c5e585982dae7ae1542cada71858b4ea1f73d6","modified":1544344296840},{"_id":"themes/next/layout/_macro/menu/menu-item.swig","hash":"d1b73c926109145e52605929b75914cc8b60fb89","modified":1544344296840},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1544344296840},{"_id":"themes/next/layout/_partials/head/head-unique.swig","hash":"a7e376b087ae77f2e2a61ba6af81cde5af693174","modified":1544344296855},{"_id":"themes/next/layout/_partials/head/head.swig","hash":"00bf33b3c557b8f7e9faf49b226ea6ff7df5cda0","modified":1544344296855},{"_id":"themes/next/layout/_partials/header/brand.swig","hash":"fd780171713aada5eb4f4ffed8e714617c8ae6be","modified":1544344296855},{"_id":"themes/next/layout/_partials/header/index.swig","hash":"2082f5077551123e695e8afec471c9c44b436acb","modified":1544344296855},{"_id":"themes/next/layout/_partials/header/menu.swig","hash":"3db735d0cd2d449edf2674310ac1e7c0043cb357","modified":1544344296855},{"_id":"themes/next/layout/_partials/header/sub-menu.swig","hash":"88b4b6051592d26bff59788acb76346ce4e398c2","modified":1544344296855},{"_id":"themes/next/layout/_partials/search/index.swig","hash":"a33b29ccbdc2248aedff23b04e0627f435824406","modified":1544344296855},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1544344296855},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1544344296855},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1544344296855},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1544344296855},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1544344296855},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1544344296855},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"cc865af4a3cb6d25a0be171b7fc919ade306bb50","modified":1544344296855},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"ea03fe9c98ddcfcc0ecfdbe5a2b622f9cde3b3a1","modified":1544344296871},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"ea03fe9c98ddcfcc0ecfdbe5a2b622f9cde3b3a1","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"67f0cb55e6702c492e99a9f697827629da036a0c","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"94b26dfbcd1cf2eb87dd9752d58213338926af27","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"beb53371c035b62e1a2c7bb76c63afbb595fe6e5","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"5e9bb24c750b49513d9a65799e832f07410002ac","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"c28f3f4aa31d7f996d26a97df6cd7ffa9bfd2cec","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1544344296871},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1544344296871},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1544344296871},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"8878241797f8494a70968756c57cacdfc77b61c7","modified":1544344296871},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"fe8177e4698df764e470354b6acde8292a3515e0","modified":1544344296871},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"03e83f1311faafb7dddc2899042ed1cacd5c995e","modified":1544344296887},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"88b5a808b6b254c6122444e9dc180d5cc459cb19","modified":1544344296887},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"34421679cae6581697cd3ab7c3729eb220e3e3f5","modified":1544344296887},{"_id":"themes/next/layout/_third-party/math/index.swig","hash":"a6fc00ec7f5642aabd66aa1cf51c6acc5b10e012","modified":1544344296887},{"_id":"themes/next/layout/_third-party/math/katex.swig","hash":"97dbc2035bcb5aa7eafb80a4202dc827cce34983","modified":1544344296887},{"_id":"themes/next/layout/_third-party/math/mathjax.swig","hash":"9b9ff4cc6d5474ab03f09835a2be80e0dba9fe89","modified":1544344296887},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1544344296887},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"b15e10abe85b4270860a56c970b559baa258b2a8","modified":1544344296887},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1544344296887},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1544344296887},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1544344296965},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1544344296965},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"2640a54fa63bdd4c547eab7ce2fc1192cf0ccec8","modified":1544344296965},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"51c2907e5c50c2614419b670fbdec183ae7f7f5d","modified":1544344296965},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"e1f6f59ad6e562dfe640ee4ed5d1ac9b6aba4114","modified":1544344296996},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"be087dcc060e8179f7e7f60ab4feb65817bd3d9f","modified":1544344296996},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"c167eeb6b736f7b021fba98c38c2c21032ee1255","modified":1544344296996},{"_id":"themes/next/source/css/_variables/base.styl","hash":"0b43ddd92e395342703550f629699c5e591fd68b","modified":1544344296996},{"_id":"themes/next/source/js/src/affix.js","hash":"a2aab233d99297435a5274bf512c3c753fe08e80","modified":1544344297012},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"1f7f10c579e7703d0f6acb8b73f3d78a07d0c623","modified":1544344297012},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"1c41508b83cb0c4512e64b4d63afa1be954ce8ef","modified":1544344297012},{"_id":"themes/next/source/js/src/exturl.js","hash":"54825acc8de4793feac415be227b965428f4e97d","modified":1544344297012},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1544344297012},{"_id":"themes/next/source/js/src/motion.js","hash":"52fd093cb96b68229b38436c9b8ebcefc7e12cb2","modified":1544344297012},{"_id":"themes/next/source/js/src/post-details.js","hash":"0dde5e6d4547587662a3256317a9d5d1db507692","modified":1544344297012},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"d07b3776708d4ae79ed2037c4c7391d5c9b06b19","modified":1544344297012},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fa3c92968bcdbcb8d95a1729f7659d9753cbd077","modified":1544344297012},{"_id":"themes/next/source/js/src/utils.js","hash":"e829806d054991d0324a339993082206ca6026e5","modified":1544344297027},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1544344297027},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1544344297027},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1544344297027},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1544344297027},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1544344297027},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1544344297043},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1544344297043},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1544344297043},{"_id":"source/img/kafka/zero_copy.png","hash":"43f6cb6fe98baaf0202ae186bebe79b06a44b8b1","modified":1544346290344},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1544344297027},{"_id":"source/img/kafka/no_zero_copy.png","hash":"5e03e74008ee0e76d36d455dd17acf49a0b0abc6","modified":1544346277508},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"6958a97fde63e03983ec2394a4f8e408860fb42b","modified":1544344296887},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1544344296887},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"4719ce717962663c5c33ef97b1119a0b3a4ecdc3","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"7e509c7c28c59f905b847304dd3d14d94b6f3b8e","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"c5d48863f332ff8ce7c88dec2c893f709d7331d3","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1544344296949},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"aebbd86500d819c4532ab290c62b6f432bc2f878","modified":1544344296965},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"18309b68ff33163a6f76a39437e618bb6ed411f8","modified":1544344296965},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1544344296965},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"47a46583a1f3731157a3f53f80ed1ed5e2753e8e","modified":1544344296965},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1544344296965},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1544344296965},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"0810e7c43d6c8adc8434a8fa66eabe0436ab8178","modified":1544344296965},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"fca5320e2644edcd663888863899d1b80352439b","modified":1544344296965},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"0bef9f0dc134215bc4d0984ba3a16a1a0b6f87ec","modified":1544344296965},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"f43c821ea272f80703862260b140932fe4aa0e1f","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"2212511ae14258d93bec57993c0385e5ffbb382b","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"5e12572b18846250e016a872a738026478ceef37","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"35f093fe4c1861661ac1542d6e8ea5a9bbfeb659","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"d5e8ea6336bc2e237d501ed0d5bbcbbfe296c832","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"876b5d99061025cf485a3cac440624ded5734319","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"05a5abf02e84ba8f639b6f9533418359f0ae4ecb","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1544344296996},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"41f9cdafa00e256561c50ae0b97ab7fcd7c1d6a2","modified":1544344296996},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"ffa870c3fa37a48b01dc6f967e66f5df508d02bf","modified":1544344296996},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"5779cc8086b1cfde9bc4f1afdd85223bdc45f0a0","modified":1544344296996},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"ab6f13fae0513a9b39f8d8c4c3a4e3928014f046","modified":1544344297012},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1544344297027},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1544344297027},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1544344297027},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1544344297027},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1544344297027},{"_id":"source/img/kafka/kafka_basic_2.png","hash":"b31c07cc7f268c110e19f5d588d4db5092129be5","modified":1544346209223},{"_id":"source/img/patterndesign/strategy.png","hash":"69ef7631dbed5cf7bd12740ebd36b529fbb46e8e","modified":1544344296402},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1544344297027},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1544344297027},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1544344297043},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"39dee82d481dd9d44e33658960ec63e47cd0a715","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"7cc3f36222494c9a1325c5347d7eb9ae53755a32","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/header/github-banner.styl","hash":"ee37e6c465b9b2a7e39175fccfcbed14f2db039b","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"17b95828f9db7f131ec0361a8c0e89b0b5c9bff5","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"f5aa2ba3bfffc15475e7e72a55b5c9d18609fdf5","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"7dd9a0378ccff3e4a2003f486b1a34e74c20dac6","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"fb451dc4cc0355b57849c27d3eb110c73562f794","modified":1544344296918},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"e72a89e0f421444453e149ba32c77a64bd8e44e8","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"ca89b167d368eac50a4f808fa53ba67e69cbef94","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"417f05ff12a2aaca6ceeac8b7e7eb26e9440c4c3","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-reading_progress.styl","hash":"f4e9f870baa56eae423a123062f00e24cc780be1","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"549a8a0b5301d32acd86a97f17340cdfcd46fb63","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"c0ac49fadd33ca4a9a0a04d5ff2ac6560d0ecd9e","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"578bb2d5f24cad39205bbafb4c39c7e9962b9fa9","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"ed9608d2740a33664eb703f806c218a4fc520087","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"bbe0d111f6451fc04e52719fd538bd0753ec17f9","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"35c0350096921dd8e2222ec41b6c17a4ea6b44f2","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"89dd4f8b1f1cce3ad46cf2256038472712387d02","modified":1544344296933},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"4427ed3250483ed5b7baad74fa93474bd1eda729","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"43bc58daa8d35d5d515dc787ceb21dd77633fe49","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"cf2185a0ea170fd8450f592e859a6c941141e5ee","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"6ec8ea7b11a146777b6b8da0f71f0cc1dbd129df","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"ee7528900578ef4753effe05b346381c40de5499","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"10e9bb3392826a5a8f4cabfc14c6d81645f33fe6","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"34935b40237c074be5f5e8818c14ccfd802b7439","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1544344296949},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1544344296965},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"a5e3e6b4b4b814a9fe40b34d784fed67d6d977fa","modified":1544344296965},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"76937db9702053d772f6758d9cea4088c2a6e2a3","modified":1544344296965},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"1c18c91ab3c60169ebe654c80c968fd8458786a3","modified":1544344296965},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1544344296980},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1544344296980},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1544344297027},{"_id":"source/_posts/tcpdump-arp.md","hash":"9088487df5acf2a2de836f4fa0f69350a8cfdf7c","modified":1572751511618},{"_id":"source/img/avator/jiayouya.jpg","hash":"b03675934b01a0a6a60f27565ca12856b93b44fb","modified":1572751929934}],"Category":[{"name":"C","_id":"ck2ifan1i0004zkgvegxm6a1x"},{"name":"PHP","_id":"ck2ifan1n000azkgvolwg40od"},{"name":"computer","_id":"ck2ifan1s000gzkgvu3x4fkqt"},{"name":"DevOps","_id":"ck2ifan23000xzkgvj5mbr8s2"},{"name":"","_id":"ck2ifan2c001dzkgv3glibwj7"},{"name":"LINUX","_id":"ck2ifan2r001zzkgvsy35e91r"},{"name":"node","_id":"ck2ifan2z0028zkgv60tc9gmy"},{"name":"REDIS","_id":"ck2ifan32002gzkgvptagr72s"},{"name":"kafka","_id":"ck2ifan4v0059zkgvqygbx4e2"},{"name":"NETWORK","_id":"ck2ifidd900044ggv157d4ctj"}],"Data":[],"Page":[{"title":"","date":"2016-11-04T10:41:25.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: \ndate: 2016-11-04 18:41:25\ntype: \"categories\"\ncomments: false\n---\n","updated":"2018-12-09T08:31:36.371Z","path":"categories/index.html","layout":"page","_id":"ck2ifan1e0001zkgvt4gk3dxx","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2016-11-04T10:40:09.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2016-11-04 18:40:09\ntype: \"tags\"\ncomments: false\n---\n","updated":"2018-12-09T08:31:36.418Z","path":"tags/index.html","layout":"page","_id":"ck2ifan1g0003zkgv0owtpd0y","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"Hi~","date":"2016-11-04T10:35:03.000Z","_content":"\n## <a href=\"https://segmentfault.com/blog/tongbo\" target=\"blank\"></a>\n####         Dear frinends :\n![fucktheking][1]\n\n\n\n\n[1]: /img/avator/jiayouya.jpg\n\n<h5 align=\"right\">Best wishes</h5>\n\n","source":"about/index.md","raw":"---\ntitle: Hi~\ndate: 2016-11-04 18:35:03\n---\n\n## <a href=\"https://segmentfault.com/blog/tongbo\" target=\"blank\"></a>\n####         Dear frinends :\n![fucktheking][1]\n\n\n\n\n[1]: /img/avator/jiayouya.jpg\n\n<h5 align=\"right\">Best wishes</h5>\n\n","updated":"2019-11-03T03:39:10.822Z","path":"about/index.html","_id":"ck2ifan1l0007zkgvf6m3ueai","comments":1,"layout":"page","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"https://segmentfault.com/blog/tongbo\" target=\"blank\"></a></h2><h4 id=\"Dear-frinends\"><a href=\"#Dear-frinends\" class=\"headerlink\" title=\"Dear frinends :\"></a>Dear frinends :</h4><p><img src=\"/img/avator/jiayouya.jpg\" alt=\"fucktheking\"></p>\n<h5 align=\"right\">Best wishes</h5>\n\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"https://segmentfault.com/blog/tongbo\" target=\"blank\"></a></h2><h4 id=\"Dear-frinends\"><a href=\"#Dear-frinends\" class=\"headerlink\" title=\"Dear frinends :\"></a>Dear frinends :</h4><p><img src=\"/img/avator/jiayouya.jpg\" alt=\"fucktheking\"></p>\n<h5 align=\"right\">Best wishes</h5>\n\n"}],"Post":[{"title":"","date":"2016-11-04T13:12:03.000Z","_content":"\n\n\ntcpip\n <!-- more -->\n\n8bit3264cpu\n\nc324*8bit648*8bit\n\n-----------------------  0xffffffff\n\n\n\n-----------------------\n\nNULL ()\n-----------------------\n\n-----------------------\n \n----------------------- \n\n-----------------------\n ()\n-----------------------  0x00000000\n\n\n\n  +  \n\n\n\n\na-b  b -b \n\n\n0x01 0x02\n1234567812345678\n\n0x011234\n\n{% codeblock lang:c %}\n#include <stdio.h>\n\nint main(){\n\n\n  int num=0x12345678;\n\n  char *pnum = (char *)&num;\n\n  printf(\" sizeof pnum is %i\\n\",sizeof(pnum));\n\n  printf(\"first %p,value is %x\\n\",pnum,pnum[0]);\n\n  printf(\"second %p,value is %x\\n\",pnum+1,pnum[1]);\n  printf(\"third %p,value is %x\\n\",pnum+2,pnum[2]);\n  printf(\"fourth %p,value is %x\\n\",pnum+3,pnum[3]);\n\n\n}\n{% endcodeblock %}\n\n\n78\n\n\n```\nsizeof pnum is 4\nfirst 1703740,value is 78\nsecond 1703741,value is 56\nthird 1703742,value is 34\nfourth 1703743,value is 12\nPress any key to continue\n```\n\nphpPACK/unpack:\n\n\n```\n<?php\n\n\ndefine('BIG_ENDIAN', pack('L', 1) === pack('N', 1));\n\nif (BIG_ENDIAN)\n{\n  echo \"\";\n}\nelse\n{\n  echo \"\";\n}\n```\n","source":"_posts/big_small_binary.md","raw":"---\ntitle: \ndate: 2016-11-04 21:12:03\ncategories: C\ntags:\n- \n---\n\n\n\ntcpip\n <!-- more -->\n\n8bit3264cpu\n\nc324*8bit648*8bit\n\n-----------------------  0xffffffff\n\n\n\n-----------------------\n\nNULL ()\n-----------------------\n\n-----------------------\n \n----------------------- \n\n-----------------------\n ()\n-----------------------  0x00000000\n\n\n\n  +  \n\n\n\n\na-b  b -b \n\n\n0x01 0x02\n1234567812345678\n\n0x011234\n\n{% codeblock lang:c %}\n#include <stdio.h>\n\nint main(){\n\n\n  int num=0x12345678;\n\n  char *pnum = (char *)&num;\n\n  printf(\" sizeof pnum is %i\\n\",sizeof(pnum));\n\n  printf(\"first %p,value is %x\\n\",pnum,pnum[0]);\n\n  printf(\"second %p,value is %x\\n\",pnum+1,pnum[1]);\n  printf(\"third %p,value is %x\\n\",pnum+2,pnum[2]);\n  printf(\"fourth %p,value is %x\\n\",pnum+3,pnum[3]);\n\n\n}\n{% endcodeblock %}\n\n\n78\n\n\n```\nsizeof pnum is 4\nfirst 1703740,value is 78\nsecond 1703741,value is 56\nthird 1703742,value is 34\nfourth 1703743,value is 12\nPress any key to continue\n```\n\nphpPACK/unpack:\n\n\n```\n<?php\n\n\ndefine('BIG_ENDIAN', pack('L', 1) === pack('N', 1));\n\nif (BIG_ENDIAN)\n{\n  echo \"\";\n}\nelse\n{\n  echo \"\";\n}\n```\n","slug":"big_small_binary","published":1,"updated":"2018-12-09T08:31:36.340Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan160000zkgvn358ngwr","content":"<p><br><br>tcpip<br> <a id=\"more\"></a></p>\n<p>8bit3264cpu</p>\n<p>c324<em>8bit648</em>8bit</p>\n<p>  0xffffffff<br><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"NULL-\"><a href=\"#NULL-\" class=\"headerlink\" title=\"NULL ()\"></a>NULL ()</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <br> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ()<br>  0x00000000</p>\n<p><br>  +  </p>\n<p></p>\n<p>a-b  b -b </p>\n<p>0x01 0x02<br>1234567812345678</p>\n<p>0x011234</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">int</span> num=<span class=\"number\">0x12345678</span>;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">char</span> *pnum = (<span class=\"keyword\">char</span> *)&amp;num;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\" sizeof pnum is %i\\n\"</span>,<span class=\"keyword\">sizeof</span>(pnum));</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"first %p,value is %x\\n\"</span>,pnum,pnum[<span class=\"number\">0</span>]);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"second %p,value is %x\\n\"</span>,pnum+<span class=\"number\">1</span>,pnum[<span class=\"number\">1</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"third %p,value is %x\\n\"</span>,pnum+<span class=\"number\">2</span>,pnum[<span class=\"number\">2</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"fourth %p,value is %x\\n\"</span>,pnum+<span class=\"number\">3</span>,pnum[<span class=\"number\">3</span>]);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>78</p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">sizeof pnum is 4</div><div class=\"line\">first 1703740,value is 78</div><div class=\"line\">second 1703741,value is 56</div><div class=\"line\">third 1703742,value is 34</div><div class=\"line\">fourth 1703743,value is 12</div><div class=\"line\">Press any key to continue</div></pre></td></tr></table></figure></p>\n<p>phpPACK/unpack:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?php</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">define(&apos;BIG_ENDIAN&apos;, pack(&apos;L&apos;, 1) === pack(&apos;N&apos;, 1));</div><div class=\"line\"></div><div class=\"line\">if (BIG_ENDIAN)</div><div class=\"line\">&#123;</div><div class=\"line\">  echo &quot;&quot;;</div><div class=\"line\">&#125;</div><div class=\"line\">else</div><div class=\"line\">&#123;</div><div class=\"line\">  echo &quot;&quot;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p><br><br>tcpip<br>","more":"</p>\n<p>8bit3264cpu</p>\n<p>c324<em>8bit648</em>8bit</p>\n<p>  0xffffffff<br><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"NULL-\"><a href=\"#NULL-\" class=\"headerlink\" title=\"NULL ()\"></a>NULL ()</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <br> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ()<br>  0x00000000</p>\n<p><br>  +  </p>\n<p></p>\n<p>a-b  b -b </p>\n<p>0x01 0x02<br>1234567812345678</p>\n<p>0x011234</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">int</span> num=<span class=\"number\">0x12345678</span>;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">char</span> *pnum = (<span class=\"keyword\">char</span> *)&amp;num;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\" sizeof pnum is %i\\n\"</span>,<span class=\"keyword\">sizeof</span>(pnum));</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"first %p,value is %x\\n\"</span>,pnum,pnum[<span class=\"number\">0</span>]);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"second %p,value is %x\\n\"</span>,pnum+<span class=\"number\">1</span>,pnum[<span class=\"number\">1</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"third %p,value is %x\\n\"</span>,pnum+<span class=\"number\">2</span>,pnum[<span class=\"number\">2</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"fourth %p,value is %x\\n\"</span>,pnum+<span class=\"number\">3</span>,pnum[<span class=\"number\">3</span>]);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>78</p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">sizeof pnum is 4</div><div class=\"line\">first 1703740,value is 78</div><div class=\"line\">second 1703741,value is 56</div><div class=\"line\">third 1703742,value is 34</div><div class=\"line\">fourth 1703743,value is 12</div><div class=\"line\">Press any key to continue</div></pre></td></tr></table></figure></p>\n<p>phpPACK/unpack:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?php</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">define(&apos;BIG_ENDIAN&apos;, pack(&apos;L&apos;, 1) === pack(&apos;N&apos;, 1));</div><div class=\"line\"></div><div class=\"line\">if (BIG_ENDIAN)</div><div class=\"line\">&#123;</div><div class=\"line\">  echo &quot;&quot;;</div><div class=\"line\">&#125;</div><div class=\"line\">else</div><div class=\"line\">&#123;</div><div class=\"line\">  echo &quot;&quot;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"},{"title":"PHP_APP_RSA_AES","date":"2016-11-18T05:39:22.000Z","_content":"\n## app##\n\n##  ##\n\n1. `lib_aes.php` aes\n2. `server_rsa_crypt.php` RSA\n3. `client_rsa_crypt.php` RSA\n\n <!-- more -->\n\n,exapmle\n\n- -`service_client_exchange.php`\n- :- `client_generate_aeskey.php`\n\n- \n   -`service_decrypt_client_001.php`\n\n- ..-`client_decrypt_server.php`\n\n[][1]\n----\n\nAnd So on...\n\n\n  [1]: https://github.com/tuber/PHP_APP_RSA_AES\n\n\n","source":"_posts/PHP-APP-RSA-AES.md","raw":"---\ntitle: PHP_APP_RSA_AES\ndate: 2016-11-18 13:39:22\ncategories: PHP\ntags:\n - RSA\n - AES\n - \n---\n\n## app##\n\n##  ##\n\n1. `lib_aes.php` aes\n2. `server_rsa_crypt.php` RSA\n3. `client_rsa_crypt.php` RSA\n\n <!-- more -->\n\n,exapmle\n\n- -`service_client_exchange.php`\n- :- `client_generate_aeskey.php`\n\n- \n   -`service_decrypt_client_001.php`\n\n- ..-`client_decrypt_server.php`\n\n[][1]\n----\n\nAnd So on...\n\n\n  [1]: https://github.com/tuber/PHP_APP_RSA_AES\n\n\n","slug":"PHP-APP-RSA-AES","published":1,"updated":"2018-12-09T08:31:36.340Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan1f0002zkgv1j3ra0dm","content":"<h2 id=\"app\"><a href=\"#app\" class=\"headerlink\" title=\"app\"></a>app</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li><code>lib_aes.php</code> aes</li>\n<li><code>server_rsa_crypt.php</code> RSA</li>\n<li><p><code>client_rsa_crypt.php</code> RSA</p>\n<a id=\"more\"></a>\n</li>\n</ol>\n<p>,exapmle</p>\n<ul>\n<li>-<code>service_client_exchange.php</code></li>\n<li><p>:- <code>client_generate_aeskey.php</code></p>\n</li>\n<li><p><br> -<code>service_decrypt_client_001.php</code></p>\n</li>\n<li><p>..-<code>client_decrypt_server.php</code></p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"https://github.com/tuber/PHP_APP_RSA_AES\" target=\"_blank\" rel=\"external\"></a></h2><p>And So on</p>\n","site":{"data":{}},"excerpt":"<h2 id=\"app\"><a href=\"#app\" class=\"headerlink\" title=\"app\"></a>app</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li><code>lib_aes.php</code> aes</li>\n<li><code>server_rsa_crypt.php</code> RSA</li>\n<li><p><code>client_rsa_crypt.php</code> RSA</p>","more":"</li>\n</ol>\n<p>,exapmle</p>\n<ul>\n<li>-<code>service_client_exchange.php</code></li>\n<li><p>:- <code>client_generate_aeskey.php</code></p>\n</li>\n<li><p><br> -<code>service_decrypt_client_001.php</code></p>\n</li>\n<li><p>..-<code>client_decrypt_server.php</code></p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"https://github.com/tuber/PHP_APP_RSA_AES\"></a></h2><p>And So on</p>"},{"title":"CS","date":"2017-11-04T13:12:03.000Z","_content":"\nCS\n\n### \n#### \n#### \n#### \n#### \n#### \n\n<!-- more -->\n\n### \n#### \n#### \n#### \n#### \n#### \n#### \n\n\n### \n#### \n#### \n#### \n#### \n#### \n#### \n##### \n##### \n##### \n##### \n\n\n\n\n","source":"_posts/computer-science-summary.md","raw":"######\ntitle: CS\ndate: 2017##11##04 21:12:03\ncategories: computer\ntags:\n- \n\n---\n\nCS\n\n### \n#### \n#### \n#### \n#### \n#### \n\n<!-- more -->\n\n### \n#### \n#### \n#### \n#### \n#### \n#### \n\n\n### \n#### \n#### \n#### \n#### \n#### \n#### \n##### \n##### \n##### \n##### \n\n\n\n\n","slug":"computer-science-summary","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan1k0006zkgvbdvz0ic6","content":"<p>CS</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5>","site":{"data":{}},"excerpt":"<p>CS</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5>"},{"title":"CIapi","date":"2017-01-20T06:18:59.000Z","_content":"\n\n---\n**-1**\n\n![][1]\n\n**-2**\n\n<!-- more -->\n\n![][2]\n\n****\n\n![][3]\n\n\n[phalapi][4]\n------------------\n\n\n----\n1. ci`Controller/doc.php`,`views/doc/*`\n2. `Controller/doc.php`Controller\n3. `doc.php`\n\n\n[GITHUB][5]\n\n\n  [1]: /img/php/api-doc-1.jpg\n  [2]: /img/php/api-doc-2.jpg\n  [3]: /img/php/api-doc-3.jpg\n  [4]: http://www.phalapi.net/\n  [5]: https://github.com/tuber/apidoc\n","source":"_posts/code-igniter-apidoc.md","raw":"---\ntitle: CIapi\ndate: 2017-01-20 14:18:59\ncategories: PHP\ntags:\n - PHP\n - CI\n - \n---\n\n\n---\n**-1**\n\n![][1]\n\n**-2**\n\n<!-- more -->\n\n![][2]\n\n****\n\n![][3]\n\n\n[phalapi][4]\n------------------\n\n\n----\n1. ci`Controller/doc.php`,`views/doc/*`\n2. `Controller/doc.php`Controller\n3. `doc.php`\n\n\n[GITHUB][5]\n\n\n  [1]: /img/php/api-doc-1.jpg\n  [2]: /img/php/api-doc-2.jpg\n  [3]: /img/php/api-doc-3.jpg\n  [4]: http://www.phalapi.net/\n  [5]: https://github.com/tuber/apidoc\n","slug":"code-igniter-apidoc","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan1l0008zkgvoqsr3dsu","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>-1</strong></p>\n<p><img src=\"/img/php/api-doc-1.jpg\" alt=\"\"></p>\n<p><strong>-2</strong></p>\n<a id=\"more\"></a>\n<p><img src=\"/img/php/api-doc-2.jpg\" alt=\"\"></p>\n<p><strong></strong></p>\n<p><img src=\"/img/php/api-doc-3.jpg\" alt=\"\"></p>\n<h2 id=\"phalapi\"><a href=\"#phalapi\" class=\"headerlink\" title=\"phalapi\"></a><a href=\"http://www.phalapi.net/\" target=\"_blank\" rel=\"external\">phalapi</a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>ci<code>Controller/doc.php</code>,<code>views/doc/*</code></li>\n<li><code>Controller/doc.php</code>Controller</li>\n<li><code>doc.php</code></li>\n</ol>\n<p><a href=\"https://github.com/tuber/apidoc\" target=\"_blank\" rel=\"external\">GITHUB</a></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>-1</strong></p>\n<p><img src=\"/img/php/api-doc-1.jpg\" alt=\"\"></p>\n<p><strong>-2</strong></p>","more":"<p><img src=\"/img/php/api-doc-2.jpg\" alt=\"\"></p>\n<p><strong></strong></p>\n<p><img src=\"/img/php/api-doc-3.jpg\" alt=\"\"></p>\n<h2 id=\"phalapi\"><a href=\"#phalapi\" class=\"headerlink\" title=\"phalapi\"></a><a href=\"http://www.phalapi.net/\">phalapi</a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>ci<code>Controller/doc.php</code>,<code>views/doc/*</code></li>\n<li><code>Controller/doc.php</code>Controller</li>\n<li><code>doc.php</code></li>\n</ol>\n<p><a href=\"https://github.com/tuber/apidoc\">GITHUB</a></p>"},{"title":"","date":"2016-11-05T10:02:33.000Z","_content":"\n\n\n\n\n`AIDA64 Extreme`low\n--------------------------\n\n![][1]\n\n\n---------\n\n *WTF*?\n\n <!-- more -->\n\n\n\n-----\n![2][2]\n\n\n![3][3]\n\n \n\n![4][4]\n\n\n-----\n\n  -  head\n  -  track\n  -  cylinder\n  -  sector\n  -  platter\n\n\nlow\n----------\n\n     ()    \n\n `248085*63*16*512/1000/1000 = 128 035.67616M`\n\n 512Byte\n\n\n-----\n\n N\n\n \n\n sector  512Byte\n BLOCKKB4KB.4K\n\n 512\n\nlinux\n------------\n\n     root@lyh:~# fdisk -l\n     Disk /dev/xvda: 42.9 GB, 42949672960 bytes\n     255 heads, 63 sectors/track, 5221 cylinders, total 83886080 sectors\n\n  \n\n`heads*sectors*cylinders*512=255*63*5221*512/1000/1000/1000 = 42.94418688G`\n\n  [1]: /img/computer/cipan1.png\n  [2]: /img/computer/cipan2.gif\n  [3]: /img/computer/cipan3.gif\n  [4]: /img/computer/cipan4.png\n","source":"_posts/disk-basic.md","raw":"---\ntitle: \ndate: 2016-11-05 18:02:33\ncategories: computer\ntags:\n- \n- \n- \n\n---\n\n\n\n\n\n`AIDA64 Extreme`low\n--------------------------\n\n![][1]\n\n\n---------\n\n *WTF*?\n\n <!-- more -->\n\n\n\n-----\n![2][2]\n\n\n![3][3]\n\n \n\n![4][4]\n\n\n-----\n\n  -  head\n  -  track\n  -  cylinder\n  -  sector\n  -  platter\n\n\nlow\n----------\n\n     ()    \n\n `248085*63*16*512/1000/1000 = 128 035.67616M`\n\n 512Byte\n\n\n-----\n\n N\n\n \n\n sector  512Byte\n BLOCKKB4KB.4K\n\n 512\n\nlinux\n------------\n\n     root@lyh:~# fdisk -l\n     Disk /dev/xvda: 42.9 GB, 42949672960 bytes\n     255 heads, 63 sectors/track, 5221 cylinders, total 83886080 sectors\n\n  \n\n`heads*sectors*cylinders*512=255*63*5221*512/1000/1000/1000 = 42.94418688G`\n\n  [1]: /img/computer/cipan1.png\n  [2]: /img/computer/cipan2.gif\n  [3]: /img/computer/cipan3.gif\n  [4]: /img/computer/cipan4.png\n","slug":"disk-basic","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan1m0009zkgvhi97sksd","content":"<h2 id=\"AIDA64-Extremelow\"><a href=\"#AIDA64-Extremelow\" class=\"headerlink\" title=\"AIDA64 Extremelow\"></a><code>AIDA64 Extreme</code>low</h2><p><img src=\"/img/computer/cipan1.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <em>WTF</em>?</p>\n <a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/img/computer/cipan2.gif\" alt=\"2\"></p>\n<p><img src=\"/img/computer/cipan3.gif\" alt=\"3\"></p>\n<p> </p>\n<p><img src=\"/img/computer/cipan4.png\" alt=\"4\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>head</li>\n<li>track</li>\n<li>cylinder</li>\n<li>sector</li>\n<li>platter</li>\n</ul>\n<h2 id=\"low\"><a href=\"#low\" class=\"headerlink\" title=\"low\"></a>low</h2><p>     ()    </p>\n<p> <code>248085*63*16*512/1000/1000 = 128 035.67616M</code></p>\n<p> 512Byte</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> N</p>\n<p> </p>\n<p> sector  512Byte<br> BLOCKKB4KB.4K</p>\n<p> 512</p>\n<h2 id=\"linux\"><a href=\"#linux\" class=\"headerlink\" title=\"linux\"></a>linux</h2><pre><code>root@lyh:~# fdisk -l\nDisk /dev/xvda: 42.9 GB, 42949672960 bytes\n255 heads, 63 sectors/track, 5221 cylinders, total 83886080 sectors\n</code></pre><p>  </p>\n<p><code>heads*sectors*cylinders*512=255*63*5221*512/1000/1000/1000 = 42.94418688G</code></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"AIDA64-Extremelow\"><a href=\"#AIDA64-Extremelow\" class=\"headerlink\" title=\"AIDA64 Extremelow\"></a><code>AIDA64 Extreme</code>low</h2><p><img src=\"/img/computer/cipan1.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <em>WTF</em>?</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/img/computer/cipan2.gif\" alt=\"2\"></p>\n<p><img src=\"/img/computer/cipan3.gif\" alt=\"3\"></p>\n<p> </p>\n<p><img src=\"/img/computer/cipan4.png\" alt=\"4\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>head</li>\n<li>track</li>\n<li>cylinder</li>\n<li>sector</li>\n<li>platter</li>\n</ul>\n<h2 id=\"low\"><a href=\"#low\" class=\"headerlink\" title=\"low\"></a>low</h2><p>     ()    </p>\n<p> <code>248085*63*16*512/1000/1000 = 128 035.67616M</code></p>\n<p> 512Byte</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> N</p>\n<p> </p>\n<p> sector  512Byte<br> BLOCKKB4KB.4K</p>\n<p> 512</p>\n<h2 id=\"linux\"><a href=\"#linux\" class=\"headerlink\" title=\"linux\"></a>linux</h2><pre><code>root@lyh:~# fdisk -l\nDisk /dev/xvda: 42.9 GB, 42949672960 bytes\n255 heads, 63 sectors/track, 5221 cylinders, total 83886080 sectors\n</code></pre><p>  </p>\n<p><code>heads*sectors*cylinders*512=255*63*5221*512/1000/1000/1000 = 42.94418688G</code></p>"},{"title":"docker","date":"2018-07-25T15:17:33.000Z","_content":"1. install docker\n    - \n    - id.docker.com\n    - download win desktop:[win10](https://docs.docker.com/docker-for-windows/install/)& hyper-v\n    - mac decktop &kitematic :gui container\n    - windockerwinvirtualbox\n    - \n    <!-- more -->\n2. [vagrant](https://www.vagrantup.com/)\n    - vagrant init\n    - vagrant up\n    - vagrant destory\n    - vagrant destory\n    - vagrant file\n    - vagrant file cloud find[ ubuntu](https://app.vagrantup.com/ubuntu/boxes/trusty64)\n    - \n    - \n\n3. winvargantcentos7 \n    - ```\n       C:\\Users\\volvo>cd vagrant\n        \n        C:\\Users\\volvo\\vagrant>ls\n        'ls' \n        \n        \n        C:\\Users\\volvo\\vagrant>mkdir centos7\n        \n        C:\\Users\\volvo\\vagrant>cd centos7\n        \n        C:\\Users\\volvo\\vagrant\\centos7>vagrant init centos/7\n        C:\\Users\\volvo\\vagrant\\centos7>vagrant init centos/7\n        A `Vagrantfile` has been placed in this directory. You are now\n        ready to `vagrant up` your first virtual environment! Please read\n        the comments in the Vagrantfile as well as documentation on\n        `vagrantup.com` for more information on using Vagrant.\n        \n        C:\\Users\\volvo\\vagrant\\centos7>vagrant up\n        Bringing machine 'default' up with 'virtualbox' provider...\n        \n        vagrant ssh\n\n    ```\n    \n4. u2devdocker\n    1. https://www.runoob.com/docker/ubuntu-docker-install.html\n5. docker machinedocker\n6. docker clint & docker server & more docker driver\n7. `base=https://github.com/docker/machine/releases/download/v0.16.0 &&\n  curl -L $base/docker-machine-$(uname -s)-$(uname -m) >/tmp/docker-machine &&\n  sudo install /tmp/docker-machine /usr/local/bin/docker-machine`\n8. docker-machline-drivertcpunix sockddocker,driveraccess_key  access_id,regiondocker-machine ssh $docker_uanmedocker servereval\n9. docker playground https://labs.play-with-docker.com\n\n---\n","source":"_posts/docker-one-02.md","raw":"---\ntitle: docker\ndate: 2018-07-25 23:17:33\ncategories: DevOps\ntags:\n    - docker\n---\n1. install docker\n    - \n    - id.docker.com\n    - download win desktop:[win10](https://docs.docker.com/docker-for-windows/install/)& hyper-v\n    - mac decktop &kitematic :gui container\n    - windockerwinvirtualbox\n    - \n    <!-- more -->\n2. [vagrant](https://www.vagrantup.com/)\n    - vagrant init\n    - vagrant up\n    - vagrant destory\n    - vagrant destory\n    - vagrant file\n    - vagrant file cloud find[ ubuntu](https://app.vagrantup.com/ubuntu/boxes/trusty64)\n    - \n    - \n\n3. winvargantcentos7 \n    - ```\n       C:\\Users\\volvo>cd vagrant\n        \n        C:\\Users\\volvo\\vagrant>ls\n        'ls' \n        \n        \n        C:\\Users\\volvo\\vagrant>mkdir centos7\n        \n        C:\\Users\\volvo\\vagrant>cd centos7\n        \n        C:\\Users\\volvo\\vagrant\\centos7>vagrant init centos/7\n        C:\\Users\\volvo\\vagrant\\centos7>vagrant init centos/7\n        A `Vagrantfile` has been placed in this directory. You are now\n        ready to `vagrant up` your first virtual environment! Please read\n        the comments in the Vagrantfile as well as documentation on\n        `vagrantup.com` for more information on using Vagrant.\n        \n        C:\\Users\\volvo\\vagrant\\centos7>vagrant up\n        Bringing machine 'default' up with 'virtualbox' provider...\n        \n        vagrant ssh\n\n    ```\n    \n4. u2devdocker\n    1. https://www.runoob.com/docker/ubuntu-docker-install.html\n5. docker machinedocker\n6. docker clint & docker server & more docker driver\n7. `base=https://github.com/docker/machine/releases/download/v0.16.0 &&\n  curl -L $base/docker-machine-$(uname -s)-$(uname -m) >/tmp/docker-machine &&\n  sudo install /tmp/docker-machine /usr/local/bin/docker-machine`\n8. docker-machline-drivertcpunix sockddocker,driveraccess_key  access_id,regiondocker-machine ssh $docker_uanmedocker servereval\n9. docker playground https://labs.play-with-docker.com\n\n---\n","slug":"docker-one-02","published":1,"updated":"2019-06-23T15:48:00.585Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan1p000dzkgvsrkqluzd","content":"<ol>\n<li>install docker<ul>\n<li></li>\n<li>id.docker.com</li>\n<li>download win desktop:<a href=\"https://docs.docker.com/docker-for-windows/install/\" target=\"_blank\" rel=\"external\">win10</a>&amp; hyper-v</li>\n<li>mac decktop &amp;kitematic :gui container</li>\n<li>windockerwinvirtualbox</li>\n<li><a id=\"more\"></a></li>\n</ul>\n</li>\n<li><p><a href=\"https://www.vagrantup.com/\" target=\"_blank\" rel=\"external\">vagrant</a></p>\n<ul>\n<li>vagrant init</li>\n<li>vagrant up</li>\n<li>vagrant destory</li>\n<li>vagrant destory</li>\n<li>vagrant file</li>\n<li>vagrant file cloud find<a href=\"https://app.vagrantup.com/ubuntu/boxes/trusty64\" target=\"_blank\" rel=\"external\"> ubuntu</a></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p>winvargantcentos7 </p>\n<ul>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">C:\\Users\\volvo&gt;cd vagrant</div><div class=\"line\"> </div><div class=\"line\"> C:\\Users\\volvo\\vagrant&gt;ls</div><div class=\"line\"> &apos;ls&apos; </div><div class=\"line\"> </div><div class=\"line\"> </div><div class=\"line\"> C:\\Users\\volvo\\vagrant&gt;mkdir centos7</div><div class=\"line\"> </div><div class=\"line\"> C:\\Users\\volvo\\vagrant&gt;cd centos7</div><div class=\"line\"> </div><div class=\"line\"> C:\\Users\\volvo\\vagrant\\centos7&gt;vagrant init centos/7</div><div class=\"line\"> C:\\Users\\volvo\\vagrant\\centos7&gt;vagrant init centos/7</div><div class=\"line\"> A `Vagrantfile` has been placed in this directory. You are now</div><div class=\"line\"> ready to `vagrant up` your first virtual environment! Please read</div><div class=\"line\"> the comments in the Vagrantfile as well as documentation on</div><div class=\"line\"> `vagrantup.com` for more information on using Vagrant.</div><div class=\"line\"> </div><div class=\"line\"> C:\\Users\\volvo\\vagrant\\centos7&gt;vagrant up</div><div class=\"line\"> Bringing machine &apos;default&apos; up with &apos;virtualbox&apos; provider...</div><div class=\"line\"> </div><div class=\"line\"> vagrant ssh</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ol>\n<ol>\n<li>u2devdocker<ol>\n<li><a href=\"https://www.runoob.com/docker/ubuntu-docker-install.html\" target=\"_blank\" rel=\"external\">https://www.runoob.com/docker/ubuntu-docker-install.html</a></li>\n</ol>\n</li>\n<li>docker machinedocker</li>\n<li>docker clint &amp; docker server &amp; more docker driver</li>\n<li><code>base=https://github.com/docker/machine/releases/download/v0.16.0 &amp;&amp;\ncurl -L $base/docker-machine-$(uname -s)-$(uname -m) &gt;/tmp/docker-machine &amp;&amp;\nsudo install /tmp/docker-machine /usr/local/bin/docker-machine</code></li>\n<li>docker-machline-drivertcpunix sockddocker,driveraccess_key  access_id,regiondocker-machine ssh $docker_uanmedocker servereval</li>\n<li>docker playground <a href=\"https://labs.play-with-docker.com\" target=\"_blank\" rel=\"external\">https://labs.play-with-docker.com</a></li>\n</ol>\n<hr>\n<p></p>\n","site":{"data":{}},"excerpt":"<ol>\n<li>install docker<ul>\n<li></li>\n<li>id.docker.com</li>\n<li>download win desktop:<a href=\"https://docs.docker.com/docker-for-windows/install/\">win10</a>&amp; hyper-v</li>\n<li>mac decktop &amp;kitematic :gui container</li>\n<li>windockerwinvirtualbox</li>\n<li>","more":"</li>\n</ul>\n</li>\n<li><p><a href=\"https://www.vagrantup.com/\">vagrant</a></p>\n<ul>\n<li>vagrant init</li>\n<li>vagrant up</li>\n<li>vagrant destory</li>\n<li>vagrant destory</li>\n<li>vagrant file</li>\n<li>vagrant file cloud find<a href=\"https://app.vagrantup.com/ubuntu/boxes/trusty64\"> ubuntu</a></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p>winvargantcentos7 </p>\n<ul>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">C:\\Users\\volvo&gt;cd vagrant</div><div class=\"line\"> </div><div class=\"line\"> C:\\Users\\volvo\\vagrant&gt;ls</div><div class=\"line\"> &apos;ls&apos; </div><div class=\"line\"> </div><div class=\"line\"> </div><div class=\"line\"> C:\\Users\\volvo\\vagrant&gt;mkdir centos7</div><div class=\"line\"> </div><div class=\"line\"> C:\\Users\\volvo\\vagrant&gt;cd centos7</div><div class=\"line\"> </div><div class=\"line\"> C:\\Users\\volvo\\vagrant\\centos7&gt;vagrant init centos/7</div><div class=\"line\"> C:\\Users\\volvo\\vagrant\\centos7&gt;vagrant init centos/7</div><div class=\"line\"> A `Vagrantfile` has been placed in this directory. You are now</div><div class=\"line\"> ready to `vagrant up` your first virtual environment! Please read</div><div class=\"line\"> the comments in the Vagrantfile as well as documentation on</div><div class=\"line\"> `vagrantup.com` for more information on using Vagrant.</div><div class=\"line\"> </div><div class=\"line\"> C:\\Users\\volvo\\vagrant\\centos7&gt;vagrant up</div><div class=\"line\"> Bringing machine &apos;default&apos; up with &apos;virtualbox&apos; provider...</div><div class=\"line\"> </div><div class=\"line\"> vagrant ssh</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ol>\n<ol>\n<li>u2devdocker<ol>\n<li><a href=\"https://www.runoob.com/docker/ubuntu-docker-install.html\">https://www.runoob.com/docker/ubuntu-docker-install.html</a></li>\n</ol>\n</li>\n<li>docker machinedocker</li>\n<li>docker clint &amp; docker server &amp; more docker driver</li>\n<li><code>base=https://github.com/docker/machine/releases/download/v0.16.0 &amp;&amp;\ncurl -L $base/docker-machine-$(uname -s)-$(uname -m) &gt;/tmp/docker-machine &amp;&amp;\nsudo install /tmp/docker-machine /usr/local/bin/docker-machine</code></li>\n<li>docker-machline-drivertcpunix sockddocker,driveraccess_key  access_id,regiondocker-machine ssh $docker_uanmedocker servereval</li>\n<li>docker playground <a href=\"https://labs.play-with-docker.com\">https://labs.play-with-docker.com</a></li>\n</ol>\n<hr>\n<p></p>"},{"title":"docker","date":"2018-06-29T15:07:56.000Z","_content":"1. docker\n2. docker\n    - \n    - \n    - \n3. \n<!-- more -->\n    - docker and docker swarm\n    - docker cloud & docker \n    - kubernetes k8s\n    - ![image](https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/9D2642E1E9974559BF725E7541BEDAB5?ynotemdtimestamp=1561302581281)\n4. devops\n    - ++\n    - \n        - \n        - \n        - \n        - \n        - \n    - \n        - \n        - \n        - \n    - \n5. \n    -  ![image](https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/6FE5AB8ECDBD4169AE3697C6C2A3D2D0?ynotemdtimestamp=1561302581281)\n\n---\n1.  \n    -  \n    -  hypervisor\n    - \n    - ![image](https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/A7D6A7D755DF4CE8AB2339D14C613F30?ynotemdtimestamp=1561302581281)\n    - \n    - ![image](https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/B45983FD363F460FA6C00FC6F37197CF?ynotemdtimestamp=1561302934925)\n    - \n        - \n        - \n        - os\n    - \n        - appbase os on docker\n        - \n        - \n\n---\n1. dockerwordpress\n    - \n    - build\n    - \n    - dockder compose up\n\n---\n1. vagrant\n2. labs\n\n---\n\n    \n\n","source":"_posts/docker-one-01.md","raw":"---\ntitle: docker\ndate: 2018-06-29 23:07:56\ncategories: DevOps\ntags:\n---\n1. docker\n2. docker\n    - \n    - \n    - \n3. \n<!-- more -->\n    - docker and docker swarm\n    - docker cloud & docker \n    - kubernetes k8s\n    - ![image](https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/9D2642E1E9974559BF725E7541BEDAB5?ynotemdtimestamp=1561302581281)\n4. devops\n    - ++\n    - \n        - \n        - \n        - \n        - \n        - \n    - \n        - \n        - \n        - \n    - \n5. \n    -  ![image](https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/6FE5AB8ECDBD4169AE3697C6C2A3D2D0?ynotemdtimestamp=1561302581281)\n\n---\n1.  \n    -  \n    -  hypervisor\n    - \n    - ![image](https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/A7D6A7D755DF4CE8AB2339D14C613F30?ynotemdtimestamp=1561302581281)\n    - \n    - ![image](https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/B45983FD363F460FA6C00FC6F37197CF?ynotemdtimestamp=1561302934925)\n    - \n        - \n        - \n        - os\n    - \n        - appbase os on docker\n        - \n        - \n\n---\n1. dockerwordpress\n    - \n    - build\n    - \n    - dockder compose up\n\n---\n1. vagrant\n2. labs\n\n---\n\n    \n\n","slug":"docker-one-01","published":1,"updated":"2019-06-23T15:48:07.920Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan1r000fzkgvy6fc83qh","content":"<ol>\n<li>docker</li>\n<li>docker<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><a id=\"more\"></a>\n<ul>\n<li>docker and docker swarm</li>\n<li>docker cloud &amp; docker </li>\n<li>kubernetes k8s</li>\n<li><img src=\"https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/9D2642E1E9974559BF725E7541BEDAB5?ynotemdtimestamp=1561302581281\" alt=\"image\"></li>\n</ul>\n</li>\n<li>devops<ul>\n<li>++</li>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li><img src=\"https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/6FE5AB8ECDBD4169AE3697C6C2A3D2D0?ynotemdtimestamp=1561302581281\" alt=\"image\"></li>\n</ul>\n</li>\n</ol>\n<hr>\n<ol>\n<li><ul>\n<li> </li>\n<li> hypervisor</li>\n<li></li>\n<li><img src=\"https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/A7D6A7D755DF4CE8AB2339D14C613F30?ynotemdtimestamp=1561302581281\" alt=\"image\"></li>\n<li></li>\n<li><img src=\"https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/B45983FD363F460FA6C00FC6F37197CF?ynotemdtimestamp=1561302934925\" alt=\"image\"></li>\n<li><ul>\n<li></li>\n<li></li>\n<li>os</li>\n</ul>\n</li>\n<li><ul>\n<li>appbase os on docker</li>\n<li></li>\n<li></li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<hr>\n<ol>\n<li>dockerwordpress<ul>\n<li></li>\n<li>build</li>\n<li></li>\n<li>dockder compose up</li>\n</ul>\n</li>\n</ol>\n<hr>\n<ol>\n<li>vagrant</li>\n<li>labs</li>\n</ol>\n<hr>\n<p></p>\n","site":{"data":{}},"excerpt":"<ol>\n<li>docker</li>\n<li>docker<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li>","more":"<ul>\n<li>docker and docker swarm</li>\n<li>docker cloud &amp; docker </li>\n<li>kubernetes k8s</li>\n<li><img src=\"https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/9D2642E1E9974559BF725E7541BEDAB5?ynotemdtimestamp=1561302581281\" alt=\"image\"></li>\n</ul>\n</li>\n<li>devops<ul>\n<li>++</li>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li><img src=\"https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/6FE5AB8ECDBD4169AE3697C6C2A3D2D0?ynotemdtimestamp=1561302581281\" alt=\"image\"></li>\n</ul>\n</li>\n</ol>\n<hr>\n<ol>\n<li><ul>\n<li> </li>\n<li> hypervisor</li>\n<li></li>\n<li><img src=\"https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/A7D6A7D755DF4CE8AB2339D14C613F30?ynotemdtimestamp=1561302581281\" alt=\"image\"></li>\n<li></li>\n<li><img src=\"https://note.youdao.com/yws/public/resource/9b29555102c38022c7779af947ee67c2/B45983FD363F460FA6C00FC6F37197CF?ynotemdtimestamp=1561302934925\" alt=\"image\"></li>\n<li><ul>\n<li></li>\n<li></li>\n<li>os</li>\n</ul>\n</li>\n<li><ul>\n<li>appbase os on docker</li>\n<li></li>\n<li></li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<hr>\n<ol>\n<li>dockerwordpress<ul>\n<li></li>\n<li>build</li>\n<li></li>\n<li>dockder compose up</li>\n</ul>\n</li>\n</ol>\n<hr>\n<ol>\n<li>vagrant</li>\n<li>labs</li>\n</ol>\n<hr>\n<p></p>"},{"title":"+1+1","date":"2017-11-04T13:12:03.000Z","_content":"\n\n\n## +1\n\n{% codeblock lang:c %}\n#include <stdio.h>\n\nint main(){\n\n  char mystr[]=\"Abcef\";\n  printf(\"size of mystr=%i\\n\",sizeof(mystr));\n\n  printf(\"mystr[0]%c:\\n\",mystr[0]);\n  printf(\"&mystr[0]%i:\\n\",&mystr);\n\n  printf(\"mystr[1]%c:\\n\",mystr[1]);\n  printf(\"&mystr[1]%i:\\n\",&mystr+1);\n\n  printf(\"mystr[2]%c:\\n\",mystr[2]);\n  printf(\"&mystr[2]%i:\\n\",&mystr+2);\n\n  printf(\"mystr[3]%c:\\n\",mystr[3]);\n  printf(\"&mystr[3]%i:\\n\",&mystr+3);\n\n  return 0;\n}\n{% endcodeblock %}\n <!-- more -->\n\n## +1 \n\n```\nsize of mystr=6\nmystr[0]A:\n&mystr[0]1703736:\nmystr[1]b:\n&mystr[1]1703742:\nmystr[2]c:\n&mystr[2]1703748:\nmystr[3]e:\n&mystr[3]1703754:\nPress any key to continue\n```\n\n## +1\n\n{% codeblock lang:c %}\n\n#include <stdio.h>\n\nint main(){\n  char *mystr=\"ABC\";\n  printf(\"size of mystr=%i\\n\",sizeof(mystr));\n  printf(\"mystr[0]%c:\\n\",mystr[0]);\n  printf(\"&mystr[0]%i:\\n\",&mystr);\n  printf(\"mystr[1]%c:\\n\",mystr[1]);\n  printf(\"&mystr[1]%i:\\n\",&mystr+1);\n  printf(\"mystr[2]%c:\\n\",mystr[2]);\n  printf(\"&mystr[2]%i:\\n\",&mystr+2);\n  printf(\"mystr[3]%c:\\n\",mystr[3]);\n  printf(\"&mystr[3]%i:\\n\",&mystr+3);\n  return 0;\n}\n{% endcodeblock %}\n## +1 \n```\nsize of mystr=4\nmystr[0]A:\n&mystr[0]1703740:\nmystr[1]B:\n&mystr[1]1703744:\nmystr[2]C:\n&mystr[2]1703748:\nmystr[3]\n```\n## \n+1+1\n+1sizeof+1\n","source":"_posts/head_first_c_.md","raw":"---\ntitle: +1+1\ndate: 2017-11-04 21:12:03\ncategories: C\ntags:\n- \n---\n\n\n\n## +1\n\n{% codeblock lang:c %}\n#include <stdio.h>\n\nint main(){\n\n  char mystr[]=\"Abcef\";\n  printf(\"size of mystr=%i\\n\",sizeof(mystr));\n\n  printf(\"mystr[0]%c:\\n\",mystr[0]);\n  printf(\"&mystr[0]%i:\\n\",&mystr);\n\n  printf(\"mystr[1]%c:\\n\",mystr[1]);\n  printf(\"&mystr[1]%i:\\n\",&mystr+1);\n\n  printf(\"mystr[2]%c:\\n\",mystr[2]);\n  printf(\"&mystr[2]%i:\\n\",&mystr+2);\n\n  printf(\"mystr[3]%c:\\n\",mystr[3]);\n  printf(\"&mystr[3]%i:\\n\",&mystr+3);\n\n  return 0;\n}\n{% endcodeblock %}\n <!-- more -->\n\n## +1 \n\n```\nsize of mystr=6\nmystr[0]A:\n&mystr[0]1703736:\nmystr[1]b:\n&mystr[1]1703742:\nmystr[2]c:\n&mystr[2]1703748:\nmystr[3]e:\n&mystr[3]1703754:\nPress any key to continue\n```\n\n## +1\n\n{% codeblock lang:c %}\n\n#include <stdio.h>\n\nint main(){\n  char *mystr=\"ABC\";\n  printf(\"size of mystr=%i\\n\",sizeof(mystr));\n  printf(\"mystr[0]%c:\\n\",mystr[0]);\n  printf(\"&mystr[0]%i:\\n\",&mystr);\n  printf(\"mystr[1]%c:\\n\",mystr[1]);\n  printf(\"&mystr[1]%i:\\n\",&mystr+1);\n  printf(\"mystr[2]%c:\\n\",mystr[2]);\n  printf(\"&mystr[2]%i:\\n\",&mystr+2);\n  printf(\"mystr[3]%c:\\n\",mystr[3]);\n  printf(\"&mystr[3]%i:\\n\",&mystr+3);\n  return 0;\n}\n{% endcodeblock %}\n## +1 \n```\nsize of mystr=4\nmystr[0]A:\n&mystr[0]1703740:\nmystr[1]B:\n&mystr[1]1703744:\nmystr[2]C:\n&mystr[2]1703748:\nmystr[3]\n```\n## \n+1+1\n+1sizeof+1\n","slug":"head_first_c_","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan1t000izkgv5zoqms7a","content":"<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"+1\"></a>+1</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">char</span> mystr[]=<span class=\"string\">\"Abcef\"</span>;</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"size of mystr=%i\\n\"</span>,<span class=\"keyword\">sizeof</span>(mystr));</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[0]%c:\\n\"</span>,mystr[<span class=\"number\">0</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[0]%i:\\n\"</span>,&amp;mystr);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[1]%c:\\n\"</span>,mystr[<span class=\"number\">1</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[1]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">1</span>);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[2]%c:\\n\"</span>,mystr[<span class=\"number\">2</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[2]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">2</span>);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[3]%c:\\n\"</span>,mystr[<span class=\"number\">3</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[3]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">3</span>);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n <a id=\"more\"></a>\n<h2 id=\"-1-\"><a href=\"#-1-\" class=\"headerlink\" title=\"+1 \"></a>+1 </h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">size of mystr=6</div><div class=\"line\">mystr[0]A:</div><div class=\"line\">&amp;mystr[0]1703736:</div><div class=\"line\">mystr[1]b:</div><div class=\"line\">&amp;mystr[1]1703742:</div><div class=\"line\">mystr[2]c:</div><div class=\"line\">&amp;mystr[2]1703748:</div><div class=\"line\">mystr[3]e:</div><div class=\"line\">&amp;mystr[3]1703754:</div><div class=\"line\">Press any key to continue</div></pre></td></tr></table></figure>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"+1\"></a>+1</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">char</span> *mystr=<span class=\"string\">\"ABC\"</span>;</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"size of mystr=%i\\n\"</span>,<span class=\"keyword\">sizeof</span>(mystr));</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[0]%c:\\n\"</span>,mystr[<span class=\"number\">0</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[0]%i:\\n\"</span>,&amp;mystr);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[1]%c:\\n\"</span>,mystr[<span class=\"number\">1</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[1]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">1</span>);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[2]%c:\\n\"</span>,mystr[<span class=\"number\">2</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[2]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">2</span>);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[3]%c:\\n\"</span>,mystr[<span class=\"number\">3</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[3]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">3</span>);</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"-1-\"><a href=\"#-1-\" class=\"headerlink\" title=\"+1 \"></a>+1 </h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">size of mystr=4</div><div class=\"line\">mystr[0]A:</div><div class=\"line\">&amp;mystr[0]1703740:</div><div class=\"line\">mystr[1]B:</div><div class=\"line\">&amp;mystr[1]1703744:</div><div class=\"line\">mystr[2]C:</div><div class=\"line\">&amp;mystr[2]1703748:</div><div class=\"line\">mystr[3]</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>+1+1<br>+1sizeof+1</p>\n","site":{"data":{}},"excerpt":"<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"+1\"></a>+1</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">char</span> mystr[]=<span class=\"string\">\"Abcef\"</span>;</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"size of mystr=%i\\n\"</span>,<span class=\"keyword\">sizeof</span>(mystr));</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[0]%c:\\n\"</span>,mystr[<span class=\"number\">0</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[0]%i:\\n\"</span>,&amp;mystr);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[1]%c:\\n\"</span>,mystr[<span class=\"number\">1</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[1]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">1</span>);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[2]%c:\\n\"</span>,mystr[<span class=\"number\">2</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[2]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">2</span>);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[3]%c:\\n\"</span>,mystr[<span class=\"number\">3</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[3]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">3</span>);</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>","more":"<h2 id=\"-1-\"><a href=\"#-1-\" class=\"headerlink\" title=\"+1 \"></a>+1 </h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">size of mystr=6</div><div class=\"line\">mystr[0]A:</div><div class=\"line\">&amp;mystr[0]1703736:</div><div class=\"line\">mystr[1]b:</div><div class=\"line\">&amp;mystr[1]1703742:</div><div class=\"line\">mystr[2]c:</div><div class=\"line\">&amp;mystr[2]1703748:</div><div class=\"line\">mystr[3]e:</div><div class=\"line\">&amp;mystr[3]1703754:</div><div class=\"line\">Press any key to continue</div></pre></td></tr></table></figure>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"+1\"></a>+1</h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">char</span> *mystr=<span class=\"string\">\"ABC\"</span>;</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"size of mystr=%i\\n\"</span>,<span class=\"keyword\">sizeof</span>(mystr));</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[0]%c:\\n\"</span>,mystr[<span class=\"number\">0</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[0]%i:\\n\"</span>,&amp;mystr);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[1]%c:\\n\"</span>,mystr[<span class=\"number\">1</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[1]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">1</span>);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[2]%c:\\n\"</span>,mystr[<span class=\"number\">2</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[2]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">2</span>);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"mystr[3]%c:\\n\"</span>,mystr[<span class=\"number\">3</span>]);</div><div class=\"line\">  <span class=\"built_in\">printf</span>(<span class=\"string\">\"&amp;mystr[3]%i:\\n\"</span>,&amp;mystr+<span class=\"number\">3</span>);</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"-1-\"><a href=\"#-1-\" class=\"headerlink\" title=\"+1 \"></a>+1 </h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">size of mystr=4</div><div class=\"line\">mystr[0]A:</div><div class=\"line\">&amp;mystr[0]1703740:</div><div class=\"line\">mystr[1]B:</div><div class=\"line\">&amp;mystr[1]1703744:</div><div class=\"line\">mystr[2]C:</div><div class=\"line\">&amp;mystr[2]1703748:</div><div class=\"line\">mystr[3]</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>+1+1<br>+1sizeof+1</p>"},{"title":"Cjson","date":"2017-11-26T07:25:03.000Z","_content":"\n\n## \n`scanf`\n<!-- more -->\n\n\n## \n{% codeblock lang:c %}\n// volvo1.cpp: \n#include \"stdafx.h\"\n#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\n//head frist c page 106\nint main() {\n\tfloat latitude;\n\tfloat longitude;\n\tchar info[80];\n\tint started = 0;\n\n\tputs(\"data=[\");\n\twhile (scanf(\"%f,%f,%79[^\\n]\", &latitude, &longitude, info) == 3) {\n\t\tif (started) {\n\t\t\tprintf(\",\\n\");\n\t\t}\n\t\t\t\n\t\telse {\n\t\t\tstarted = 1;\n\t\t}\n\t\t\t\n\t\tprintf(\"{latitude: %f, longitude: %f, info: '%s'}\", latitude, longitude, info);\n\t}\n\tputs(\"\\n]\");\n\treturn 0;\n}\n{% endcodeblock %}\n\n## \n\n```\ndata=[\n12321.123,21321.123,asdffd\n{latitude: 12321.123047, longitude: 21321.123047, info: 'asdffd'}12312.12,213123.213,sdafsdf\n,\n{latitude: 12312.120117, longitude: 213123.218750, info: 'sdafsdf'}^D\n\n]\n. . .\n\n```\n\n## \n{% codeblock lang:c %}\n// volvo1.cpp: \n\n\n#include \"stdafx.h\"\n#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\n//head frist c page 106\nint main() {\n\n\tchar name[40];\n\tchar album[40];\n\tint year;\n\tchar comments[90];\n\tint startd = 0;\n\tputs(\"data=[\");\n\twhile (scanf(\"%[^,], %[^,], %i, %89[^\\n]\", name, album, &year, comments) == 4) {\n\t\tif (startd) {\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t\telse {\n\t\t\tstartd = 1;\n\t\t}\n\t   printf(\"{:'%s', '%s',:%i: '%s'}\", name, album, year, comments);\n\t}\n\tputs(\"\\n]\");\n\treturn 0;\n}\n\n{% endcodeblock %}\n\n## \n\n```\ndata=[\n,,2012,...\n{:'', '',:2012: '...'},,2012,...\n\n{:'\n', '',:2012: '...'},,2012,...\n\n{:'\n\n', '',:2012: '...'},,\n\n]\n. . .\n\n```\n\n## \n\nscanf~\n\n\n{% codeblock lang:c %}\n#include <stdio.h>  \nbool skip(){  \n    scanf(\"%*[^0-9]\");  \n    return true;  \n}  \n  \nint main()  \n{  \n    int n;  \n    while(skip() && scanf(\"%d\", &n)!=EOF)  \n        printf(\"%d\\n\", n);  \n    return 0;  \n}  \n{% endcodeblock %}\n\n\n\n\n\n\n","source":"_posts/head_first_c_106.md","raw":"---\ntitle: Cjson\ndate: 2017-11-26 15:25:03\ncategories: C\ntags:\n- HEAD_FIRST_C\n---\n\n\n## \n`scanf`\n<!-- more -->\n\n\n## \n{% codeblock lang:c %}\n// volvo1.cpp: \n#include \"stdafx.h\"\n#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\n//head frist c page 106\nint main() {\n\tfloat latitude;\n\tfloat longitude;\n\tchar info[80];\n\tint started = 0;\n\n\tputs(\"data=[\");\n\twhile (scanf(\"%f,%f,%79[^\\n]\", &latitude, &longitude, info) == 3) {\n\t\tif (started) {\n\t\t\tprintf(\",\\n\");\n\t\t}\n\t\t\t\n\t\telse {\n\t\t\tstarted = 1;\n\t\t}\n\t\t\t\n\t\tprintf(\"{latitude: %f, longitude: %f, info: '%s'}\", latitude, longitude, info);\n\t}\n\tputs(\"\\n]\");\n\treturn 0;\n}\n{% endcodeblock %}\n\n## \n\n```\ndata=[\n12321.123,21321.123,asdffd\n{latitude: 12321.123047, longitude: 21321.123047, info: 'asdffd'}12312.12,213123.213,sdafsdf\n,\n{latitude: 12312.120117, longitude: 213123.218750, info: 'sdafsdf'}^D\n\n]\n. . .\n\n```\n\n## \n{% codeblock lang:c %}\n// volvo1.cpp: \n\n\n#include \"stdafx.h\"\n#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\n//head frist c page 106\nint main() {\n\n\tchar name[40];\n\tchar album[40];\n\tint year;\n\tchar comments[90];\n\tint startd = 0;\n\tputs(\"data=[\");\n\twhile (scanf(\"%[^,], %[^,], %i, %89[^\\n]\", name, album, &year, comments) == 4) {\n\t\tif (startd) {\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t\telse {\n\t\t\tstartd = 1;\n\t\t}\n\t   printf(\"{:'%s', '%s',:%i: '%s'}\", name, album, year, comments);\n\t}\n\tputs(\"\\n]\");\n\treturn 0;\n}\n\n{% endcodeblock %}\n\n## \n\n```\ndata=[\n,,2012,...\n{:'', '',:2012: '...'},,2012,...\n\n{:'\n', '',:2012: '...'},,2012,...\n\n{:'\n\n', '',:2012: '...'},,\n\n]\n. . .\n\n```\n\n## \n\nscanf~\n\n\n{% codeblock lang:c %}\n#include <stdio.h>  \nbool skip(){  \n    scanf(\"%*[^0-9]\");  \n    return true;  \n}  \n  \nint main()  \n{  \n    int n;  \n    while(skip() && scanf(\"%d\", &n)!=EOF)  \n        printf(\"%d\\n\", n);  \n    return 0;  \n}  \n{% endcodeblock %}\n\n\n\n\n\n\n","slug":"head_first_c_106","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan1u000jzkgvda5n0nf0","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>scanf</code><br><a id=\"more\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// volvo1.cpp: </span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"stdafx.h\"</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;string.h&gt;</span></span></div><div class=\"line\"><span class=\"comment\">//head frist c page 106</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">\t<span class=\"keyword\">float</span> latitude;</div><div class=\"line\">\t<span class=\"keyword\">float</span> longitude;</div><div class=\"line\">\t<span class=\"keyword\">char</span> info[<span class=\"number\">80</span>];</div><div class=\"line\">\t<span class=\"keyword\">int</span> started = <span class=\"number\">0</span>;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">\"data=[\"</span>);</div><div class=\"line\">\t<span class=\"keyword\">while</span> (<span class=\"built_in\">scanf</span>(<span class=\"string\">\"%f,%f,%79[^\\n]\"</span>, &amp;latitude, &amp;longitude, info) == <span class=\"number\">3</span>) &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (started) &#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\",\\n\"</span>);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t\t</div><div class=\"line\">\t\t<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">\t\t\tstarted = <span class=\"number\">1</span>;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t\t</div><div class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"&#123;latitude: %f, longitude: %f, info: '%s'&#125;\"</span>, latitude, longitude, info);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">\"\\n]\"</span>);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">data=[</div><div class=\"line\">12321.123,21321.123,asdffd</div><div class=\"line\">&#123;latitude: 12321.123047, longitude: 21321.123047, info: &apos;asdffd&apos;&#125;12312.12,213123.213,sdafsdf</div><div class=\"line\">,</div><div class=\"line\">&#123;latitude: 12312.120117, longitude: 213123.218750, info: &apos;sdafsdf&apos;&#125;^D</div><div class=\"line\"></div><div class=\"line\">]</div><div class=\"line\">. . .</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// volvo1.cpp: </span></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"stdafx.h\"</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;string.h&gt;</span></span></div><div class=\"line\"><span class=\"comment\">//head frist c page 106</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">char</span> name[<span class=\"number\">40</span>];</div><div class=\"line\">\t<span class=\"keyword\">char</span> album[<span class=\"number\">40</span>];</div><div class=\"line\">\t<span class=\"keyword\">int</span> year;</div><div class=\"line\">\t<span class=\"keyword\">char</span> comments[<span class=\"number\">90</span>];</div><div class=\"line\">\t<span class=\"keyword\">int</span> startd = <span class=\"number\">0</span>;</div><div class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">\"data=[\"</span>);</div><div class=\"line\">\t<span class=\"keyword\">while</span> (<span class=\"built_in\">scanf</span>(<span class=\"string\">\"%[^,], %[^,], %i, %89[^\\n]\"</span>, name, album, &amp;year, comments) == <span class=\"number\">4</span>) &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (startd) &#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"\\n\"</span>);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">\t\t\tstartd = <span class=\"number\">1</span>;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t   <span class=\"built_in\">printf</span>(<span class=\"string\">\"&#123;:'%s', '%s',:%i: '%s'&#125;\"</span>, name, album, year, comments);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">\"\\n]\"</span>);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">data=[</div><div class=\"line\">,,2012,...</div><div class=\"line\">&#123;:&apos;&apos;, &apos;&apos;,:2012: &apos;...&apos;&#125;,,2012,...</div><div class=\"line\"></div><div class=\"line\">&#123;:&apos;</div><div class=\"line\">&apos;, &apos;&apos;,:2012: &apos;...&apos;&#125;,,2012,...</div><div class=\"line\"></div><div class=\"line\">&#123;:&apos;</div><div class=\"line\"></div><div class=\"line\">&apos;, &apos;&apos;,:2012: &apos;...&apos;&#125;,,</div><div class=\"line\"></div><div class=\"line\">]</div><div class=\"line\">. . .</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>scanf~</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span>  </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">skip</span><span class=\"params\">()</span></span>&#123;  </div><div class=\"line\">    <span class=\"built_in\">scanf</span>(<span class=\"string\">\"%*[^0-9]\"</span>);  </div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;  </div><div class=\"line\">&#125;  </div><div class=\"line\">  </div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span>  </span></div><div class=\"line\">&#123;  </div><div class=\"line\">    <span class=\"keyword\">int</span> n;  </div><div class=\"line\">    <span class=\"keyword\">while</span>(skip() &amp;&amp; <span class=\"built_in\">scanf</span>(<span class=\"string\">\"%d\"</span>, &amp;n)!=EOF)  </div><div class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"%d\\n\"</span>, n);  </div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;  </div><div class=\"line\">&#125;  </div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>scanf</code><br>","more":"</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// volvo1.cpp: </span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"stdafx.h\"</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;string.h&gt;</span></span></div><div class=\"line\"><span class=\"comment\">//head frist c page 106</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">\t<span class=\"keyword\">float</span> latitude;</div><div class=\"line\">\t<span class=\"keyword\">float</span> longitude;</div><div class=\"line\">\t<span class=\"keyword\">char</span> info[<span class=\"number\">80</span>];</div><div class=\"line\">\t<span class=\"keyword\">int</span> started = <span class=\"number\">0</span>;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">\"data=[\"</span>);</div><div class=\"line\">\t<span class=\"keyword\">while</span> (<span class=\"built_in\">scanf</span>(<span class=\"string\">\"%f,%f,%79[^\\n]\"</span>, &amp;latitude, &amp;longitude, info) == <span class=\"number\">3</span>) &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (started) &#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\",\\n\"</span>);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t\t</div><div class=\"line\">\t\t<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">\t\t\tstarted = <span class=\"number\">1</span>;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t\t</div><div class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"&#123;latitude: %f, longitude: %f, info: '%s'&#125;\"</span>, latitude, longitude, info);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">\"\\n]\"</span>);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">data=[</div><div class=\"line\">12321.123,21321.123,asdffd</div><div class=\"line\">&#123;latitude: 12321.123047, longitude: 21321.123047, info: &apos;asdffd&apos;&#125;12312.12,213123.213,sdafsdf</div><div class=\"line\">,</div><div class=\"line\">&#123;latitude: 12312.120117, longitude: 213123.218750, info: &apos;sdafsdf&apos;&#125;^D</div><div class=\"line\"></div><div class=\"line\">]</div><div class=\"line\">. . .</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// volvo1.cpp: </span></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">\"stdafx.h\"</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;string.h&gt;</span></span></div><div class=\"line\"><span class=\"comment\">//head frist c page 106</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">char</span> name[<span class=\"number\">40</span>];</div><div class=\"line\">\t<span class=\"keyword\">char</span> album[<span class=\"number\">40</span>];</div><div class=\"line\">\t<span class=\"keyword\">int</span> year;</div><div class=\"line\">\t<span class=\"keyword\">char</span> comments[<span class=\"number\">90</span>];</div><div class=\"line\">\t<span class=\"keyword\">int</span> startd = <span class=\"number\">0</span>;</div><div class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">\"data=[\"</span>);</div><div class=\"line\">\t<span class=\"keyword\">while</span> (<span class=\"built_in\">scanf</span>(<span class=\"string\">\"%[^,], %[^,], %i, %89[^\\n]\"</span>, name, album, &amp;year, comments) == <span class=\"number\">4</span>) &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (startd) &#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"\\n\"</span>);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t<span class=\"keyword\">else</span> &#123;</div><div class=\"line\">\t\t\tstartd = <span class=\"number\">1</span>;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t   <span class=\"built_in\">printf</span>(<span class=\"string\">\"&#123;:'%s', '%s',:%i: '%s'&#125;\"</span>, name, album, year, comments);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">\"\\n]\"</span>);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">data=[</div><div class=\"line\">,,2012,...</div><div class=\"line\">&#123;:&apos;&apos;, &apos;&apos;,:2012: &apos;...&apos;&#125;,,2012,...</div><div class=\"line\"></div><div class=\"line\">&#123;:&apos;</div><div class=\"line\">&apos;, &apos;&apos;,:2012: &apos;...&apos;&#125;,,2012,...</div><div class=\"line\"></div><div class=\"line\">&#123;:&apos;</div><div class=\"line\"></div><div class=\"line\">&apos;, &apos;&apos;,:2012: &apos;...&apos;&#125;,,</div><div class=\"line\"></div><div class=\"line\">]</div><div class=\"line\">. . .</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>scanf~</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span>  </span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">skip</span><span class=\"params\">()</span></span>&#123;  </div><div class=\"line\">    <span class=\"built_in\">scanf</span>(<span class=\"string\">\"%*[^0-9]\"</span>);  </div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;  </div><div class=\"line\">&#125;  </div><div class=\"line\">  </div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span>  </div><div class=\"line\"></span>&#123;  </div><div class=\"line\">    <span class=\"keyword\">int</span> n;  </div><div class=\"line\">    <span class=\"keyword\">while</span>(skip() &amp;&amp; <span class=\"built_in\">scanf</span>(<span class=\"string\">\"%d\"</span>, &amp;n)!=EOF)  </div><div class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">\"%d\\n\"</span>, n);  </div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;  </div><div class=\"line\">&#125;  </div></pre></td></tr></table></figure>"},{"title":"Cstr_reverse","date":"2017-11-25T00:25:03.000Z","_content":"## \n\n<!-- more -->\n\n{% codeblock lang:c %}\n#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\n\n//head frist c page 98\n\nvoid print_reverse(char *s) {\n\n\tsize_t len = strlen(s);\n\t//ts\n\tchar *t = s + len - 1;\n\n\t//s\n\twhile (t >= s) {\n\t\tprintf(\"%c\",*t);\n\t\tt = t - 1;\n\t}\n\t//puts(\"\") printf(\"%s\\n\",s);pust\n\tputs(\"\");\n\tputs (\"\");\n}\nint main()\n{\n\tchar letter[] = \"abcd\";\n\tprint_reverse(letter);\n\treturn 0;\n}\n\n{% endcodeblock %}\n\n## \n\n```\ndcba\n\n. . .\n\n```\n","source":"_posts/head_firstc_str_reverse_98.md","raw":"\n---\ntitle: Cstr_reverse\ndate: 2017-11-25 08:25:03\ncategories: C\ntags:\n- HEAD_FIRST_C\n---\n## \n\n<!-- more -->\n\n{% codeblock lang:c %}\n#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\n\n//head frist c page 98\n\nvoid print_reverse(char *s) {\n\n\tsize_t len = strlen(s);\n\t//ts\n\tchar *t = s + len - 1;\n\n\t//s\n\twhile (t >= s) {\n\t\tprintf(\"%c\",*t);\n\t\tt = t - 1;\n\t}\n\t//puts(\"\") printf(\"%s\\n\",s);pust\n\tputs(\"\");\n\tputs (\"\");\n}\nint main()\n{\n\tchar letter[] = \"abcd\";\n\tprint_reverse(letter);\n\treturn 0;\n}\n\n{% endcodeblock %}\n\n## \n\n```\ndcba\n\n. . .\n\n```\n","slug":"head_firstc_str_reverse_98","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan1x000nzkgvkvosmuj1","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><a id=\"more\"></a></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;string.h&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//head frist c page 98</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">print_reverse</span><span class=\"params\">(<span class=\"keyword\">char</span> *s)</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">size_t</span> len = <span class=\"built_in\">strlen</span>(s);</div><div class=\"line\">\t<span class=\"comment\">//ts</span></div><div class=\"line\">\t<span class=\"keyword\">char</span> *t = s + len - <span class=\"number\">1</span>;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"comment\">//s</span></div><div class=\"line\">\t<span class=\"keyword\">while</span> (t &gt;= s) &#123;</div><div class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"%c\"</span>,*t);</div><div class=\"line\">\t\tt = t - <span class=\"number\">1</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"comment\">//puts(\"\") printf(\"%s\\n\",s);pust</span></div><div class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">\"\"</span>);</div><div class=\"line\">\t<span class=\"built_in\">puts</span> (<span class=\"string\">\"\"</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></div><div class=\"line\">&#123;</div><div class=\"line\">\t<span class=\"keyword\">char</span> letter[] = <span class=\"string\">\"abcd\"</span>;</div><div class=\"line\">\tprint_reverse(letter);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">dcba</div><div class=\"line\"></div><div class=\"line\">. . .</div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>","more":"</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;string.h&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//head frist c page 98</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">print_reverse</span><span class=\"params\">(<span class=\"keyword\">char</span> *s)</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">size_t</span> len = <span class=\"built_in\">strlen</span>(s);</div><div class=\"line\">\t<span class=\"comment\">//ts</span></div><div class=\"line\">\t<span class=\"keyword\">char</span> *t = s + len - <span class=\"number\">1</span>;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"comment\">//s</span></div><div class=\"line\">\t<span class=\"keyword\">while</span> (t &gt;= s) &#123;</div><div class=\"line\">\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"%c\"</span>,*t);</div><div class=\"line\">\t\tt = t - <span class=\"number\">1</span>;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t<span class=\"comment\">//puts(\"\") printf(\"%s\\n\",s);pust</span></div><div class=\"line\">\t<span class=\"built_in\">puts</span>(<span class=\"string\">\"\"</span>);</div><div class=\"line\">\t<span class=\"built_in\">puts</span> (<span class=\"string\">\"\"</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></div><div class=\"line\"></span>&#123;</div><div class=\"line\">\t<span class=\"keyword\">char</span> letter[] = <span class=\"string\">\"abcd\"</span>;</div><div class=\"line\">\tprint_reverse(letter);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">dcba</div><div class=\"line\"></div><div class=\"line\">. . .</div></pre></td></tr></table></figure>"},{"title":"CSTRSTR","date":"2017-11-25T00:12:03.000Z","_content":"## \n`strstr()`\n\n<!-- more -->\n\n{% codeblock lang:c %}\n#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\n\n//head frist c page 94\n\nchar tracks [][80] = {\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n};\n\nvoid find_track(char search_for[]) {\n\tint i;\n\tfor (i = 0; i < 6; i++) {\n\t\tif (strstr(tracks[i], search_for)) {\n\t\t\tprintf(\"find track %i:%s\\n\", i,tracks[i]);\n\t\t}else{\n\t\t\t// printf(\"your search is %s,not in %s\\n\",search_for,tracks[i]);\n\t\t}\t\n\t}\n}\n\nint main()\n{\n\tchar search_for[80];\n\tprintf(\"search for :\");\n\tfgets(search_for, 80, stdin);\n\n\t//fgets+\\0\n\tsearch_for[strlen(search_for)-1]='\\0';\n\tfind_track(search_for);\n\treturn 0;\t\n}\n\n{% endcodeblock %}\n\n## \n\n```\nsearch for :\nfind track 3:\n. . .\n\n```\n","source":"_posts/head_firstc_strstr_94.md","raw":"\n---\ntitle: CSTRSTR\ndate: 2017-11-25 08:12:03\ncategories: C\ntags:\n- HEAD_FIRST_C\n---\n## \n`strstr()`\n\n<!-- more -->\n\n{% codeblock lang:c %}\n#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\n\n//head frist c page 94\n\nchar tracks [][80] = {\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n\t\t\"\",\n};\n\nvoid find_track(char search_for[]) {\n\tint i;\n\tfor (i = 0; i < 6; i++) {\n\t\tif (strstr(tracks[i], search_for)) {\n\t\t\tprintf(\"find track %i:%s\\n\", i,tracks[i]);\n\t\t}else{\n\t\t\t// printf(\"your search is %s,not in %s\\n\",search_for,tracks[i]);\n\t\t}\t\n\t}\n}\n\nint main()\n{\n\tchar search_for[80];\n\tprintf(\"search for :\");\n\tfgets(search_for, 80, stdin);\n\n\t//fgets+\\0\n\tsearch_for[strlen(search_for)-1]='\\0';\n\tfind_track(search_for);\n\treturn 0;\t\n}\n\n{% endcodeblock %}\n\n## \n\n```\nsearch for :\nfind track 3:\n. . .\n\n```\n","slug":"head_firstc_strstr_94","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan1y000pzkgv5zz6eamb","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>strstr()</code></p>\n<a id=\"more\"></a>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;string.h&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//head frist c page 94</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">char</span> tracks [][<span class=\"number\">80</span>] = &#123;</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">find_track</span><span class=\"params\">(<span class=\"keyword\">char</span> search_for[])</span> </span>&#123;</div><div class=\"line\">\t<span class=\"keyword\">int</span> i;</div><div class=\"line\">\t<span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">6</span>; i++) &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (<span class=\"built_in\">strstr</span>(tracks[i], search_for)) &#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"find track %i:%s\\n\"</span>, i,tracks[i]);</div><div class=\"line\">\t\t&#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">\t\t\t<span class=\"comment\">// printf(\"your search is %s,not in %s\\n\",search_for,tracks[i]);</span></div><div class=\"line\">\t\t&#125;\t</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">int</span> main()</div><div class=\"line\">&#123;</div><div class=\"line\">\t<span class=\"keyword\">char</span> search_for[<span class=\"number\">80</span>];</div><div class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"search for :\"</span>);</div><div class=\"line\">\tfgets(search_for, <span class=\"number\">80</span>, <span class=\"built_in\">stdin</span>);</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"comment\">//fgets+\\0</span></div><div class=\"line\">\tsearch_for[<span class=\"built_in\">strlen</span>(search_for)<span class=\"number\">-1</span>]=<span class=\"string\">'\\0'</span>;</div><div class=\"line\">\tfind_track(search_for);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;\t</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">search for :</div><div class=\"line\">find track 3:</div><div class=\"line\">. . .</div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>strstr()</code></p>","more":"<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdio.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;stdlib.h&gt;</span></span></div><div class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span><span class=\"meta-string\">&lt;string.h&gt;</span></span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//head frist c page 94</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">char</span> tracks [][<span class=\"number\">80</span>] = &#123;</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">\t\t<span class=\"string\">\"\"</span>,</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">find_track</span><span class=\"params\">(<span class=\"keyword\">char</span> search_for[])</span> </span>&#123;</div><div class=\"line\">\t<span class=\"keyword\">int</span> i;</div><div class=\"line\">\t<span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">6</span>; i++) &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> (<span class=\"built_in\">strstr</span>(tracks[i], search_for)) &#123;</div><div class=\"line\">\t\t\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"find track %i:%s\\n\"</span>, i,tracks[i]);</div><div class=\"line\">\t\t&#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">\t\t\t<span class=\"comment\">// printf(\"your search is %s,not in %s\\n\",search_for,tracks[i]);</span></div><div class=\"line\">\t\t&#125;\t</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">int</span> main()</div><div class=\"line\">&#123;</div><div class=\"line\">\t<span class=\"keyword\">char</span> search_for[<span class=\"number\">80</span>];</div><div class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"search for :\"</span>);</div><div class=\"line\">\tfgets(search_for, <span class=\"number\">80</span>, <span class=\"built_in\">stdin</span>);</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"comment\">//fgets+\\0</span></div><div class=\"line\">\tsearch_for[<span class=\"built_in\">strlen</span>(search_for)<span class=\"number\">-1</span>]=<span class=\"string\">'\\0'</span>;</div><div class=\"line\">\tfind_track(search_for);</div><div class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;\t</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">search for :</div><div class=\"line\">find track 3:</div><div class=\"line\">. . .</div></pre></td></tr></table></figure>"},{"title":"","date":"2017-11-20T00:12:03.000Z","_content":"\n{% codeblock lang:c %}\nint main()\n{\n\tchar masked_raider[] = \"Alived\";\n\n\tchar *jimmy = masked_raider;\n\n\tprintf(\"masked_raider is %s,jimmy is %s\\n\", masked_raider, jimmy);\n\n\tmasked_raider[0] = 'd';\n\tmasked_raider[1] = 'e';\n\tmasked_raider[2] = 'a';\n\tmasked_raider[3] = 'd';\n\tmasked_raider[4] = 'e';\n\tmasked_raider[5] = 'd';\n\tprintf(\"masked_raider is %s,jimmy is %s\\n\", masked_raider, jimmy);\n\t\n    return 0;\n}\n{% endcodeblock %}\n<!-- more -->\n\n## \n\n\tjimmymasked_raider \n\t\n\t\n\n\tchar masked_raider[] = \"Alived\";\n\n\tmaskd_raider Alived\n\n\t\n\tchar *jimmy =\"Alived\";\n\n\t\n\tjimmy\n\tjimmyalived\n\tconst char *jimmy = \"Alived\";\n\tjimmy[0] = 'd'\n\tjimmy[0]='d'jimmy\n","source":"_posts/head_frist_c_78.md","raw":"---\ntitle: \ndate: 2017-11-20 08:12:03\ncategories: C\ntags:\n- HEAD_FIRST_C\n---\n\n{% codeblock lang:c %}\nint main()\n{\n\tchar masked_raider[] = \"Alived\";\n\n\tchar *jimmy = masked_raider;\n\n\tprintf(\"masked_raider is %s,jimmy is %s\\n\", masked_raider, jimmy);\n\n\tmasked_raider[0] = 'd';\n\tmasked_raider[1] = 'e';\n\tmasked_raider[2] = 'a';\n\tmasked_raider[3] = 'd';\n\tmasked_raider[4] = 'e';\n\tmasked_raider[5] = 'd';\n\tprintf(\"masked_raider is %s,jimmy is %s\\n\", masked_raider, jimmy);\n\t\n    return 0;\n}\n{% endcodeblock %}\n<!-- more -->\n\n## \n\n\tjimmymasked_raider \n\t\n\t\n\n\tchar masked_raider[] = \"Alived\";\n\n\tmaskd_raider Alived\n\n\t\n\tchar *jimmy =\"Alived\";\n\n\t\n\tjimmy\n\tjimmyalived\n\tconst char *jimmy = \"Alived\";\n\tjimmy[0] = 'd'\n\tjimmy[0]='d'jimmy\n","slug":"head_frist_c_78","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan20000tzkgv8dyy8t6n","content":"<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></div><div class=\"line\">&#123;</div><div class=\"line\">\t<span class=\"keyword\">char</span> masked_raider[] = <span class=\"string\">\"Alived\"</span>;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">char</span> *jimmy = masked_raider;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"masked_raider is %s,jimmy is %s\\n\"</span>, masked_raider, jimmy);</div><div class=\"line\"></div><div class=\"line\">\tmasked_raider[<span class=\"number\">0</span>] = <span class=\"string\">'d'</span>;</div><div class=\"line\">\tmasked_raider[<span class=\"number\">1</span>] = <span class=\"string\">'e'</span>;</div><div class=\"line\">\tmasked_raider[<span class=\"number\">2</span>] = <span class=\"string\">'a'</span>;</div><div class=\"line\">\tmasked_raider[<span class=\"number\">3</span>] = <span class=\"string\">'d'</span>;</div><div class=\"line\">\tmasked_raider[<span class=\"number\">4</span>] = <span class=\"string\">'e'</span>;</div><div class=\"line\">\tmasked_raider[<span class=\"number\">5</span>] = <span class=\"string\">'d'</span>;</div><div class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"masked_raider is %s,jimmy is %s\\n\"</span>, masked_raider, jimmy);</div><div class=\"line\">\t</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre><code>jimmymasked_raider \n\n\n\nchar masked_raider[] = &quot;Alived&quot;;\n\nmaskd_raider Alived\n\n\nchar *jimmy =&quot;Alived&quot;;\n\n\njimmy\njimmyalived\nconst char *jimmy = &quot;Alived&quot;;\njimmy[0] = &apos;d&apos;\njimmy[0]=&apos;d&apos;jimmy\n</code></pre>","site":{"data":{}},"excerpt":"<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></div><div class=\"line\"></span>&#123;</div><div class=\"line\">\t<span class=\"keyword\">char</span> masked_raider[] = <span class=\"string\">\"Alived\"</span>;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">char</span> *jimmy = masked_raider;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"masked_raider is %s,jimmy is %s\\n\"</span>, masked_raider, jimmy);</div><div class=\"line\"></div><div class=\"line\">\tmasked_raider[<span class=\"number\">0</span>] = <span class=\"string\">'d'</span>;</div><div class=\"line\">\tmasked_raider[<span class=\"number\">1</span>] = <span class=\"string\">'e'</span>;</div><div class=\"line\">\tmasked_raider[<span class=\"number\">2</span>] = <span class=\"string\">'a'</span>;</div><div class=\"line\">\tmasked_raider[<span class=\"number\">3</span>] = <span class=\"string\">'d'</span>;</div><div class=\"line\">\tmasked_raider[<span class=\"number\">4</span>] = <span class=\"string\">'e'</span>;</div><div class=\"line\">\tmasked_raider[<span class=\"number\">5</span>] = <span class=\"string\">'d'</span>;</div><div class=\"line\">\t<span class=\"built_in\">printf</span>(<span class=\"string\">\"masked_raider is %s,jimmy is %s\\n\"</span>, masked_raider, jimmy);</div><div class=\"line\">\t</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre><code>jimmymasked_raider \n\n\n\nchar masked_raider[] = &quot;Alived&quot;;\n\nmaskd_raider Alived\n\n\nchar *jimmy =&quot;Alived&quot;;\n\n\njimmy\njimmyalived\nconst char *jimmy = &quot;Alived&quot;;\njimmy[0] = &apos;d&apos;\njimmy[0]=&apos;d&apos;jimmy\n</code></pre>"},{"title":"","date":"2016-12-05T08:42:23.000Z","_content":"\ntoken\npostkeyvalue\nksortvalue$string\n<!-- more -->\nkey.$stringpostsigntokentoken\n\n```php\nfunction getSign($data, $key = '')\n{\n    if(is_array($data)){\n        ksort($data);//\n    }\n\n    $string = getPostString($data);\n    return $string;\n    // return md5($string.$key);\n}\n/**\n * \n */\nfunction getPostString(&$post)\n{\n    $string = '';\n    if(is_array($post))\n    {\n        foreach($post as $item)\n        {\n            if(is_array($item))\n                $string .= getPostString($item);\n            else\n                $string .= $item;\n        }\n    }\n    else\n    {\n        $string = $post;\n    }\n\n    return $string;\n}\n$params=[\n'mobile'=>'18618824588',\n'code'=>'114360',\n'hid'=>'2700',\n'name'=>'tb',\n'city_serial_id'=>'bj2700',\n];\n\nvar_dump(ksort($params));\nvar_dump($params);\necho getSign($params);\n```\n","source":"_posts/interface_security.md","raw":"---\ntitle: \ndate: 2016-12-05 16:42:23\ncategories: PHP\ntags:\n - \n - \n - sign&token\n---\n\ntoken\npostkeyvalue\nksortvalue$string\n<!-- more -->\nkey.$stringpostsigntokentoken\n\n```php\nfunction getSign($data, $key = '')\n{\n    if(is_array($data)){\n        ksort($data);//\n    }\n\n    $string = getPostString($data);\n    return $string;\n    // return md5($string.$key);\n}\n/**\n * \n */\nfunction getPostString(&$post)\n{\n    $string = '';\n    if(is_array($post))\n    {\n        foreach($post as $item)\n        {\n            if(is_array($item))\n                $string .= getPostString($item);\n            else\n                $string .= $item;\n        }\n    }\n    else\n    {\n        $string = $post;\n    }\n\n    return $string;\n}\n$params=[\n'mobile'=>'18618824588',\n'code'=>'114360',\n'hid'=>'2700',\n'name'=>'tb',\n'city_serial_id'=>'bj2700',\n];\n\nvar_dump(ksort($params));\nvar_dump($params);\necho getSign($params);\n```\n","slug":"interface_security","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan22000wzkgv7li991mn","content":"<p>token<br>postkeyvalue<br>ksortvalue$string<br><a id=\"more\"></a><br>key.$stringpostsigntokentoken</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getSign</span><span class=\"params\">($data, $key = <span class=\"string\">''</span>)</span></span></div><div class=\"line\">&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(is_array($data))&#123;</div><div class=\"line\">        ksort($data);<span class=\"comment\">//</span></div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    $string = getPostString($data);</div><div class=\"line\">    <span class=\"keyword\">return</span> $string;</div><div class=\"line\">    <span class=\"comment\">// return md5($string.$key);</span></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"> * </div><div class=\"line\"> */</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getPostString</span><span class=\"params\">(&amp;$post)</span></span></div><div class=\"line\">&#123;</div><div class=\"line\">    $string = <span class=\"string\">''</span>;</div><div class=\"line\">    <span class=\"keyword\">if</span>(is_array($post))</div><div class=\"line\">    &#123;</div><div class=\"line\">        <span class=\"keyword\">foreach</span>($post <span class=\"keyword\">as</span> $item)</div><div class=\"line\">        &#123;</div><div class=\"line\">            <span class=\"keyword\">if</span>(is_array($item))</div><div class=\"line\">                $string .= getPostString($item);</div><div class=\"line\">            <span class=\"keyword\">else</span></div><div class=\"line\">                $string .= $item;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">else</span></div><div class=\"line\">    &#123;</div><div class=\"line\">        $string = $post;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">return</span> $string;</div><div class=\"line\">&#125;</div><div class=\"line\">$params=[</div><div class=\"line\"><span class=\"string\">'mobile'</span>=&gt;<span class=\"string\">'18618824588'</span>,</div><div class=\"line\"><span class=\"string\">'code'</span>=&gt;<span class=\"string\">'114360'</span>,</div><div class=\"line\"><span class=\"string\">'hid'</span>=&gt;<span class=\"string\">'2700'</span>,</div><div class=\"line\"><span class=\"string\">'name'</span>=&gt;<span class=\"string\">'tb'</span>,</div><div class=\"line\"><span class=\"string\">'city_serial_id'</span>=&gt;<span class=\"string\">'bj2700'</span>,</div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\">var_dump(ksort($params));</div><div class=\"line\">var_dump($params);</div><div class=\"line\"><span class=\"keyword\">echo</span> getSign($params);</div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>token<br>postkeyvalue<br>ksortvalue$string<br>","more":"<br>key.$stringpostsigntokentoken</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getSign</span><span class=\"params\">($data, $key = <span class=\"string\">''</span>)</span></div><div class=\"line\"></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(is_array($data))&#123;</div><div class=\"line\">        ksort($data);<span class=\"comment\">//</span></div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    $string = getPostString($data);</div><div class=\"line\">    <span class=\"keyword\">return</span> $string;</div><div class=\"line\">    <span class=\"comment\">// return md5($string.$key);</span></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">/**</div><div class=\"line\"> * </div><div class=\"line\"> */</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getPostString</span><span class=\"params\">(&amp;$post)</span></div><div class=\"line\"></span>&#123;</div><div class=\"line\">    $string = <span class=\"string\">''</span>;</div><div class=\"line\">    <span class=\"keyword\">if</span>(is_array($post))</div><div class=\"line\">    &#123;</div><div class=\"line\">        <span class=\"keyword\">foreach</span>($post <span class=\"keyword\">as</span> $item)</div><div class=\"line\">        &#123;</div><div class=\"line\">            <span class=\"keyword\">if</span>(is_array($item))</div><div class=\"line\">                $string .= getPostString($item);</div><div class=\"line\">            <span class=\"keyword\">else</span></div><div class=\"line\">                $string .= $item;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">else</span></div><div class=\"line\">    &#123;</div><div class=\"line\">        $string = $post;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">return</span> $string;</div><div class=\"line\">&#125;</div><div class=\"line\">$params=[</div><div class=\"line\"><span class=\"string\">'mobile'</span>=&gt;<span class=\"string\">'18618824588'</span>,</div><div class=\"line\"><span class=\"string\">'code'</span>=&gt;<span class=\"string\">'114360'</span>,</div><div class=\"line\"><span class=\"string\">'hid'</span>=&gt;<span class=\"string\">'2700'</span>,</div><div class=\"line\"><span class=\"string\">'name'</span>=&gt;<span class=\"string\">'tb'</span>,</div><div class=\"line\"><span class=\"string\">'city_serial_id'</span>=&gt;<span class=\"string\">'bj2700'</span>,</div><div class=\"line\">];</div><div class=\"line\"></div><div class=\"line\">var_dump(ksort($params));</div><div class=\"line\">var_dump($params);</div><div class=\"line\"><span class=\"keyword\">echo</span> getSign($params);</div></pre></td></tr></table></figure>"},{"title":"HTTP-CAHCECACHE-CONTROLEtagModify","date":"2017-03-07T05:41:11.000Z","_content":"\netag\n-------------\n\n```\n<?php\n\n// apache nginxheadernginx\n\n$file = 'etag.txt';\n$etag = md5_file($file);\n$headers = apache_request_headers();\n\nif (isset($headers['If-None-Match']) && trim($headers[\"If-None-Match\"]) == $etag) {\n    header(\"HTTP/1.1 304 Not Modified\");\n} else {\n    $content = file_get_contents($file);\n    header(\"Etag: $etag\");\n    echo $content;\n}\n\n```\n200.RequsetHeadersResponseHeaders\n\n\n```\nAccept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\nAccept-Encoding:gzip, deflate, sdch\nAccept-Language:zh-CN,zh;q=0.8,en;q=0.6\nCache-Control:no-cache\nConnection:keep-alive\nHost:kache.com\nPragma:no-cache\nUpgrade-Insecure-Requests:1\nUser-Agent:Mozilla/5.\n```\n<!-- more -->\n \n\n\n```\nRequest URL:http://kache.com/etag.php\nRequest Method:GET\nStatus Code:200 OK\nRemote Address:127.0.0.1:80\n\nConnection:Keep-Alive\nContent-Type:text/html\nDate:Tue, 07 Mar 2017 13:02:13 GMT\nEtag:966aa4bd5183fd9358fd222647c5c6a3\nKeep-Alive:timeout=5, max=99\nServer:Apache/2.4.10 (Win32) OpenSSL/0.9.8zb mod_fcgid/2.3.9\nTransfer-Encoding:chunked\nX-Powered-By:PHP/5.4.33\n```\nIf-None-Match:Etag:,200\n\n\n----------\n\n\n\n\n\n\n```\nAccept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\nAccept-Encoding:gzip, deflate, sdch\nAccept-Language:zh-CN,zh;q=0.8,en;q=0.6\nCache-Control:max-age=0\nConnection:keep-alive\nHost:kache.com\nIf-None-Match:966aa4bd5183fd9358fd222647c5c6a3\nUpgrade-Insecure-Requests:1\nUser-Agent:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36\n```\n\n:\n\n```\nRequest URL:http://kache.com/etag.php\nRequest Method:GET\nStatus Code:304 Not Modified\nRemote Address:127.0.0.1:80\n\nConnection:Keep-Alive\nDate:Tue, 07 Mar 2017 13:02:16 GMT\nKeep-Alive:timeout=5, max=98\nServer:Apache/2.4.10 (Win32) OpenSSL/0.9.8zb mod_fcgid/2.3.9\n```\nIf-None-Match:304\n\n----------\n\nphpLast-Modified\n------------------------\n\n```\n<?php\n/**\n *If-Modified-Since[request] & Last-Modified [response]\n *\n */\n$headers = apache_request_headers();\n$file = 'modified.txt';\n\nif (isset($headers['If-Modified-Since']) && (strtotime($headers['If-Modified-Since']) == filemtime($file))) {\n\n    header('Last-Modified: ' . gmdate('D, d M Y H:i:s', filemtime($file)) . ' GMT', true, 304);\n\n} else {\n    header('Last-Modified: ' . gmdate('D, d M Y H:i:s', filemtime($file)) . ' GMT', true, 200);\n\n    $content = file_get_contents($file);\n    echo $content;\n}\n\n```\nIf-Modified-Since[]  Last-Modified []HADERppt\n\n----------\n\nLast-ModifiedEtagphp\n------------------------------------\n\n```\n<?php\n\n$file='etag_modify.txt';\n\n$last_modified_time=filemtime($file);\n\n$etag = md5_file($file);\n\n$headers = apache_request_headers();\n\n\nif (@strtotime($headers['If-Modified-Since']) == $last_modified_time ||\n    @trim($headers['If-None-Match']) == $etag) {\n  header('Content-Length: '.filesize($file));\n    header(\"HTTP/1.1 304 Not Modified\");\n\n}else{\n\n  header(\"Etag: $etag\");\n  header('Last-Modified: '.gmdate('D, d M Y H:i:s', $last_modified_time).' GMT', true, 200);\n  header('Content-Length: '.filesize($file));\n  $content=file_get_contents($file);\n  echo $content;\n\n}\n\n```\nmodifymodifyetag\n\n\n----------\n\nNGINX\n------------\nphp  swoole framework OR workermanetagmodify\n\nNGINXmodify /etc/nginx/nginx.confetag\n\n```\nhttp {\n\n        ##\n        # Basic Settings\n        ##\n        etag  off;\n        ...\n```\n\n\n\n```\nlocation ~* \\.(?:css)$ {\n  #expires 1y;\n  add_header  Cache-Control max-age=5;\n  add_header Cache-Control \"public\";\n  add_header  Last-Modified \"\";\n}\n\n```\n\n1. expires 1y; http1.01.1cache-contorl:max-age='';GMT\n2. add_header  Cache-Control max-age=5; 5Last-Modified add_header  Last-Modified \"\"; 200Last-Modified55304.\n\nLast-Modifiedmax-ageexpires\n\n1. max-age=0modify\n\n2. modifymax-age==0.\n\n3. modify max-age=0\n\n4. max-age=1000modify \n\n552005etag\n\n----------\n11ctrl+f5publicprivate\n\n```\nlocation ~* \\.(?:jpg|jpeg|gif|png|ico|cur|gz|svg|svgz|mp4|ogg|ogv|webm|htc)$ {\n  expires 1M;\n  add_header Cache-Control \"public\";\n  add_header  Last-Modified \"\";\n}\n\n```\n----------\n\n\n--------------\n\n```\nlocation ~* \\.(?:css)$ {\n  expires 1y;\n # add_header  Cache-Control max-age=5;\n # add_header Cache-Control \"public\";\n # add_header  Last-Modified \"\";\n}\n```\nLast-Modifiedvimxx.css,\n\n\n-----------\ncache-control\nno-cahce\nno-store\nmust-revalidate\n\n```\nlocation ~* \\.(?:js)$ {\n  add_header  Cache-Control no-cache;\n  add_header  Cache-Control must-revalidate;\n}\n```\n\n[PPT][1]\n-----------\n\n\n  [1]: https://github.com/tuber/HTTP_CACHE\n","source":"_posts/http-cache.md","raw":"---\ntitle: HTTP-CAHCECACHE-CONTROLEtagModify\ndate: 2017-03-07 13:41:11\ncategories: PHP\ntags:\n - HTTP\n - CACHE\n - PHP\n - NGINX\n---\n\netag\n-------------\n\n```\n<?php\n\n// apache nginxheadernginx\n\n$file = 'etag.txt';\n$etag = md5_file($file);\n$headers = apache_request_headers();\n\nif (isset($headers['If-None-Match']) && trim($headers[\"If-None-Match\"]) == $etag) {\n    header(\"HTTP/1.1 304 Not Modified\");\n} else {\n    $content = file_get_contents($file);\n    header(\"Etag: $etag\");\n    echo $content;\n}\n\n```\n200.RequsetHeadersResponseHeaders\n\n\n```\nAccept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\nAccept-Encoding:gzip, deflate, sdch\nAccept-Language:zh-CN,zh;q=0.8,en;q=0.6\nCache-Control:no-cache\nConnection:keep-alive\nHost:kache.com\nPragma:no-cache\nUpgrade-Insecure-Requests:1\nUser-Agent:Mozilla/5.\n```\n<!-- more -->\n \n\n\n```\nRequest URL:http://kache.com/etag.php\nRequest Method:GET\nStatus Code:200 OK\nRemote Address:127.0.0.1:80\n\nConnection:Keep-Alive\nContent-Type:text/html\nDate:Tue, 07 Mar 2017 13:02:13 GMT\nEtag:966aa4bd5183fd9358fd222647c5c6a3\nKeep-Alive:timeout=5, max=99\nServer:Apache/2.4.10 (Win32) OpenSSL/0.9.8zb mod_fcgid/2.3.9\nTransfer-Encoding:chunked\nX-Powered-By:PHP/5.4.33\n```\nIf-None-Match:Etag:,200\n\n\n----------\n\n\n\n\n\n\n```\nAccept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\nAccept-Encoding:gzip, deflate, sdch\nAccept-Language:zh-CN,zh;q=0.8,en;q=0.6\nCache-Control:max-age=0\nConnection:keep-alive\nHost:kache.com\nIf-None-Match:966aa4bd5183fd9358fd222647c5c6a3\nUpgrade-Insecure-Requests:1\nUser-Agent:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36\n```\n\n:\n\n```\nRequest URL:http://kache.com/etag.php\nRequest Method:GET\nStatus Code:304 Not Modified\nRemote Address:127.0.0.1:80\n\nConnection:Keep-Alive\nDate:Tue, 07 Mar 2017 13:02:16 GMT\nKeep-Alive:timeout=5, max=98\nServer:Apache/2.4.10 (Win32) OpenSSL/0.9.8zb mod_fcgid/2.3.9\n```\nIf-None-Match:304\n\n----------\n\nphpLast-Modified\n------------------------\n\n```\n<?php\n/**\n *If-Modified-Since[request] & Last-Modified [response]\n *\n */\n$headers = apache_request_headers();\n$file = 'modified.txt';\n\nif (isset($headers['If-Modified-Since']) && (strtotime($headers['If-Modified-Since']) == filemtime($file))) {\n\n    header('Last-Modified: ' . gmdate('D, d M Y H:i:s', filemtime($file)) . ' GMT', true, 304);\n\n} else {\n    header('Last-Modified: ' . gmdate('D, d M Y H:i:s', filemtime($file)) . ' GMT', true, 200);\n\n    $content = file_get_contents($file);\n    echo $content;\n}\n\n```\nIf-Modified-Since[]  Last-Modified []HADERppt\n\n----------\n\nLast-ModifiedEtagphp\n------------------------------------\n\n```\n<?php\n\n$file='etag_modify.txt';\n\n$last_modified_time=filemtime($file);\n\n$etag = md5_file($file);\n\n$headers = apache_request_headers();\n\n\nif (@strtotime($headers['If-Modified-Since']) == $last_modified_time ||\n    @trim($headers['If-None-Match']) == $etag) {\n  header('Content-Length: '.filesize($file));\n    header(\"HTTP/1.1 304 Not Modified\");\n\n}else{\n\n  header(\"Etag: $etag\");\n  header('Last-Modified: '.gmdate('D, d M Y H:i:s', $last_modified_time).' GMT', true, 200);\n  header('Content-Length: '.filesize($file));\n  $content=file_get_contents($file);\n  echo $content;\n\n}\n\n```\nmodifymodifyetag\n\n\n----------\n\nNGINX\n------------\nphp  swoole framework OR workermanetagmodify\n\nNGINXmodify /etc/nginx/nginx.confetag\n\n```\nhttp {\n\n        ##\n        # Basic Settings\n        ##\n        etag  off;\n        ...\n```\n\n\n\n```\nlocation ~* \\.(?:css)$ {\n  #expires 1y;\n  add_header  Cache-Control max-age=5;\n  add_header Cache-Control \"public\";\n  add_header  Last-Modified \"\";\n}\n\n```\n\n1. expires 1y; http1.01.1cache-contorl:max-age='';GMT\n2. add_header  Cache-Control max-age=5; 5Last-Modified add_header  Last-Modified \"\"; 200Last-Modified55304.\n\nLast-Modifiedmax-ageexpires\n\n1. max-age=0modify\n\n2. modifymax-age==0.\n\n3. modify max-age=0\n\n4. max-age=1000modify \n\n552005etag\n\n----------\n11ctrl+f5publicprivate\n\n```\nlocation ~* \\.(?:jpg|jpeg|gif|png|ico|cur|gz|svg|svgz|mp4|ogg|ogv|webm|htc)$ {\n  expires 1M;\n  add_header Cache-Control \"public\";\n  add_header  Last-Modified \"\";\n}\n\n```\n----------\n\n\n--------------\n\n```\nlocation ~* \\.(?:css)$ {\n  expires 1y;\n # add_header  Cache-Control max-age=5;\n # add_header Cache-Control \"public\";\n # add_header  Last-Modified \"\";\n}\n```\nLast-Modifiedvimxx.css,\n\n\n-----------\ncache-control\nno-cahce\nno-store\nmust-revalidate\n\n```\nlocation ~* \\.(?:js)$ {\n  add_header  Cache-Control no-cache;\n  add_header  Cache-Control must-revalidate;\n}\n```\n\n[PPT][1]\n-----------\n\n\n  [1]: https://github.com/tuber/HTTP_CACHE\n","slug":"http-cache","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan230010zkgv9k83lk2u","content":"<h2 id=\"etag\"><a href=\"#etag\" class=\"headerlink\" title=\"etag\"></a>etag</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?php</div><div class=\"line\"></div><div class=\"line\">// apache nginxheadernginx</div><div class=\"line\"></div><div class=\"line\">$file = &apos;etag.txt&apos;;</div><div class=\"line\">$etag = md5_file($file);</div><div class=\"line\">$headers = apache_request_headers();</div><div class=\"line\"></div><div class=\"line\">if (isset($headers[&apos;If-None-Match&apos;]) &amp;&amp; trim($headers[&quot;If-None-Match&quot;]) == $etag) &#123;</div><div class=\"line\">    header(&quot;HTTP/1.1 304 Not Modified&quot;);</div><div class=\"line\">&#125; else &#123;</div><div class=\"line\">    $content = file_get_contents($file);</div><div class=\"line\">    header(&quot;Etag: $etag&quot;);</div><div class=\"line\">    echo $content;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>200.RequsetHeadersResponseHeaders</p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div><div class=\"line\">Accept-Encoding:gzip, deflate, sdch</div><div class=\"line\">Accept-Language:zh-CN,zh;q=0.8,en;q=0.6</div><div class=\"line\">Cache-Control:no-cache</div><div class=\"line\">Connection:keep-alive</div><div class=\"line\">Host:kache.com</div><div class=\"line\">Pragma:no-cache</div><div class=\"line\">Upgrade-Insecure-Requests:1</div><div class=\"line\">User-Agent:Mozilla/5.</div></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">Request URL:http://kache.com/etag.php</div><div class=\"line\">Request Method:GET</div><div class=\"line\">Status Code:200 OK</div><div class=\"line\">Remote Address:127.0.0.1:80</div><div class=\"line\"></div><div class=\"line\">Connection:Keep-Alive</div><div class=\"line\">Content-Type:text/html</div><div class=\"line\">Date:Tue, 07 Mar 2017 13:02:13 GMT</div><div class=\"line\">Etag:966aa4bd5183fd9358fd222647c5c6a3</div><div class=\"line\">Keep-Alive:timeout=5, max=99</div><div class=\"line\">Server:Apache/2.4.10 (Win32) OpenSSL/0.9.8zb mod_fcgid/2.3.9</div><div class=\"line\">Transfer-Encoding:chunked</div><div class=\"line\">X-Powered-By:PHP/5.4.33</div></pre></td></tr></table></figure>\n<p>If-None-Match:Etag:,200</p>\n<hr>\n<p></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div><div class=\"line\">Accept-Encoding:gzip, deflate, sdch</div><div class=\"line\">Accept-Language:zh-CN,zh;q=0.8,en;q=0.6</div><div class=\"line\">Cache-Control:max-age=0</div><div class=\"line\">Connection:keep-alive</div><div class=\"line\">Host:kache.com</div><div class=\"line\">If-None-Match:966aa4bd5183fd9358fd222647c5c6a3</div><div class=\"line\">Upgrade-Insecure-Requests:1</div><div class=\"line\">User-Agent:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36</div></pre></td></tr></table></figure>\n<p>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">Request URL:http://kache.com/etag.php</div><div class=\"line\">Request Method:GET</div><div class=\"line\">Status Code:304 Not Modified</div><div class=\"line\">Remote Address:127.0.0.1:80</div><div class=\"line\"></div><div class=\"line\">Connection:Keep-Alive</div><div class=\"line\">Date:Tue, 07 Mar 2017 13:02:16 GMT</div><div class=\"line\">Keep-Alive:timeout=5, max=98</div><div class=\"line\">Server:Apache/2.4.10 (Win32) OpenSSL/0.9.8zb mod_fcgid/2.3.9</div></pre></td></tr></table></figure>\n<p>If-None-Match:304</p>\n<hr>\n<h2 id=\"phpLast-Modified\"><a href=\"#phpLast-Modified\" class=\"headerlink\" title=\"phpLast-Modified\"></a>phpLast-Modified</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?php</div><div class=\"line\">/**</div><div class=\"line\"> *If-Modified-Since[request] &amp; Last-Modified [response]</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">$headers = apache_request_headers();</div><div class=\"line\">$file = &apos;modified.txt&apos;;</div><div class=\"line\"></div><div class=\"line\">if (isset($headers[&apos;If-Modified-Since&apos;]) &amp;&amp; (strtotime($headers[&apos;If-Modified-Since&apos;]) == filemtime($file))) &#123;</div><div class=\"line\"></div><div class=\"line\">    header(&apos;Last-Modified: &apos; . gmdate(&apos;D, d M Y H:i:s&apos;, filemtime($file)) . &apos; GMT&apos;, true, 304);</div><div class=\"line\"></div><div class=\"line\">&#125; else &#123;</div><div class=\"line\">    header(&apos;Last-Modified: &apos; . gmdate(&apos;D, d M Y H:i:s&apos;, filemtime($file)) . &apos; GMT&apos;, true, 200);</div><div class=\"line\"></div><div class=\"line\">    $content = file_get_contents($file);</div><div class=\"line\">    echo $content;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>If-Modified-Since[]  Last-Modified []HADERppt</p>\n<hr>\n<h2 id=\"Last-ModifiedEtagphp\"><a href=\"#Last-ModifiedEtagphp\" class=\"headerlink\" title=\"Last-ModifiedEtagphp\"></a>Last-ModifiedEtagphp</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?php</div><div class=\"line\"></div><div class=\"line\">$file=&apos;etag_modify.txt&apos;;</div><div class=\"line\"></div><div class=\"line\">$last_modified_time=filemtime($file);</div><div class=\"line\"></div><div class=\"line\">$etag = md5_file($file);</div><div class=\"line\"></div><div class=\"line\">$headers = apache_request_headers();</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">if (@strtotime($headers[&apos;If-Modified-Since&apos;]) == $last_modified_time ||</div><div class=\"line\">    @trim($headers[&apos;If-None-Match&apos;]) == $etag) &#123;</div><div class=\"line\">  header(&apos;Content-Length: &apos;.filesize($file));</div><div class=\"line\">    header(&quot;HTTP/1.1 304 Not Modified&quot;);</div><div class=\"line\"></div><div class=\"line\">&#125;else&#123;</div><div class=\"line\"></div><div class=\"line\">  header(&quot;Etag: $etag&quot;);</div><div class=\"line\">  header(&apos;Last-Modified: &apos;.gmdate(&apos;D, d M Y H:i:s&apos;, $last_modified_time).&apos; GMT&apos;, true, 200);</div><div class=\"line\">  header(&apos;Content-Length: &apos;.filesize($file));</div><div class=\"line\">  $content=file_get_contents($file);</div><div class=\"line\">  echo $content;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>modifymodifyetag</p>\n<hr>\n<h2 id=\"NGINX\"><a href=\"#NGINX\" class=\"headerlink\" title=\"NGINX\"></a>NGINX</h2><p>php  swoole framework OR workermanetagmodify</p>\n<p>NGINXmodify /etc/nginx/nginx.confetag</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">http &#123;</div><div class=\"line\"></div><div class=\"line\">        ##</div><div class=\"line\">        # Basic Settings</div><div class=\"line\">        ##</div><div class=\"line\">        etag  off;</div><div class=\"line\">        ...</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">location ~* \\.(?:css)$ &#123;</div><div class=\"line\">  #expires 1y;</div><div class=\"line\">  add_header  Cache-Control max-age=5;</div><div class=\"line\">  add_header Cache-Control &quot;public&quot;;</div><div class=\"line\">  add_header  Last-Modified &quot;&quot;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>expires 1y; http1.01.1cache-contorl:max-age=;GMT</li>\n<li>add_header  Cache-Control max-age=5; 5Last-Modified add_header  Last-Modified ; 200Last-Modified55304.</li>\n</ol>\n<p>Last-Modifiedmax-ageexpires</p>\n<ol>\n<li><p>max-age=0modify</p>\n</li>\n<li><p>modifymax-age==0.</p>\n</li>\n<li><p>modify max-age=0</p>\n</li>\n<li><p>max-age=1000modify </p>\n</li>\n</ol>\n<p>552005etag</p>\n<hr>\n<p>11ctrl+f5publicprivate</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">location ~* \\.(?:jpg|jpeg|gif|png|ico|cur|gz|svg|svgz|mp4|ogg|ogv|webm|htc)$ &#123;</div><div class=\"line\">  expires 1M;</div><div class=\"line\">  add_header Cache-Control &quot;public&quot;;</div><div class=\"line\">  add_header  Last-Modified &quot;&quot;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">location ~* \\.(?:css)$ &#123;</div><div class=\"line\">  expires 1y;</div><div class=\"line\"> # add_header  Cache-Control max-age=5;</div><div class=\"line\"> # add_header Cache-Control &quot;public&quot;;</div><div class=\"line\"> # add_header  Last-Modified &quot;&quot;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>Last-Modifiedvimxx.css,</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>cache-control<br>no-cahce<br>no-store<br>must-revalidate</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">location ~* \\.(?:js)$ &#123;</div><div class=\"line\">  add_header  Cache-Control no-cache;</div><div class=\"line\">  add_header  Cache-Control must-revalidate;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"PPT\"><a href=\"#PPT\" class=\"headerlink\" title=\"PPT\"></a><a href=\"https://github.com/tuber/HTTP_CACHE\" target=\"_blank\" rel=\"external\">PPT</a></h2>","site":{"data":{}},"excerpt":"<h2 id=\"etag\"><a href=\"#etag\" class=\"headerlink\" title=\"etag\"></a>etag</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?php</div><div class=\"line\"></div><div class=\"line\">// apache nginxheadernginx</div><div class=\"line\"></div><div class=\"line\">$file = &apos;etag.txt&apos;;</div><div class=\"line\">$etag = md5_file($file);</div><div class=\"line\">$headers = apache_request_headers();</div><div class=\"line\"></div><div class=\"line\">if (isset($headers[&apos;If-None-Match&apos;]) &amp;&amp; trim($headers[&quot;If-None-Match&quot;]) == $etag) &#123;</div><div class=\"line\">    header(&quot;HTTP/1.1 304 Not Modified&quot;);</div><div class=\"line\">&#125; else &#123;</div><div class=\"line\">    $content = file_get_contents($file);</div><div class=\"line\">    header(&quot;Etag: $etag&quot;);</div><div class=\"line\">    echo $content;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>200.RequsetHeadersResponseHeaders</p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div><div class=\"line\">Accept-Encoding:gzip, deflate, sdch</div><div class=\"line\">Accept-Language:zh-CN,zh;q=0.8,en;q=0.6</div><div class=\"line\">Cache-Control:no-cache</div><div class=\"line\">Connection:keep-alive</div><div class=\"line\">Host:kache.com</div><div class=\"line\">Pragma:no-cache</div><div class=\"line\">Upgrade-Insecure-Requests:1</div><div class=\"line\">User-Agent:Mozilla/5.</div></pre></td></tr></table></figure></p>","more":"<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">Request URL:http://kache.com/etag.php</div><div class=\"line\">Request Method:GET</div><div class=\"line\">Status Code:200 OK</div><div class=\"line\">Remote Address:127.0.0.1:80</div><div class=\"line\"></div><div class=\"line\">Connection:Keep-Alive</div><div class=\"line\">Content-Type:text/html</div><div class=\"line\">Date:Tue, 07 Mar 2017 13:02:13 GMT</div><div class=\"line\">Etag:966aa4bd5183fd9358fd222647c5c6a3</div><div class=\"line\">Keep-Alive:timeout=5, max=99</div><div class=\"line\">Server:Apache/2.4.10 (Win32) OpenSSL/0.9.8zb mod_fcgid/2.3.9</div><div class=\"line\">Transfer-Encoding:chunked</div><div class=\"line\">X-Powered-By:PHP/5.4.33</div></pre></td></tr></table></figure>\n<p>If-None-Match:Etag:,200</p>\n<hr>\n<p></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div><div class=\"line\">Accept-Encoding:gzip, deflate, sdch</div><div class=\"line\">Accept-Language:zh-CN,zh;q=0.8,en;q=0.6</div><div class=\"line\">Cache-Control:max-age=0</div><div class=\"line\">Connection:keep-alive</div><div class=\"line\">Host:kache.com</div><div class=\"line\">If-None-Match:966aa4bd5183fd9358fd222647c5c6a3</div><div class=\"line\">Upgrade-Insecure-Requests:1</div><div class=\"line\">User-Agent:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36</div></pre></td></tr></table></figure>\n<p>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">Request URL:http://kache.com/etag.php</div><div class=\"line\">Request Method:GET</div><div class=\"line\">Status Code:304 Not Modified</div><div class=\"line\">Remote Address:127.0.0.1:80</div><div class=\"line\"></div><div class=\"line\">Connection:Keep-Alive</div><div class=\"line\">Date:Tue, 07 Mar 2017 13:02:16 GMT</div><div class=\"line\">Keep-Alive:timeout=5, max=98</div><div class=\"line\">Server:Apache/2.4.10 (Win32) OpenSSL/0.9.8zb mod_fcgid/2.3.9</div></pre></td></tr></table></figure>\n<p>If-None-Match:304</p>\n<hr>\n<h2 id=\"phpLast-Modified\"><a href=\"#phpLast-Modified\" class=\"headerlink\" title=\"phpLast-Modified\"></a>phpLast-Modified</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?php</div><div class=\"line\">/**</div><div class=\"line\"> *If-Modified-Since[request] &amp; Last-Modified [response]</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">$headers = apache_request_headers();</div><div class=\"line\">$file = &apos;modified.txt&apos;;</div><div class=\"line\"></div><div class=\"line\">if (isset($headers[&apos;If-Modified-Since&apos;]) &amp;&amp; (strtotime($headers[&apos;If-Modified-Since&apos;]) == filemtime($file))) &#123;</div><div class=\"line\"></div><div class=\"line\">    header(&apos;Last-Modified: &apos; . gmdate(&apos;D, d M Y H:i:s&apos;, filemtime($file)) . &apos; GMT&apos;, true, 304);</div><div class=\"line\"></div><div class=\"line\">&#125; else &#123;</div><div class=\"line\">    header(&apos;Last-Modified: &apos; . gmdate(&apos;D, d M Y H:i:s&apos;, filemtime($file)) . &apos; GMT&apos;, true, 200);</div><div class=\"line\"></div><div class=\"line\">    $content = file_get_contents($file);</div><div class=\"line\">    echo $content;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>If-Modified-Since[]  Last-Modified []HADERppt</p>\n<hr>\n<h2 id=\"Last-ModifiedEtagphp\"><a href=\"#Last-ModifiedEtagphp\" class=\"headerlink\" title=\"Last-ModifiedEtagphp\"></a>Last-ModifiedEtagphp</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?php</div><div class=\"line\"></div><div class=\"line\">$file=&apos;etag_modify.txt&apos;;</div><div class=\"line\"></div><div class=\"line\">$last_modified_time=filemtime($file);</div><div class=\"line\"></div><div class=\"line\">$etag = md5_file($file);</div><div class=\"line\"></div><div class=\"line\">$headers = apache_request_headers();</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">if (@strtotime($headers[&apos;If-Modified-Since&apos;]) == $last_modified_time ||</div><div class=\"line\">    @trim($headers[&apos;If-None-Match&apos;]) == $etag) &#123;</div><div class=\"line\">  header(&apos;Content-Length: &apos;.filesize($file));</div><div class=\"line\">    header(&quot;HTTP/1.1 304 Not Modified&quot;);</div><div class=\"line\"></div><div class=\"line\">&#125;else&#123;</div><div class=\"line\"></div><div class=\"line\">  header(&quot;Etag: $etag&quot;);</div><div class=\"line\">  header(&apos;Last-Modified: &apos;.gmdate(&apos;D, d M Y H:i:s&apos;, $last_modified_time).&apos; GMT&apos;, true, 200);</div><div class=\"line\">  header(&apos;Content-Length: &apos;.filesize($file));</div><div class=\"line\">  $content=file_get_contents($file);</div><div class=\"line\">  echo $content;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>modifymodifyetag</p>\n<hr>\n<h2 id=\"NGINX\"><a href=\"#NGINX\" class=\"headerlink\" title=\"NGINX\"></a>NGINX</h2><p>php  swoole framework OR workermanetagmodify</p>\n<p>NGINXmodify /etc/nginx/nginx.confetag</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">http &#123;</div><div class=\"line\"></div><div class=\"line\">        ##</div><div class=\"line\">        # Basic Settings</div><div class=\"line\">        ##</div><div class=\"line\">        etag  off;</div><div class=\"line\">        ...</div></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">location ~* \\.(?:css)$ &#123;</div><div class=\"line\">  #expires 1y;</div><div class=\"line\">  add_header  Cache-Control max-age=5;</div><div class=\"line\">  add_header Cache-Control &quot;public&quot;;</div><div class=\"line\">  add_header  Last-Modified &quot;&quot;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>expires 1y; http1.01.1cache-contorl:max-age=;GMT</li>\n<li>add_header  Cache-Control max-age=5; 5Last-Modified add_header  Last-Modified ; 200Last-Modified55304.</li>\n</ol>\n<p>Last-Modifiedmax-ageexpires</p>\n<ol>\n<li><p>max-age=0modify</p>\n</li>\n<li><p>modifymax-age==0.</p>\n</li>\n<li><p>modify max-age=0</p>\n</li>\n<li><p>max-age=1000modify </p>\n</li>\n</ol>\n<p>552005etag</p>\n<hr>\n<p>11ctrl+f5publicprivate</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">location ~* \\.(?:jpg|jpeg|gif|png|ico|cur|gz|svg|svgz|mp4|ogg|ogv|webm|htc)$ &#123;</div><div class=\"line\">  expires 1M;</div><div class=\"line\">  add_header Cache-Control &quot;public&quot;;</div><div class=\"line\">  add_header  Last-Modified &quot;&quot;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">location ~* \\.(?:css)$ &#123;</div><div class=\"line\">  expires 1y;</div><div class=\"line\"> # add_header  Cache-Control max-age=5;</div><div class=\"line\"> # add_header Cache-Control &quot;public&quot;;</div><div class=\"line\"> # add_header  Last-Modified &quot;&quot;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>Last-Modifiedvimxx.css,</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>cache-control<br>no-cahce<br>no-store<br>must-revalidate</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">location ~* \\.(?:js)$ &#123;</div><div class=\"line\">  add_header  Cache-Control no-cache;</div><div class=\"line\">  add_header  Cache-Control must-revalidate;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"PPT\"><a href=\"#PPT\" class=\"headerlink\" title=\"PPT\"></a><a href=\"https://github.com/tuber/HTTP_CACHE\">PPT</a></h2>"},{"title":"JAVA -2016","date":"2016-11-15T03:18:37.000Z","_content":"\n##  ##\n\n#### BTW,... ####\n\n<!-- more -->\n\n```java\n    class Invoice{\n      public void printInvoice(){\n        System.out.println(\"this is content\");\n      }\n    }\n\n    class Decorator extends Invoice{\n      protected Invoice ticket;\n      public Decorator (Invoice t){\n        ticket=t;\n      }\n      public void printInvoice(){\n        if(ticket!=null){\n          ticket.printInvoice();\n        }\n      }\n    }\n\n    class HeaderDecorator extends Decorator{\n\n      public HeaderDecorator(Invoice t){\n        super(t);\n      }\n      public void printInvoice(){\n        System.out.println(\"this is the header\");\n        super.printInvoice();\n      }\n\n    }\n\n    class FooterDecorator extends Decorator{\n\n      public FooterDecorator(Invoice t){\n        super(t);\n      }\n      public void printInvoice(){\n\n        super.printInvoice();\n        System.out.println(\"this is the footer\");\n      }\n\n    }\n\n\n\n    public class zhuangshi {\n\n      public static void main(String[] args){\n        Invoice t =new Invoice();\n        Invoice ticket;\n        ticket=new FooterDecorator(new HeaderDecorator(t));\n        ticket.printInvoice();\n        System.out.println(\"=====================\");\n        ticket=new FooterDecorator(new HeaderDecorator(new Decorator(null)));\n        ticket.printInvoice();\n      }\n\n    }\n\n```\n##  ##\n```java\n     Invoice t =new Invoice();\n      Invoice ticket;\n      ticket=new HeaderDecorator(new FooterDecorator(t));\n      ticket.printInvoice();\n      System.out.println(\"=====================\");\n      ticket=new HeaderDecorator(new FooterDecorator(null));\n      ticket.printInvoice();\n```\n\n##  ##\n![][1]\n\n\n  [1]: /img/patterndesign/zhuangshi.png\n","source":"_posts/java-2016-decorator.md","raw":"---\ntitle: JAVA -2016\ndate: 2016-11-15 11:18:37\ntags:\n - \n - \n - JAVA\n---\n\n##  ##\n\n#### BTW,... ####\n\n<!-- more -->\n\n```java\n    class Invoice{\n      public void printInvoice(){\n        System.out.println(\"this is content\");\n      }\n    }\n\n    class Decorator extends Invoice{\n      protected Invoice ticket;\n      public Decorator (Invoice t){\n        ticket=t;\n      }\n      public void printInvoice(){\n        if(ticket!=null){\n          ticket.printInvoice();\n        }\n      }\n    }\n\n    class HeaderDecorator extends Decorator{\n\n      public HeaderDecorator(Invoice t){\n        super(t);\n      }\n      public void printInvoice(){\n        System.out.println(\"this is the header\");\n        super.printInvoice();\n      }\n\n    }\n\n    class FooterDecorator extends Decorator{\n\n      public FooterDecorator(Invoice t){\n        super(t);\n      }\n      public void printInvoice(){\n\n        super.printInvoice();\n        System.out.println(\"this is the footer\");\n      }\n\n    }\n\n\n\n    public class zhuangshi {\n\n      public static void main(String[] args){\n        Invoice t =new Invoice();\n        Invoice ticket;\n        ticket=new FooterDecorator(new HeaderDecorator(t));\n        ticket.printInvoice();\n        System.out.println(\"=====================\");\n        ticket=new FooterDecorator(new HeaderDecorator(new Decorator(null)));\n        ticket.printInvoice();\n      }\n\n    }\n\n```\n##  ##\n```java\n     Invoice t =new Invoice();\n      Invoice ticket;\n      ticket=new HeaderDecorator(new FooterDecorator(t));\n      ticket.printInvoice();\n      System.out.println(\"=====================\");\n      ticket=new HeaderDecorator(new FooterDecorator(null));\n      ticket.printInvoice();\n```\n\n##  ##\n![][1]\n\n\n  [1]: /img/patterndesign/zhuangshi.png\n","slug":"java-2016-decorator","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan250014zkgv7wb1rm8f","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"BTW-\"><a href=\"#BTW-\" class=\"headerlink\" title=\"BTW,\"></a>BTW,</h4><a id=\"more\"></a>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Invoice</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">printInvoice</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"this is content\"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Decorator</span> <span class=\"keyword\">extends</span> <span class=\"title\">Invoice</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">protected</span> Invoice ticket;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Decorator</span> <span class=\"params\">(Invoice t)</span></span>&#123;</div><div class=\"line\">    ticket=t;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">printInvoice</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(ticket!=<span class=\"keyword\">null</span>)&#123;</div><div class=\"line\">      ticket.printInvoice();</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HeaderDecorator</span> <span class=\"keyword\">extends</span> <span class=\"title\">Decorator</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HeaderDecorator</span><span class=\"params\">(Invoice t)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">super</span>(t);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">printInvoice</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"this is the header\"</span>);</div><div class=\"line\">    <span class=\"keyword\">super</span>.printInvoice();</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FooterDecorator</span> <span class=\"keyword\">extends</span> <span class=\"title\">Decorator</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">FooterDecorator</span><span class=\"params\">(Invoice t)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">super</span>(t);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">printInvoice</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">super</span>.printInvoice();</div><div class=\"line\">    System.out.println(<span class=\"string\">\"this is the footer\"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">zhuangshi</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</div><div class=\"line\">    Invoice t =<span class=\"keyword\">new</span> Invoice();</div><div class=\"line\">    Invoice ticket;</div><div class=\"line\">    ticket=<span class=\"keyword\">new</span> FooterDecorator(<span class=\"keyword\">new</span> HeaderDecorator(t));</div><div class=\"line\">    ticket.printInvoice();</div><div class=\"line\">    System.out.println(<span class=\"string\">\"=====================\"</span>);</div><div class=\"line\">    ticket=<span class=\"keyword\">new</span> FooterDecorator(<span class=\"keyword\">new</span> HeaderDecorator(<span class=\"keyword\">new</span> Decorator(<span class=\"keyword\">null</span>)));</div><div class=\"line\">    ticket.printInvoice();</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">Invoice t =<span class=\"keyword\">new</span> Invoice();</div><div class=\"line\"> Invoice ticket;</div><div class=\"line\"> ticket=<span class=\"keyword\">new</span> HeaderDecorator(<span class=\"keyword\">new</span> FooterDecorator(t));</div><div class=\"line\"> ticket.printInvoice();</div><div class=\"line\"> System.out.println(<span class=\"string\">\"=====================\"</span>);</div><div class=\"line\"> ticket=<span class=\"keyword\">new</span> HeaderDecorator(<span class=\"keyword\">new</span> FooterDecorator(<span class=\"keyword\">null</span>));</div><div class=\"line\"> ticket.printInvoice();</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/img/patterndesign/zhuangshi.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"BTW-\"><a href=\"#BTW-\" class=\"headerlink\" title=\"BTW,\"></a>BTW,</h4>","more":"<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Invoice</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">printInvoice</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"this is content\"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Decorator</span> <span class=\"keyword\">extends</span> <span class=\"title\">Invoice</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">protected</span> Invoice ticket;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Decorator</span> <span class=\"params\">(Invoice t)</span></span>&#123;</div><div class=\"line\">    ticket=t;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">printInvoice</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(ticket!=<span class=\"keyword\">null</span>)&#123;</div><div class=\"line\">      ticket.printInvoice();</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HeaderDecorator</span> <span class=\"keyword\">extends</span> <span class=\"title\">Decorator</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HeaderDecorator</span><span class=\"params\">(Invoice t)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">super</span>(t);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">printInvoice</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"this is the header\"</span>);</div><div class=\"line\">    <span class=\"keyword\">super</span>.printInvoice();</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FooterDecorator</span> <span class=\"keyword\">extends</span> <span class=\"title\">Decorator</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">FooterDecorator</span><span class=\"params\">(Invoice t)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">super</span>(t);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">printInvoice</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">super</span>.printInvoice();</div><div class=\"line\">    System.out.println(<span class=\"string\">\"this is the footer\"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">zhuangshi</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</div><div class=\"line\">    Invoice t =<span class=\"keyword\">new</span> Invoice();</div><div class=\"line\">    Invoice ticket;</div><div class=\"line\">    ticket=<span class=\"keyword\">new</span> FooterDecorator(<span class=\"keyword\">new</span> HeaderDecorator(t));</div><div class=\"line\">    ticket.printInvoice();</div><div class=\"line\">    System.out.println(<span class=\"string\">\"=====================\"</span>);</div><div class=\"line\">    ticket=<span class=\"keyword\">new</span> FooterDecorator(<span class=\"keyword\">new</span> HeaderDecorator(<span class=\"keyword\">new</span> Decorator(<span class=\"keyword\">null</span>)));</div><div class=\"line\">    ticket.printInvoice();</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">Invoice t =<span class=\"keyword\">new</span> Invoice();</div><div class=\"line\"> Invoice ticket;</div><div class=\"line\"> ticket=<span class=\"keyword\">new</span> HeaderDecorator(<span class=\"keyword\">new</span> FooterDecorator(t));</div><div class=\"line\"> ticket.printInvoice();</div><div class=\"line\"> System.out.println(<span class=\"string\">\"=====================\"</span>);</div><div class=\"line\"> ticket=<span class=\"keyword\">new</span> HeaderDecorator(<span class=\"keyword\">new</span> FooterDecorator(<span class=\"keyword\">null</span>));</div><div class=\"line\"> ticket.printInvoice();</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/img/patterndesign/zhuangshi.png\" alt=\"\"></p>"},{"title":"JAVA-2016","date":"2016-11-07T04:28:59.000Z","_content":" ###   Dutch###\n-----------------\n ### adapter ###\n\n\n <!-- more -->\n\n```java\nclass Address{\n  public void street(){System.out.println(\"\");}\n  public void zip(){System.out.println(\"\");}\n  public void city(){System.out.println(\"\");}\n}\n\nclass DutchAddress{\n\n  public void straat(){System.out.println(\"\");}\n  public void postcode(){System.out.println(\"\");}\n  public void plaats(){System.out.println(\"\");}\n}\n\nclass DutchAddressAdapter extends DutchAddress{\n  private Address address;\n  public DutchAddressAdapter(Address addr){\n    this.address=addr;\n  }\n\n  public void straat(){\n    this.address.street();\n  }\n  public void postcode(){\n    this.address.zip();\n  }\n  public void plaats(){\n    this.address.city();\n  }\n\n}\n\n\npublic class Test {\n  public static void main(String[] args){\n    Address addr=new Address();\n    DutchAddress addrAdapter=new DutchAddressAdapter(addr);\n    System.out.println(\"\\n THE DUCTH ADDRESS\\n\");\n    testDutch(addrAdapter);\n  }\n\n  static void testDutch(DutchAddress addr){\n    addr.straat();\n    addr.postcode();\n    addr.plaats();\n  }\n\n}\n```\n###  ###\n\n![][1]\n\n\n[1]: /img/patterndesign/adapter.png\n","source":"_posts/java-adapter.md","raw":"\n---\ntitle: JAVA-2016\ndate: 2016-11-07 12:28:59\ncategories: \ntags:\n - \n - \n - JAVA\n---\n ###   Dutch###\n-----------------\n ### adapter ###\n\n\n <!-- more -->\n\n```java\nclass Address{\n  public void street(){System.out.println(\"\");}\n  public void zip(){System.out.println(\"\");}\n  public void city(){System.out.println(\"\");}\n}\n\nclass DutchAddress{\n\n  public void straat(){System.out.println(\"\");}\n  public void postcode(){System.out.println(\"\");}\n  public void plaats(){System.out.println(\"\");}\n}\n\nclass DutchAddressAdapter extends DutchAddress{\n  private Address address;\n  public DutchAddressAdapter(Address addr){\n    this.address=addr;\n  }\n\n  public void straat(){\n    this.address.street();\n  }\n  public void postcode(){\n    this.address.zip();\n  }\n  public void plaats(){\n    this.address.city();\n  }\n\n}\n\n\npublic class Test {\n  public static void main(String[] args){\n    Address addr=new Address();\n    DutchAddress addrAdapter=new DutchAddressAdapter(addr);\n    System.out.println(\"\\n THE DUCTH ADDRESS\\n\");\n    testDutch(addrAdapter);\n  }\n\n  static void testDutch(DutchAddress addr){\n    addr.straat();\n    addr.postcode();\n    addr.plaats();\n  }\n\n}\n```\n###  ###\n\n![][1]\n\n\n[1]: /img/patterndesign/adapter.png\n","slug":"java-adapter","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan270018zkgvvbdt6dq2","content":"<h3 id=\"--Dutch\"><a href=\"#--Dutch\" class=\"headerlink\" title=\"  Dutch\"></a>  Dutch</h3><hr>\n<h3 id=\"adapter\"><a href=\"#adapter\" class=\"headerlink\" title=\"adapter\"></a>adapter</h3> <a id=\"more\"></a>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Address</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">street</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">zip</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">city</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DutchAddress</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">straat</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">postcode</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">plaats</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DutchAddressAdapter</span> <span class=\"keyword\">extends</span> <span class=\"title\">DutchAddress</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">private</span> Address address;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">DutchAddressAdapter</span><span class=\"params\">(Address addr)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.address=addr;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">straat</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.address.street();</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">postcode</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.address.zip();</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">plaats</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.address.city();</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test</span> </span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</div><div class=\"line\">    Address addr=<span class=\"keyword\">new</span> Address();</div><div class=\"line\">    DutchAddress addrAdapter=<span class=\"keyword\">new</span> DutchAddressAdapter(addr);</div><div class=\"line\">    System.out.println(<span class=\"string\">\"\\n THE DUCTH ADDRESS\\n\"</span>);</div><div class=\"line\">    testDutch(addrAdapter);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">testDutch</span><span class=\"params\">(DutchAddress addr)</span></span>&#123;</div><div class=\"line\">    addr.straat();</div><div class=\"line\">    addr.postcode();</div><div class=\"line\">    addr.plaats();</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/img/patterndesign/adapter.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"--Dutch\"><a href=\"#--Dutch\" class=\"headerlink\" title=\"  Dutch\"></a>  Dutch</h3><hr>\n<h3 id=\"adapter\"><a href=\"#adapter\" class=\"headerlink\" title=\"adapter\"></a>adapter</h3>","more":"<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Address</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">street</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">zip</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">city</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DutchAddress</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">straat</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">postcode</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">plaats</span><span class=\"params\">()</span></span>&#123;System.out.println(<span class=\"string\">\"\"</span>);&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DutchAddressAdapter</span> <span class=\"keyword\">extends</span> <span class=\"title\">DutchAddress</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">private</span> Address address;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">DutchAddressAdapter</span><span class=\"params\">(Address addr)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.address=addr;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">straat</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.address.street();</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">postcode</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.address.zip();</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">plaats</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.address.city();</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test</span> </span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</div><div class=\"line\">    Address addr=<span class=\"keyword\">new</span> Address();</div><div class=\"line\">    DutchAddress addrAdapter=<span class=\"keyword\">new</span> DutchAddressAdapter(addr);</div><div class=\"line\">    System.out.println(<span class=\"string\">\"\\n THE DUCTH ADDRESS\\n\"</span>);</div><div class=\"line\">    testDutch(addrAdapter);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">testDutch</span><span class=\"params\">(DutchAddress addr)</span></span>&#123;</div><div class=\"line\">    addr.straat();</div><div class=\"line\">    addr.postcode();</div><div class=\"line\">    addr.plaats();</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/img/patterndesign/adapter.png\" alt=\"\"></p>"},{"title":"java-2013","date":"2016-11-11T01:22:03.000Z","_content":"###  ###\n\n![][1]\n\n\n[1]: /img/patterndesign/qiaojie.png\n\n<!-- more -->\n\n\n###  ###\n\n```java\n\n\n\ninterface Drawing{\n  public void drawLine(double x1,double y1,double x2,double y2);\n  public void drawCircle(double x,double y,double r);\n}\n\nclass V1Drawing implements Drawing{\n  public void drawLine(double x1,double y1,double x2,double y2){DP1.draw_a_line(x1,y1,x2,y2);}\n  public void drawCircle(double x,double y,double r){DP1.draw_a_circle(x, y, r);}\n}\nclass V2Drawing implements Drawing{\n  public void drawLine(double x1,double x2,double y1,double y2){DP2.drawLine(x1,y1,x2,y2);}\n  public void drawCircle(double x,double y,double r){DP2.drawcircle(x, y, r);}\n}\n\nclass DP1{\n  static public void draw_a_line(double x1,double y1,double x2,double y2){\n    System.out.println(\"DP1 \");\n  }\n  static public void draw_a_circle(double x,double y,double r){\n    System.out.println(\"DP1 \");\n  }\n}\nclass DP2{\n  static public void drawLine(double x1,double y1,double x2,double y2){\n    System.out.println(\"DP2 \");\n  }\n  static public void drawcircle(double x,double y,double r){\n    System.out.println(\"DP2 \");\n  }\n}\n\n\n\nabstract class Shape{\n\n  private Drawing _dp;\n\n  public Shape(Drawing dp){\n    this._dp=dp;\n  }\n\n  abstract public void draw();\n\n  public void drawLine(double x1,double y1,double x2,double y2){\n\n    this._dp.drawLine(x1,x2,y1,y2);\n  }\n  public void drawCircle(double x,double y,double r){this._dp.drawCircle(x,y,r);}\n\n}\nclass Rectangle extends Shape{\n\n  private double _x1,_x2,_y1,_y2;\n\n\n  public Rectangle(Drawing dp,double x1,double x2,double y1,double y2){\n    super(dp);\n    this._x1=x1;\n    this._x2=x2;\n    this._y1=y1;\n    this._y2=y2;\n\n  }\n  public void draw(){\n    System.out.println(\"\"+this._x1+this._x2+this._y1+this._y2);\n    drawLine(_x1,_x2,_y1,_y2);\n    }\n}\nclass Circle extends Shape{\n  private double _x,_y,_r;\n  public Circle (Drawing dp,double x,double y,double r){\n    super(dp);\n  }\n  public void draw(){drawCircle(_x,_y,_r);}\n}\n\npublic class qiaojie {\n\n  public static void main(String[] args){\n    V1Drawing v1=new V1Drawing();\n    V2Drawing v2=new V2Drawing();\n    Rectangle r1=new Rectangle(v1,1.0,2.0,3.0,4.0);\n    r1.draw();\n    v2.drawCircle(2.1, 4.5, 5.6);\n    v2.drawLine(2.4, 3.3 ,4.2, 5.1);\n\n  }\n}\n```\n","source":"_posts/java-bridge.md","raw":"---\ntitle: java-2013\ndate: 2016-11-11 09:22:03\ncategories: \ntags:\n - \n - \n - JAVA\n---\n###  ###\n\n![][1]\n\n\n[1]: /img/patterndesign/qiaojie.png\n\n<!-- more -->\n\n\n###  ###\n\n```java\n\n\n\ninterface Drawing{\n  public void drawLine(double x1,double y1,double x2,double y2);\n  public void drawCircle(double x,double y,double r);\n}\n\nclass V1Drawing implements Drawing{\n  public void drawLine(double x1,double y1,double x2,double y2){DP1.draw_a_line(x1,y1,x2,y2);}\n  public void drawCircle(double x,double y,double r){DP1.draw_a_circle(x, y, r);}\n}\nclass V2Drawing implements Drawing{\n  public void drawLine(double x1,double x2,double y1,double y2){DP2.drawLine(x1,y1,x2,y2);}\n  public void drawCircle(double x,double y,double r){DP2.drawcircle(x, y, r);}\n}\n\nclass DP1{\n  static public void draw_a_line(double x1,double y1,double x2,double y2){\n    System.out.println(\"DP1 \");\n  }\n  static public void draw_a_circle(double x,double y,double r){\n    System.out.println(\"DP1 \");\n  }\n}\nclass DP2{\n  static public void drawLine(double x1,double y1,double x2,double y2){\n    System.out.println(\"DP2 \");\n  }\n  static public void drawcircle(double x,double y,double r){\n    System.out.println(\"DP2 \");\n  }\n}\n\n\n\nabstract class Shape{\n\n  private Drawing _dp;\n\n  public Shape(Drawing dp){\n    this._dp=dp;\n  }\n\n  abstract public void draw();\n\n  public void drawLine(double x1,double y1,double x2,double y2){\n\n    this._dp.drawLine(x1,x2,y1,y2);\n  }\n  public void drawCircle(double x,double y,double r){this._dp.drawCircle(x,y,r);}\n\n}\nclass Rectangle extends Shape{\n\n  private double _x1,_x2,_y1,_y2;\n\n\n  public Rectangle(Drawing dp,double x1,double x2,double y1,double y2){\n    super(dp);\n    this._x1=x1;\n    this._x2=x2;\n    this._y1=y1;\n    this._y2=y2;\n\n  }\n  public void draw(){\n    System.out.println(\"\"+this._x1+this._x2+this._y1+this._y2);\n    drawLine(_x1,_x2,_y1,_y2);\n    }\n}\nclass Circle extends Shape{\n  private double _x,_y,_r;\n  public Circle (Drawing dp,double x,double y,double r){\n    super(dp);\n  }\n  public void draw(){drawCircle(_x,_y,_r);}\n}\n\npublic class qiaojie {\n\n  public static void main(String[] args){\n    V1Drawing v1=new V1Drawing();\n    V2Drawing v2=new V2Drawing();\n    Rectangle r1=new Rectangle(v1,1.0,2.0,3.0,4.0);\n    r1.draw();\n    v2.drawCircle(2.1, 4.5, 5.6);\n    v2.drawLine(2.4, 3.3 ,4.2, 5.1);\n\n  }\n}\n```\n","slug":"java-bridge","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan2b001bzkgv3d56lqq5","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/img/patterndesign/qiaojie.png\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Drawing</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y2)</span></span>;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">V1Drawing</span> <span class=\"keyword\">implements</span> <span class=\"title\">Drawing</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y2)</span></span>&#123;DP1.draw_a_line(x1,y1,x2,y2);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;DP1.draw_a_circle(x, y, r);&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">V2Drawing</span> <span class=\"keyword\">implements</span> <span class=\"title\">Drawing</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> y2)</span></span>&#123;DP2.drawLine(x1,y1,x2,y2);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;DP2.drawcircle(x, y, r);&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DP1</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw_a_line</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y2)</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"DP1 \"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw_a_circle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"DP1 \"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DP2</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y2)</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"DP2 \"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawcircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"DP2 \"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Shape</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">private</span> Drawing _dp;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Shape</span><span class=\"params\">(Drawing dp)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>._dp=dp;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span><span class=\"params\">()</span></span>;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y2)</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">this</span>._dp.drawLine(x1,x2,y1,y2);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;<span class=\"keyword\">this</span>._dp.drawCircle(x,y,r);&#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> <span class=\"keyword\">extends</span> <span class=\"title\">Shape</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">double</span> _x1,_x2,_y1,_y2;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Rectangle</span><span class=\"params\">(Drawing dp,<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> y2)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">super</span>(dp);</div><div class=\"line\">    <span class=\"keyword\">this</span>._x1=x1;</div><div class=\"line\">    <span class=\"keyword\">this</span>._x2=x2;</div><div class=\"line\">    <span class=\"keyword\">this</span>._y1=y1;</div><div class=\"line\">    <span class=\"keyword\">this</span>._y2=y2;</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"\"</span>+<span class=\"keyword\">this</span>._x1+<span class=\"keyword\">this</span>._x2+<span class=\"keyword\">this</span>._y1+<span class=\"keyword\">this</span>._y2);</div><div class=\"line\">    drawLine(_x1,_x2,_y1,_y2);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Circle</span> <span class=\"keyword\">extends</span> <span class=\"title\">Shape</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">double</span> _x,_y,_r;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Circle</span> <span class=\"params\">(Drawing dp,<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">super</span>(dp);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span><span class=\"params\">()</span></span>&#123;drawCircle(_x,_y,_r);&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">qiaojie</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</div><div class=\"line\">    V1Drawing v1=<span class=\"keyword\">new</span> V1Drawing();</div><div class=\"line\">    V2Drawing v2=<span class=\"keyword\">new</span> V2Drawing();</div><div class=\"line\">    Rectangle r1=<span class=\"keyword\">new</span> Rectangle(v1,<span class=\"number\">1.0</span>,<span class=\"number\">2.0</span>,<span class=\"number\">3.0</span>,<span class=\"number\">4.0</span>);</div><div class=\"line\">    r1.draw();</div><div class=\"line\">    v2.drawCircle(<span class=\"number\">2.1</span>, <span class=\"number\">4.5</span>, <span class=\"number\">5.6</span>);</div><div class=\"line\">    v2.drawLine(<span class=\"number\">2.4</span>, <span class=\"number\">3.3</span> ,<span class=\"number\">4.2</span>, <span class=\"number\">5.1</span>);</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/img/patterndesign/qiaojie.png\" alt=\"\"></p>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Drawing</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y2)</span></span>;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">V1Drawing</span> <span class=\"keyword\">implements</span> <span class=\"title\">Drawing</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y2)</span></span>&#123;DP1.draw_a_line(x1,y1,x2,y2);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;DP1.draw_a_circle(x, y, r);&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">V2Drawing</span> <span class=\"keyword\">implements</span> <span class=\"title\">Drawing</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> y2)</span></span>&#123;DP2.drawLine(x1,y1,x2,y2);&#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;DP2.drawcircle(x, y, r);&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DP1</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw_a_line</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y2)</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"DP1 \"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw_a_circle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"DP1 \"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DP2</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y2)</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"DP2 \"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawcircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"DP2 \"</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Shape</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">private</span> Drawing _dp;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Shape</span><span class=\"params\">(Drawing dp)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>._dp=dp;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span><span class=\"params\">()</span></span>;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawLine</span><span class=\"params\">(<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y2)</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">this</span>._dp.drawLine(x1,x2,y1,y2);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drawCircle</span><span class=\"params\">(<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;<span class=\"keyword\">this</span>._dp.drawCircle(x,y,r);&#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Rectangle</span> <span class=\"keyword\">extends</span> <span class=\"title\">Shape</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">double</span> _x1,_x2,_y1,_y2;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Rectangle</span><span class=\"params\">(Drawing dp,<span class=\"keyword\">double</span> x1,<span class=\"keyword\">double</span> x2,<span class=\"keyword\">double</span> y1,<span class=\"keyword\">double</span> y2)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">super</span>(dp);</div><div class=\"line\">    <span class=\"keyword\">this</span>._x1=x1;</div><div class=\"line\">    <span class=\"keyword\">this</span>._x2=x2;</div><div class=\"line\">    <span class=\"keyword\">this</span>._y1=y1;</div><div class=\"line\">    <span class=\"keyword\">this</span>._y2=y2;</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    System.out.println(<span class=\"string\">\"\"</span>+<span class=\"keyword\">this</span>._x1+<span class=\"keyword\">this</span>._x2+<span class=\"keyword\">this</span>._y1+<span class=\"keyword\">this</span>._y2);</div><div class=\"line\">    drawLine(_x1,_x2,_y1,_y2);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Circle</span> <span class=\"keyword\">extends</span> <span class=\"title\">Shape</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">double</span> _x,_y,_r;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Circle</span> <span class=\"params\">(Drawing dp,<span class=\"keyword\">double</span> x,<span class=\"keyword\">double</span> y,<span class=\"keyword\">double</span> r)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">super</span>(dp);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">draw</span><span class=\"params\">()</span></span>&#123;drawCircle(_x,_y,_r);&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">qiaojie</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</div><div class=\"line\">    V1Drawing v1=<span class=\"keyword\">new</span> V1Drawing();</div><div class=\"line\">    V2Drawing v2=<span class=\"keyword\">new</span> V2Drawing();</div><div class=\"line\">    Rectangle r1=<span class=\"keyword\">new</span> Rectangle(v1,<span class=\"number\">1.0</span>,<span class=\"number\">2.0</span>,<span class=\"number\">3.0</span>,<span class=\"number\">4.0</span>);</div><div class=\"line\">    r1.draw();</div><div class=\"line\">    v2.drawCircle(<span class=\"number\">2.1</span>, <span class=\"number\">4.5</span>, <span class=\"number\">5.6</span>);</div><div class=\"line\">    v2.drawLine(<span class=\"number\">2.4</span>, <span class=\"number\">3.3</span> ,<span class=\"number\">4.2</span>, <span class=\"number\">5.1</span>);</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"},{"title":"JAVA-2015","date":"2016-11-07T04:18:59.000Z","_content":"\n ### []###\n-----------------\n ### strategy ###\n\n <!-- more -->\n\n```java\n//\nenum TYPE {NORMAL,CASH_DISCOUNT,CASH_RETURN}\n\ninterface CashSuper{\n  public double acceptCash(double money);\n}\n\n//\nclass CashNormal implements CashSuper{\n  public double acceptCash(double money){\n    return money;\n  }\n}\n\n//\nclass CashDiscount implements CashSuper{\n  private double discountRate;\n\n  public CashDiscount(double discountRate){\n    this.discountRate=discountRate;\n\n  }\n  public double acceptCash(double money){\n    return money*discountRate;\n  }\n}\n\n//\nclass CashReturn implements CashSuper{\n  private double moneyCondition;\n  private double moneyReturn;\n\n  public CashReturn(double moneyCondition,double moneyReturn){\n\n    this.moneyCondition=moneyCondition;\n    this.moneyReturn=moneyReturn;\n\n  }\n  public double acceptCash(double money){\n\n    double result =money;\n    if(money>=moneyCondition){\n      result=money-moneyReturn;\n    }\n    return result;\n  }\n}\n\n// \npublic class CashContent {\n  private CashSuper sc;\n  private TYPE t;\n\n  public CashContent (TYPE t){\n      switch (t){\n      case NORMAL:\n      sc=new CashNormal();\n      break;\n\n      case CASH_DISCOUNT:\n      sc=new CashDiscount(0.9);\n      break;\n\n\n      case CASH_RETURN:\n      sc=new CashReturn(300.00,50.00);\n          break;\n    }\n  }\n\n//\n  public static void main(String[] argus){\n    CashContent cc=new CashContent(TYPE.CASH_RETURN);\n    //CashContent cc=new CashContent(TYPE.CASH_DISCOUNT);\n    //CashContent cc=new CashContent(TYPE.NORMAL);\n\n    System.out.println(cc.sc.acceptCash(900));//900-50=850.0\n\n  }\n}\n\n\n```\n###  ###\n\n![][1]\n\n\n[1]: /img/patterndesign/strategy.png\n","source":"_posts/java-strategy.md","raw":"---\ntitle: JAVA-2015\ndate: 2016-11-07 12:18:59\ncategories: \ntags:\n - \n - \n - JAVA\n---\n\n ### []###\n-----------------\n ### strategy ###\n\n <!-- more -->\n\n```java\n//\nenum TYPE {NORMAL,CASH_DISCOUNT,CASH_RETURN}\n\ninterface CashSuper{\n  public double acceptCash(double money);\n}\n\n//\nclass CashNormal implements CashSuper{\n  public double acceptCash(double money){\n    return money;\n  }\n}\n\n//\nclass CashDiscount implements CashSuper{\n  private double discountRate;\n\n  public CashDiscount(double discountRate){\n    this.discountRate=discountRate;\n\n  }\n  public double acceptCash(double money){\n    return money*discountRate;\n  }\n}\n\n//\nclass CashReturn implements CashSuper{\n  private double moneyCondition;\n  private double moneyReturn;\n\n  public CashReturn(double moneyCondition,double moneyReturn){\n\n    this.moneyCondition=moneyCondition;\n    this.moneyReturn=moneyReturn;\n\n  }\n  public double acceptCash(double money){\n\n    double result =money;\n    if(money>=moneyCondition){\n      result=money-moneyReturn;\n    }\n    return result;\n  }\n}\n\n// \npublic class CashContent {\n  private CashSuper sc;\n  private TYPE t;\n\n  public CashContent (TYPE t){\n      switch (t){\n      case NORMAL:\n      sc=new CashNormal();\n      break;\n\n      case CASH_DISCOUNT:\n      sc=new CashDiscount(0.9);\n      break;\n\n\n      case CASH_RETURN:\n      sc=new CashReturn(300.00,50.00);\n          break;\n    }\n  }\n\n//\n  public static void main(String[] argus){\n    CashContent cc=new CashContent(TYPE.CASH_RETURN);\n    //CashContent cc=new CashContent(TYPE.CASH_DISCOUNT);\n    //CashContent cc=new CashContent(TYPE.NORMAL);\n\n    System.out.println(cc.sc.acceptCash(900));//900-50=850.0\n\n  }\n}\n\n\n```\n###  ###\n\n![][1]\n\n\n[1]: /img/patterndesign/strategy.png\n","slug":"java-strategy","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan2d001ezkgv1pdh4rg1","content":"<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"[]\"></a>[]</h3><hr>\n<h3 id=\"strategy\"><a href=\"#strategy\" class=\"headerlink\" title=\"strategy\"></a>strategy</h3> <a id=\"more\"></a>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"keyword\">enum</span> TYPE &#123;NORMAL,CASH_DISCOUNT,CASH_RETURN&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">CashSuper</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">double</span> <span class=\"title\">acceptCash</span><span class=\"params\">(<span class=\"keyword\">double</span> money)</span></span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CashNormal</span> <span class=\"keyword\">implements</span> <span class=\"title\">CashSuper</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">double</span> <span class=\"title\">acceptCash</span><span class=\"params\">(<span class=\"keyword\">double</span> money)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> money;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CashDiscount</span> <span class=\"keyword\">implements</span> <span class=\"title\">CashSuper</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">double</span> discountRate;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CashDiscount</span><span class=\"params\">(<span class=\"keyword\">double</span> discountRate)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.discountRate=discountRate;</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">double</span> <span class=\"title\">acceptCash</span><span class=\"params\">(<span class=\"keyword\">double</span> money)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> money*discountRate;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CashReturn</span> <span class=\"keyword\">implements</span> <span class=\"title\">CashSuper</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">double</span> moneyCondition;</div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">double</span> moneyReturn;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CashReturn</span><span class=\"params\">(<span class=\"keyword\">double</span> moneyCondition,<span class=\"keyword\">double</span> moneyReturn)</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">this</span>.moneyCondition=moneyCondition;</div><div class=\"line\">    <span class=\"keyword\">this</span>.moneyReturn=moneyReturn;</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">double</span> <span class=\"title\">acceptCash</span><span class=\"params\">(<span class=\"keyword\">double</span> money)</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">double</span> result =money;</div><div class=\"line\">    <span class=\"keyword\">if</span>(money&gt;=moneyCondition)&#123;</div><div class=\"line\">      result=money-moneyReturn;</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> result;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CashContent</span> </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">private</span> CashSuper sc;</div><div class=\"line\">  <span class=\"keyword\">private</span> TYPE t;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CashContent</span> <span class=\"params\">(TYPE t)</span></span>&#123;</div><div class=\"line\">      <span class=\"keyword\">switch</span> (t)&#123;</div><div class=\"line\">      <span class=\"keyword\">case</span> NORMAL:</div><div class=\"line\">      sc=<span class=\"keyword\">new</span> CashNormal();</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\"></div><div class=\"line\">      <span class=\"keyword\">case</span> CASH_DISCOUNT:</div><div class=\"line\">      sc=<span class=\"keyword\">new</span> CashDiscount(<span class=\"number\">0.9</span>);</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">      <span class=\"keyword\">case</span> CASH_RETURN:</div><div class=\"line\">      sc=<span class=\"keyword\">new</span> CashReturn(<span class=\"number\">300.00</span>,<span class=\"number\">50.00</span>);</div><div class=\"line\">          <span class=\"keyword\">break</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] argus)</span></span>&#123;</div><div class=\"line\">    CashContent cc=<span class=\"keyword\">new</span> CashContent(TYPE.CASH_RETURN);</div><div class=\"line\">    <span class=\"comment\">//CashContent cc=new CashContent(TYPE.CASH_DISCOUNT);</span></div><div class=\"line\">    <span class=\"comment\">//CashContent cc=new CashContent(TYPE.NORMAL);</span></div><div class=\"line\"></div><div class=\"line\">    System.out.println(cc.sc.acceptCash(<span class=\"number\">900</span>));<span class=\"comment\">//900-50=850.0</span></div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/img/patterndesign/strategy.png\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"[]\"></a>[]</h3><hr>\n<h3 id=\"strategy\"><a href=\"#strategy\" class=\"headerlink\" title=\"strategy\"></a>strategy</h3>","more":"<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"keyword\">enum</span> TYPE &#123;NORMAL,CASH_DISCOUNT,CASH_RETURN&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">CashSuper</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">double</span> <span class=\"title\">acceptCash</span><span class=\"params\">(<span class=\"keyword\">double</span> money)</span></span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CashNormal</span> <span class=\"keyword\">implements</span> <span class=\"title\">CashSuper</span></span>&#123;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">double</span> <span class=\"title\">acceptCash</span><span class=\"params\">(<span class=\"keyword\">double</span> money)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> money;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CashDiscount</span> <span class=\"keyword\">implements</span> <span class=\"title\">CashSuper</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">double</span> discountRate;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CashDiscount</span><span class=\"params\">(<span class=\"keyword\">double</span> discountRate)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.discountRate=discountRate;</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">double</span> <span class=\"title\">acceptCash</span><span class=\"params\">(<span class=\"keyword\">double</span> money)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> money*discountRate;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CashReturn</span> <span class=\"keyword\">implements</span> <span class=\"title\">CashSuper</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">double</span> moneyCondition;</div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">double</span> moneyReturn;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CashReturn</span><span class=\"params\">(<span class=\"keyword\">double</span> moneyCondition,<span class=\"keyword\">double</span> moneyReturn)</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">this</span>.moneyCondition=moneyCondition;</div><div class=\"line\">    <span class=\"keyword\">this</span>.moneyReturn=moneyReturn;</div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">double</span> <span class=\"title\">acceptCash</span><span class=\"params\">(<span class=\"keyword\">double</span> money)</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">double</span> result =money;</div><div class=\"line\">    <span class=\"keyword\">if</span>(money&gt;=moneyCondition)&#123;</div><div class=\"line\">      result=money-moneyReturn;</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> result;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// </span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CashContent</span> </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">private</span> CashSuper sc;</div><div class=\"line\">  <span class=\"keyword\">private</span> TYPE t;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CashContent</span> <span class=\"params\">(TYPE t)</span></span>&#123;</div><div class=\"line\">      <span class=\"keyword\">switch</span> (t)&#123;</div><div class=\"line\">      <span class=\"keyword\">case</span> NORMAL:</div><div class=\"line\">      sc=<span class=\"keyword\">new</span> CashNormal();</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\"></div><div class=\"line\">      <span class=\"keyword\">case</span> CASH_DISCOUNT:</div><div class=\"line\">      sc=<span class=\"keyword\">new</span> CashDiscount(<span class=\"number\">0.9</span>);</div><div class=\"line\">      <span class=\"keyword\">break</span>;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">      <span class=\"keyword\">case</span> CASH_RETURN:</div><div class=\"line\">      sc=<span class=\"keyword\">new</span> CashReturn(<span class=\"number\">300.00</span>,<span class=\"number\">50.00</span>);</div><div class=\"line\">          <span class=\"keyword\">break</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//</span></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] argus)</span></span>&#123;</div><div class=\"line\">    CashContent cc=<span class=\"keyword\">new</span> CashContent(TYPE.CASH_RETURN);</div><div class=\"line\">    <span class=\"comment\">//CashContent cc=new CashContent(TYPE.CASH_DISCOUNT);</span></div><div class=\"line\">    <span class=\"comment\">//CashContent cc=new CashContent(TYPE.NORMAL);</span></div><div class=\"line\"></div><div class=\"line\">    System.out.println(cc.sc.acceptCash(<span class=\"number\">900</span>));<span class=\"comment\">//900-50=850.0</span></div><div class=\"line\"></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"/img/patterndesign/strategy.png\" alt=\"\"></p>"},{"title":"jp2aascii","date":"2016-11-21T02:05:49.000Z","_content":"\n##  ##\n<iframe height=498 width=510 src='http://player.youku.com/embed/XMTgyODIyMjA3Mg==' frameborder=0 'allowfullscreen'></iframe>\n\n<!-- more -->\n\n##  ##\n\n```\n#!/bin/bash\nmake\njp2a --color --background=light -b -f --term-fit  waimai.jpg >waimai.txt\ncat waimai.txt\nsleep 2\nmake clean >/dev/null 2>&1\njp2a --color --background=light -b -f --term-fit zaiyiqilvse.jpg >zaiyiqi.txt\ncat zaiyiqi.txt\n\n```\n\n##  ##\n\njp2aphpb\nsh \n\n\n\n","source":"_posts/jp2a-meituan.md","raw":"---\ntitle: jp2aascii\ndate: 2016-11-21 10:05:49\ncategories: LINUX\ntags:\n - jp2a\n - ascii\n - meituan\n---\n\n##  ##\n<iframe height=498 width=510 src='http://player.youku.com/embed/XMTgyODIyMjA3Mg==' frameborder=0 'allowfullscreen'></iframe>\n\n<!-- more -->\n\n##  ##\n\n```\n#!/bin/bash\nmake\njp2a --color --background=light -b -f --term-fit  waimai.jpg >waimai.txt\ncat waimai.txt\nsleep 2\nmake clean >/dev/null 2>&1\njp2a --color --background=light -b -f --term-fit zaiyiqilvse.jpg >zaiyiqi.txt\ncat zaiyiqi.txt\n\n```\n\n##  ##\n\njp2aphpb\nsh \n\n\n\n","slug":"jp2a-meituan","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan2f001hzkgv1qcszp3b","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><iframe height=\"498\" width=\"510\" src=\"http://player.youku.com/embed/XMTgyODIyMjA3Mg==\" frameborder=\"0\" 'allowfullscreen'=\"\"></iframe>\n\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">#!/bin/bash</div><div class=\"line\">make</div><div class=\"line\">jp2a --color --background=light -b -f --term-fit  waimai.jpg &gt;waimai.txt</div><div class=\"line\">cat waimai.txt</div><div class=\"line\">sleep 2</div><div class=\"line\">make clean &gt;/dev/null 2&gt;&amp;1</div><div class=\"line\">jp2a --color --background=light -b -f --term-fit zaiyiqilvse.jpg &gt;zaiyiqi.txt</div><div class=\"line\">cat zaiyiqi.txt</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>jp2aphpb<br>sh </p>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><iframe height=498 width=510 src='http://player.youku.com/embed/XMTgyODIyMjA3Mg==' frameborder=0 'allowfullscreen'></iframe>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">#!/bin/bash</div><div class=\"line\">make</div><div class=\"line\">jp2a --color --background=light -b -f --term-fit  waimai.jpg &gt;waimai.txt</div><div class=\"line\">cat waimai.txt</div><div class=\"line\">sleep 2</div><div class=\"line\">make clean &gt;/dev/null 2&gt;&amp;1</div><div class=\"line\">jp2a --color --background=light -b -f --term-fit zaiyiqilvse.jpg &gt;zaiyiqi.txt</div><div class=\"line\">cat zaiyiqi.txt</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>jp2aphpb<br>sh </p>"},{"title":"linux top about cpu","date":"2016-12-07T04:48:13.000Z","_content":"\n```\nTasks: 179 total,   4 running, 175 sleeping,   0 stopped,   0 zombie\n%Cpu(s): 10.3 us,  1.3 sy,  0.0 ni, 88.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\nKiB Mem:   3012668 total,  1073356 used,  1939312 free,    52772 buffers\nKiB Swap:  1308668 total,        0 used,  1308668 free.   409160 cached Mem\n\n```\n\n`us`  cpunicecpu\n\n`sy`  cpu\n\n`id` idle \n`wa` waiting ioio\n`hi` hard irq time \n`si` soft irq time io\n`st` steal time cpu\n\n `/proc/stat`\n\n```\ntb@tb:~$ cat /proc/stat\ncpu  5803 228 1006 54723 212 0 22 0 0 0\ncpu0 5803 228 1006 54723 212 0 22 0 0 0\nintr 105215 41 238 0 0 0 0 0 0 0 0 0 0 288 0 0 741 0 0 0 3170 1912 14235 58 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\nctxt 1172838\nbtime 1481084918\nprocesses 2570\nprocs_running 6\nprocs_blocked 0\nsoftirq 48007 4 24384 126 3233 14075 0 271 0 0 5914\n```\n<a href=\"http://download.csdn.net/detail/u010703523/9704275\" ></a>\n\n\n","source":"_posts/linux-top-about-cpu.md","raw":"---\ntitle: linux top about cpu\ndate: 2016-12-07 12:48:13\ncategories: PHP\ntags:\n - linux\n - cpu\n---\n\n```\nTasks: 179 total,   4 running, 175 sleeping,   0 stopped,   0 zombie\n%Cpu(s): 10.3 us,  1.3 sy,  0.0 ni, 88.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\nKiB Mem:   3012668 total,  1073356 used,  1939312 free,    52772 buffers\nKiB Swap:  1308668 total,        0 used,  1308668 free.   409160 cached Mem\n\n```\n\n`us`  cpunicecpu\n\n`sy`  cpu\n\n`id` idle \n`wa` waiting ioio\n`hi` hard irq time \n`si` soft irq time io\n`st` steal time cpu\n\n `/proc/stat`\n\n```\ntb@tb:~$ cat /proc/stat\ncpu  5803 228 1006 54723 212 0 22 0 0 0\ncpu0 5803 228 1006 54723 212 0 22 0 0 0\nintr 105215 41 238 0 0 0 0 0 0 0 0 0 0 288 0 0 741 0 0 0 3170 1912 14235 58 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\nctxt 1172838\nbtime 1481084918\nprocesses 2570\nprocs_running 6\nprocs_blocked 0\nsoftirq 48007 4 24384 126 3233 14075 0 271 0 0 5914\n```\n<a href=\"http://download.csdn.net/detail/u010703523/9704275\" ></a>\n\n\n","slug":"linux-top-about-cpu","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan2g001jzkgvjv3bds71","content":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">Tasks: 179 total,   4 running, 175 sleeping,   0 stopped,   0 zombie</div><div class=\"line\">%Cpu(s): 10.3 us,  1.3 sy,  0.0 ni, 88.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</div><div class=\"line\">KiB Mem:   3012668 total,  1073356 used,  1939312 free,    52772 buffers</div><div class=\"line\">KiB Swap:  1308668 total,        0 used,  1308668 free.   409160 cached Mem</div></pre></td></tr></table></figure>\n<p><code>us</code>  cpunicecpu</p>\n<p><code>sy</code>  cpu</p>\n<p><code>id</code> idle <br><code>wa</code> waiting ioio<br><code>hi</code> hard irq time <br><code>si</code> soft irq time io<br><code>st</code> steal time cpu</p>\n<p> <code>/proc/stat</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">tb@tb:~$ cat /proc/stat</div><div class=\"line\">cpu  5803 228 1006 54723 212 0 22 0 0 0</div><div class=\"line\">cpu0 5803 228 1006 54723 212 0 22 0 0 0</div><div class=\"line\">intr 105215 41 238 0 0 0 0 0 0 0 0 0 0 288 0 0 741 0 0 0 3170 1912 14235 58 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</div><div class=\"line\">ctxt 1172838</div><div class=\"line\">btime 1481084918</div><div class=\"line\">processes 2570</div><div class=\"line\">procs_running 6</div><div class=\"line\">procs_blocked 0</div><div class=\"line\">softirq 48007 4 24384 126 3233 14075 0 271 0 0 5914</div></pre></td></tr></table></figure>\n<p><a href=\"http://download.csdn.net/detail/u010703523/9704275\" target=\"_blank\" rel=\"external\"></a></p>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">Tasks: 179 total,   4 running, 175 sleeping,   0 stopped,   0 zombie</div><div class=\"line\">%Cpu(s): 10.3 us,  1.3 sy,  0.0 ni, 88.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</div><div class=\"line\">KiB Mem:   3012668 total,  1073356 used,  1939312 free,    52772 buffers</div><div class=\"line\">KiB Swap:  1308668 total,        0 used,  1308668 free.   409160 cached Mem</div></pre></td></tr></table></figure>\n<p><code>us</code>  cpunicecpu</p>\n<p><code>sy</code>  cpu</p>\n<p><code>id</code> idle <br><code>wa</code> waiting ioio<br><code>hi</code> hard irq time <br><code>si</code> soft irq time io<br><code>st</code> steal time cpu</p>\n<p> <code>/proc/stat</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">tb@tb:~$ cat /proc/stat</div><div class=\"line\">cpu  5803 228 1006 54723 212 0 22 0 0 0</div><div class=\"line\">cpu0 5803 228 1006 54723 212 0 22 0 0 0</div><div class=\"line\">intr 105215 41 238 0 0 0 0 0 0 0 0 0 0 288 0 0 741 0 0 0 3170 1912 14235 58 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</div><div class=\"line\">ctxt 1172838</div><div class=\"line\">btime 1481084918</div><div class=\"line\">processes 2570</div><div class=\"line\">procs_running 6</div><div class=\"line\">procs_blocked 0</div><div class=\"line\">softirq 48007 4 24384 126 3233 14075 0 271 0 0 5914</div></pre></td></tr></table></figure>\n<p><a href=\"http://download.csdn.net/detail/u010703523/9704275\" ></a></p>\n"},{"title":"mycncart email","date":"2017-11-25T12:25:03.000Z","_content":"## log\n\n500php\n`fpm_error.log``nginx errorlog`\n<!-- more -->\n\n\n`root@tuan:/var/log/nginx# tail -f error.log`\n\nnginx log \n\n```\n...\n/php7.0-fpm.sock:\", host: \"www.maipingzheng.com\", referrer: \"http://www.maipingzheng.com/index.php?route=checkout/checkout\"\n2017/11/25 19:50:49 [error] 6104#6104: *504 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Uncaught Exception: Error: EHLO not accepted from server! in /usr/share/nginx/cart_2.0.0.3/system/library/mail/smtp.php:120\nStack trace:\n...\n\n```\n\n \n`EHLO not acceptedfromserver!`smtpsmtp.phpssl\n\n\n## \nsmtp\n`smtp.exmail.qq.com`\n\n\n`ssl://smtp.exmail.qq.com`\n\n\n## ~\nopencart nginx url seo \n```\n\tserver {\n\n         location / {\n\n                 try_files $uri @opencart;\n\n         }\n\n         location @opencart {\n\n                 rewrite ^/(.+)$ /index.php?_route_=$1 last;\n\n         }\n\n\n         location ~* (\\.(tpl|ini))$ {\n\n                 deny all;\n\n \t\t}\n```\n\n","source":"_posts/mycnart_email_config.md","raw":"\n---\ntitle: mycncart email\ndate: 2017-11-25 20:25:03\ncategories: PHP\ntags:\n- mycnart\n---\n## log\n\n500php\n`fpm_error.log``nginx errorlog`\n<!-- more -->\n\n\n`root@tuan:/var/log/nginx# tail -f error.log`\n\nnginx log \n\n```\n...\n/php7.0-fpm.sock:\", host: \"www.maipingzheng.com\", referrer: \"http://www.maipingzheng.com/index.php?route=checkout/checkout\"\n2017/11/25 19:50:49 [error] 6104#6104: *504 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Uncaught Exception: Error: EHLO not accepted from server! in /usr/share/nginx/cart_2.0.0.3/system/library/mail/smtp.php:120\nStack trace:\n...\n\n```\n\n \n`EHLO not acceptedfromserver!`smtpsmtp.phpssl\n\n\n## \nsmtp\n`smtp.exmail.qq.com`\n\n\n`ssl://smtp.exmail.qq.com`\n\n\n## ~\nopencart nginx url seo \n```\n\tserver {\n\n         location / {\n\n                 try_files $uri @opencart;\n\n         }\n\n         location @opencart {\n\n                 rewrite ^/(.+)$ /index.php?_route_=$1 last;\n\n         }\n\n\n         location ~* (\\.(tpl|ini))$ {\n\n                 deny all;\n\n \t\t}\n```\n\n","slug":"mycnart_email_config","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan2i001nzkgvqt12wfif","content":"<h2 id=\"log\"><a href=\"#log\" class=\"headerlink\" title=\"log\"></a>log</h2><p>500php<br><code>fpm_error.log</code><code>nginx errorlog</code><br><a id=\"more\"></a></p>\n<p><br><code>root@tuan:/var/log/nginx# tail -f error.log</code></p>\n<p>nginx log </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">...</div><div class=\"line\">/php7.0-fpm.sock:&quot;, host: &quot;www.maipingzheng.com&quot;, referrer: &quot;http://www.maipingzheng.com/index.php?route=checkout/checkout&quot;</div><div class=\"line\">2017/11/25 19:50:49 [error] 6104#6104: *504 FastCGI sent in stderr: &quot;PHP message: PHP Fatal error:  Uncaught Exception: Error: EHLO not accepted from server! in /usr/share/nginx/cart_2.0.0.3/system/library/mail/smtp.php:120</div><div class=\"line\">Stack trace:</div><div class=\"line\">...</div></pre></td></tr></table></figure>\n<p><br><code>EHLO not acceptedfromserver!</code>smtpsmtp.phpssl</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>smtp<br><code>smtp.exmail.qq.com</code><br></p>\n<p><code>ssl://smtp.exmail.qq.com</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"~\"></a>~</h2><p>opencart nginx url seo <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">server &#123;</div><div class=\"line\"></div><div class=\"line\">        location / &#123;</div><div class=\"line\"></div><div class=\"line\">                try_files $uri @opencart;</div><div class=\"line\"></div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        location @opencart &#123;</div><div class=\"line\"></div><div class=\"line\">                rewrite ^/(.+)$ /index.php?_route_=$1 last;</div><div class=\"line\"></div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">        location ~* (\\.(tpl|ini))$ &#123;</div><div class=\"line\"></div><div class=\"line\">                deny all;</div><div class=\"line\"></div><div class=\"line\">\t\t&#125;</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"log\"><a href=\"#log\" class=\"headerlink\" title=\"log\"></a>log</h2><p>500php<br><code>fpm_error.log</code><code>nginx errorlog</code><br>","more":"</p>\n<p><br><code>root@tuan:/var/log/nginx# tail -f error.log</code></p>\n<p>nginx log </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">...</div><div class=\"line\">/php7.0-fpm.sock:&quot;, host: &quot;www.maipingzheng.com&quot;, referrer: &quot;http://www.maipingzheng.com/index.php?route=checkout/checkout&quot;</div><div class=\"line\">2017/11/25 19:50:49 [error] 6104#6104: *504 FastCGI sent in stderr: &quot;PHP message: PHP Fatal error:  Uncaught Exception: Error: EHLO not accepted from server! in /usr/share/nginx/cart_2.0.0.3/system/library/mail/smtp.php:120</div><div class=\"line\">Stack trace:</div><div class=\"line\">...</div></pre></td></tr></table></figure>\n<p><br><code>EHLO not acceptedfromserver!</code>smtpsmtp.phpssl</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>smtp<br><code>smtp.exmail.qq.com</code><br></p>\n<p><code>ssl://smtp.exmail.qq.com</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"~\"></a>~</h2><p>opencart nginx url seo <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">server &#123;</div><div class=\"line\"></div><div class=\"line\">        location / &#123;</div><div class=\"line\"></div><div class=\"line\">                try_files $uri @opencart;</div><div class=\"line\"></div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        location @opencart &#123;</div><div class=\"line\"></div><div class=\"line\">                rewrite ^/(.+)$ /index.php?_route_=$1 last;</div><div class=\"line\"></div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">        location ~* (\\.(tpl|ini))$ &#123;</div><div class=\"line\"></div><div class=\"line\">                deny all;</div><div class=\"line\"></div><div class=\"line\">\t\t&#125;</div></pre></td></tr></table></figure></p>"},{"title":"phpfatal error","date":"2017-11-17T11:06:12.000Z","_content":"\nlaravelconf\n\n{% codeblock lang:php %}\n<?php\nfunction fatal_handler() {\n    $errfile = \"unknown file\";\n    $errstr  = \"shutdown\";\n    $errno   = E_CORE_ERROR;\n    $errline = 0;\n\n    $error = error_get_last();\n\n    if($error){\n      //\n        file_put_contents('./testerror11.txt', json_encode($error));\n    }\n}\nregister_shutdown_function(\"fatal_handler\");\n\ntry{\n    $db=new db();\n}catch(Exception $e){\n\necho $e->error_msg();\n}\n\n{% endcodeblock %}\n","source":"_posts/php-catch-fatel-error.md","raw":"---\ntitle: phpfatal error\ndate: 2017-11-17 19:06:12\ncategories: PHP\ntags:\n - \n---\n\nlaravelconf\n\n{% codeblock lang:php %}\n<?php\nfunction fatal_handler() {\n    $errfile = \"unknown file\";\n    $errstr  = \"shutdown\";\n    $errno   = E_CORE_ERROR;\n    $errline = 0;\n\n    $error = error_get_last();\n\n    if($error){\n      //\n        file_put_contents('./testerror11.txt', json_encode($error));\n    }\n}\nregister_shutdown_function(\"fatal_handler\");\n\ntry{\n    $db=new db();\n}catch(Exception $e){\n\necho $e->error_msg();\n}\n\n{% endcodeblock %}\n","slug":"php-catch-fatel-error","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan2j001qzkgvgdjf68k0","content":"<p>laravelconf</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;?php</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fatal_handler</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    $errfile = <span class=\"string\">\"unknown file\"</span>;</div><div class=\"line\">    $errstr  = <span class=\"string\">\"shutdown\"</span>;</div><div class=\"line\">    $errno   = E_CORE_ERROR;</div><div class=\"line\">    $errline = <span class=\"number\">0</span>;</div><div class=\"line\"></div><div class=\"line\">    $error = error_get_last();</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">if</span>($error)&#123;</div><div class=\"line\">      <span class=\"comment\">//</span></div><div class=\"line\">        file_put_contents(<span class=\"string\">'./testerror11.txt'</span>, json_encode($error));</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">register_shutdown_function(<span class=\"string\">\"fatal_handler\"</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">try</span>&#123;</div><div class=\"line\">    $db=<span class=\"keyword\">new</span> db();</div><div class=\"line\">&#125;<span class=\"keyword\">catch</span>(<span class=\"keyword\">Exception</span> $e)&#123;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">echo</span> $e-&gt;error_msg();</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>laravelconf</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;?php</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fatal_handler</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    $errfile = <span class=\"string\">\"unknown file\"</span>;</div><div class=\"line\">    $errstr  = <span class=\"string\">\"shutdown\"</span>;</div><div class=\"line\">    $errno   = E_CORE_ERROR;</div><div class=\"line\">    $errline = <span class=\"number\">0</span>;</div><div class=\"line\"></div><div class=\"line\">    $error = error_get_last();</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">if</span>($error)&#123;</div><div class=\"line\">      <span class=\"comment\">//</span></div><div class=\"line\">        file_put_contents(<span class=\"string\">'./testerror11.txt'</span>, json_encode($error));</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">register_shutdown_function(<span class=\"string\">\"fatal_handler\"</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">try</span>&#123;</div><div class=\"line\">    $db=<span class=\"keyword\">new</span> db();</div><div class=\"line\">&#125;<span class=\"keyword\">catch</span>(<span class=\"keyword\">Exception</span> $e)&#123;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">echo</span> $e-&gt;error_msg();</div><div class=\"line\">&#125;</div><div class=\"line\"></div></pre></td></tr></table></figure>\n"},{"title":"PHP","date":"2016-11-04T11:18:59.000Z","_content":"```php\n<?php\n/*\n1.arr[i]\n2.arr[i]temparr[i]\narr[i]arr[i]\n\n3.2temp\n*/\n$arr = [3, 7, 6,8,1];\n\nfunction insertSort($arr)\n{\n    for ($i = 1; $i < count($arr); $i++)\n    {\n        echo '{$i}=' . $i . \"\" . \"\\n\";\n\n        $temp = $arr[$i];//\n        echo '{$temp}=' . $temp . \"\\n\";\n\n        for ($j = $i - 1; $j >= 0 && $temp > $arr[$j]; $j--)\n        {\n            echo '====>{$j}=' . $j . \"\" . \"\\n\";\n            echo '$temp' . \"=$temp \" . \"VS \" . '$arr[$j]=' . \"$arr[$j]\" . \"\\n\";\n\n            $arr[$j + 1] = $arr[$j];\n            echo 'temp,$j'.$arr[$j].'$j=' . $j, \"\\n\";\n        }\n\n        echo '{$i}=' . $i . '';\n        // var_dump($temp,$arr[$i]);==\n        $arr[$j + 1] = $temp;\n        echo '  $j=' . $j . 'temp' . \"$temp\" . '$j+1' . \"\\n\";\n\n        echo \"=====\", \"\\n\";\n\n    }\n    return $arr;\n}\n\nvar_dump(insertSort($arr));\n```\n","source":"_posts/php-insert-sort.md","raw":"---\ntitle: PHP\ndate: 2016-11-04 19:18:59\ncategories: PHP\ntags:\n - PHP\n - \n - \n---\n```php\n<?php\n/*\n1.arr[i]\n2.arr[i]temparr[i]\narr[i]arr[i]\n\n3.2temp\n*/\n$arr = [3, 7, 6,8,1];\n\nfunction insertSort($arr)\n{\n    for ($i = 1; $i < count($arr); $i++)\n    {\n        echo '{$i}=' . $i . \"\" . \"\\n\";\n\n        $temp = $arr[$i];//\n        echo '{$temp}=' . $temp . \"\\n\";\n\n        for ($j = $i - 1; $j >= 0 && $temp > $arr[$j]; $j--)\n        {\n            echo '====>{$j}=' . $j . \"\" . \"\\n\";\n            echo '$temp' . \"=$temp \" . \"VS \" . '$arr[$j]=' . \"$arr[$j]\" . \"\\n\";\n\n            $arr[$j + 1] = $arr[$j];\n            echo 'temp,$j'.$arr[$j].'$j=' . $j, \"\\n\";\n        }\n\n        echo '{$i}=' . $i . '';\n        // var_dump($temp,$arr[$i]);==\n        $arr[$j + 1] = $temp;\n        echo '  $j=' . $j . 'temp' . \"$temp\" . '$j+1' . \"\\n\";\n\n        echo \"=====\", \"\\n\";\n\n    }\n    return $arr;\n}\n\nvar_dump(insertSort($arr));\n```\n","slug":"php-insert-sort","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan2l001uzkgvynl63wfm","content":"<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;?php</span></div><div class=\"line\"><span class=\"comment\">/*</span></div><div class=\"line\">1.arr[i]</div><div class=\"line\">2.arr[i]temparr[i]</div><div class=\"line\">arr[i]arr[i]</div><div class=\"line\"></div><div class=\"line\">3.2temp</div><div class=\"line\">*/</div><div class=\"line\">$arr = [<span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">6</span>,<span class=\"number\">8</span>,<span class=\"number\">1</span>];</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">insertSort</span><span class=\"params\">($arr)</span></span></div><div class=\"line\">&#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> ($i = <span class=\"number\">1</span>; $i &lt; count($arr); $i++)</div><div class=\"line\">    &#123;</div><div class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">'&#123;$i&#125;='</span> . $i . <span class=\"string\">\"\"</span> . <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\"></div><div class=\"line\">        $temp = $arr[$i];<span class=\"comment\">//</span></div><div class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">'&#123;$temp&#125;='</span> . $temp . <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">for</span> ($j = $i - <span class=\"number\">1</span>; $j &gt;= <span class=\"number\">0</span> &amp;&amp; $temp &gt; $arr[$j]; $j--)</div><div class=\"line\">        &#123;</div><div class=\"line\">            <span class=\"keyword\">echo</span> <span class=\"string\">'====&gt;&#123;$j&#125;='</span> . $j . <span class=\"string\">\"\"</span> . <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\">            <span class=\"keyword\">echo</span> <span class=\"string\">'$temp'</span> . <span class=\"string\">\"=$temp \"</span> . <span class=\"string\">\"VS \"</span> . <span class=\"string\">'$arr[$j]='</span> . <span class=\"string\">\"$arr[$j]\"</span> . <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\"></div><div class=\"line\">            $arr[$j + <span class=\"number\">1</span>] = $arr[$j];</div><div class=\"line\">            <span class=\"keyword\">echo</span> <span class=\"string\">'temp,$j'</span>.$arr[$j].<span class=\"string\">'$j='</span> . $j, <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">'&#123;$i&#125;='</span> . $i . <span class=\"string\">''</span>;</div><div class=\"line\">        <span class=\"comment\">// var_dump($temp,$arr[$i]);==</span></div><div class=\"line\">        $arr[$j + <span class=\"number\">1</span>] = $temp;</div><div class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">'  $j='</span> . $j . <span class=\"string\">'temp'</span> . <span class=\"string\">\"$temp\"</span> . <span class=\"string\">'$j+1'</span> . <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">\"=====\"</span>, <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> $arr;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">var_dump(insertSort($arr));</div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;?php</span></div><div class=\"line\"><span class=\"comment\">/*</div><div class=\"line\">1.arr[i]</div><div class=\"line\">2.arr[i]temparr[i]</div><div class=\"line\">arr[i]arr[i]</div><div class=\"line\"></div><div class=\"line\">3.2temp</div><div class=\"line\">*/</span></div><div class=\"line\">$arr = [<span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">6</span>,<span class=\"number\">8</span>,<span class=\"number\">1</span>];</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">insertSort</span><span class=\"params\">($arr)</span></div><div class=\"line\"></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> ($i = <span class=\"number\">1</span>; $i &lt; count($arr); $i++)</div><div class=\"line\">    &#123;</div><div class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">'&#123;$i&#125;='</span> . $i . <span class=\"string\">\"\"</span> . <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\"></div><div class=\"line\">        $temp = $arr[$i];<span class=\"comment\">//</span></div><div class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">'&#123;$temp&#125;='</span> . $temp . <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">for</span> ($j = $i - <span class=\"number\">1</span>; $j &gt;= <span class=\"number\">0</span> &amp;&amp; $temp &gt; $arr[$j]; $j--)</div><div class=\"line\">        &#123;</div><div class=\"line\">            <span class=\"keyword\">echo</span> <span class=\"string\">'====&gt;&#123;$j&#125;='</span> . $j . <span class=\"string\">\"\"</span> . <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\">            <span class=\"keyword\">echo</span> <span class=\"string\">'$temp'</span> . <span class=\"string\">\"=$temp \"</span> . <span class=\"string\">\"VS \"</span> . <span class=\"string\">'$arr[$j]='</span> . <span class=\"string\">\"$arr[$j]\"</span> . <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\"></div><div class=\"line\">            $arr[$j + <span class=\"number\">1</span>] = $arr[$j];</div><div class=\"line\">            <span class=\"keyword\">echo</span> <span class=\"string\">'temp,$j'</span>.$arr[$j].<span class=\"string\">'$j='</span> . $j, <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">'&#123;$i&#125;='</span> . $i . <span class=\"string\">''</span>;</div><div class=\"line\">        <span class=\"comment\">// var_dump($temp,$arr[$i]);==</span></div><div class=\"line\">        $arr[$j + <span class=\"number\">1</span>] = $temp;</div><div class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">'  $j='</span> . $j . <span class=\"string\">'temp'</span> . <span class=\"string\">\"$temp\"</span> . <span class=\"string\">'$j+1'</span> . <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"string\">\"=====\"</span>, <span class=\"string\">\"\\n\"</span>;</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> $arr;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">var_dump(insertSort($arr));</div></pre></td></tr></table></figure>\n"},{"title":"ubuntuPHP7","date":"2016-11-21T05:41:11.000Z","_content":"\n\n## php ##\n\n`apt-get autoremove php*`\n\n##  ##\n\n```\napt-get install software-properties-common\nadd-apt-repository ppa:ondrej/php\napt-get update\n```\n\n## php ##\n\n <!-- more -->\n\n```\napt-get install php-common php-cli php-fpm php-mysql php-gd php-dev php-zip php-pear php-curl php-mbstring\n\n```\n\n##  ##\n\n\n`/etc/init.d/php7.0-fpm` php7.0fpm\n\n```\nroot@lyh:/etc/init.d# /etc/init.d/php7.0-fpm status[start stop]\nphp7.0-fpm start/running, process 1704\n\n```\n\n\n- `/etc/php/7.0/fpm/php-fpm.conf`\n\n  `pid = /run/php/php7.0-fpm.pid`\n\n- `/etc/php/7.0/fpm/pool.d/www.conf`\n\n  `listen = /run/php/php7.0-fpm.sock`\n\n- `/etc/nginx/sites-enabled`yoursite.conf\n\n  `fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;`\n\n## PHP-v ##\n\n```\nroot@lyh:/etc/php/7.0/fpm# php -v\nPHP 7.0.13-1+deb.sury.org~trusty+1 (cli) ( NTS )\nCopyright (c) 1997-2016 The PHP Group\nZend Engine v3.0.0, Copyright (c) 1998-2016 Zend Technologies\n    with Zend OPcache v7.0.13-1+deb.sury.org~trusty+1, Copyright (c) 1999-2016, by Zend Technologies\n\n```\n","source":"_posts/php7-update-on-ubuntu.md","raw":"---\ntitle: ubuntuPHP7\ndate: 2016-11-21 13:41:11\ncategories: PHP\ntags:\n - PHP7\n - FPM\n - Ubuntu\n---\n\n\n## php ##\n\n`apt-get autoremove php*`\n\n##  ##\n\n```\napt-get install software-properties-common\nadd-apt-repository ppa:ondrej/php\napt-get update\n```\n\n## php ##\n\n <!-- more -->\n\n```\napt-get install php-common php-cli php-fpm php-mysql php-gd php-dev php-zip php-pear php-curl php-mbstring\n\n```\n\n##  ##\n\n\n`/etc/init.d/php7.0-fpm` php7.0fpm\n\n```\nroot@lyh:/etc/init.d# /etc/init.d/php7.0-fpm status[start stop]\nphp7.0-fpm start/running, process 1704\n\n```\n\n\n- `/etc/php/7.0/fpm/php-fpm.conf`\n\n  `pid = /run/php/php7.0-fpm.pid`\n\n- `/etc/php/7.0/fpm/pool.d/www.conf`\n\n  `listen = /run/php/php7.0-fpm.sock`\n\n- `/etc/nginx/sites-enabled`yoursite.conf\n\n  `fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;`\n\n## PHP-v ##\n\n```\nroot@lyh:/etc/php/7.0/fpm# php -v\nPHP 7.0.13-1+deb.sury.org~trusty+1 (cli) ( NTS )\nCopyright (c) 1997-2016 The PHP Group\nZend Engine v3.0.0, Copyright (c) 1998-2016 Zend Technologies\n    with Zend OPcache v7.0.13-1+deb.sury.org~trusty+1, Copyright (c) 1999-2016, by Zend Technologies\n\n```\n","slug":"php7-update-on-ubuntu","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan2r001yzkgvwfne9852","content":"<h2 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h2><p><code>apt-get autoremove php*</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install software-properties-common</div><div class=\"line\">add-apt-repository ppa:ondrej/php</div><div class=\"line\">apt-get update</div></pre></td></tr></table></figure>\n<h2 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h2> <a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install php-common php-cli php-fpm php-mysql php-gd php-dev php-zip php-pear php-curl php-mbstring</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>/etc/init.d/php7.0-fpm</code> php7.0fpm</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@lyh:/etc/init.d# /etc/init.d/php7.0-fpm status[start stop]</div><div class=\"line\">php7.0-fpm start/running, process 1704</div></pre></td></tr></table></figure>\n<ul>\n<li><p><code>/etc/php/7.0/fpm/php-fpm.conf</code></p>\n<p><code>pid = /run/php/php7.0-fpm.pid</code></p>\n</li>\n<li><p><code>/etc/php/7.0/fpm/pool.d/www.conf</code></p>\n<p><code>listen = /run/php/php7.0-fpm.sock</code></p>\n</li>\n<li><p><code>/etc/nginx/sites-enabled</code>yoursite.conf</p>\n<p><code>fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;</code></p>\n</li>\n</ul>\n<h2 id=\"PHP-v\"><a href=\"#PHP-v\" class=\"headerlink\" title=\"PHP-v\"></a>PHP-v</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@lyh:/etc/php/7.0/fpm# php -v</div><div class=\"line\">PHP 7.0.13-1+deb.sury.org~trusty+1 (cli) ( NTS )</div><div class=\"line\">Copyright (c) 1997-2016 The PHP Group</div><div class=\"line\">Zend Engine v3.0.0, Copyright (c) 1998-2016 Zend Technologies</div><div class=\"line\">    with Zend OPcache v7.0.13-1+deb.sury.org~trusty+1, Copyright (c) 1999-2016, by Zend Technologies</div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h2 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h2><p><code>apt-get autoremove php*</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install software-properties-common</div><div class=\"line\">add-apt-repository ppa:ondrej/php</div><div class=\"line\">apt-get update</div></pre></td></tr></table></figure>\n<h2 id=\"php\"><a href=\"#php\" class=\"headerlink\" title=\"php\"></a>php</h2>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install php-common php-cli php-fpm php-mysql php-gd php-dev php-zip php-pear php-curl php-mbstring</div></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>/etc/init.d/php7.0-fpm</code> php7.0fpm</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@lyh:/etc/init.d# /etc/init.d/php7.0-fpm status[start stop]</div><div class=\"line\">php7.0-fpm start/running, process 1704</div></pre></td></tr></table></figure>\n<ul>\n<li><p><code>/etc/php/7.0/fpm/php-fpm.conf</code></p>\n<p><code>pid = /run/php/php7.0-fpm.pid</code></p>\n</li>\n<li><p><code>/etc/php/7.0/fpm/pool.d/www.conf</code></p>\n<p><code>listen = /run/php/php7.0-fpm.sock</code></p>\n</li>\n<li><p><code>/etc/nginx/sites-enabled</code>yoursite.conf</p>\n<p><code>fastcgi_pass unix:/var/run/php/php7.0-fpm.sock;</code></p>\n</li>\n</ul>\n<h2 id=\"PHP-v\"><a href=\"#PHP-v\" class=\"headerlink\" title=\"PHP-v\"></a>PHP-v</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@lyh:/etc/php/7.0/fpm# php -v</div><div class=\"line\">PHP 7.0.13-1+deb.sury.org~trusty+1 (cli) ( NTS )</div><div class=\"line\">Copyright (c) 1997-2016 The PHP Group</div><div class=\"line\">Zend Engine v3.0.0, Copyright (c) 1998-2016 Zend Technologies</div><div class=\"line\">    with Zend OPcache v7.0.13-1+deb.sury.org~trusty+1, Copyright (c) 1999-2016, by Zend Technologies</div></pre></td></tr></table></figure>"},{"title":"PHPSTORM","date":"2016-12-05T05:39:22.000Z","_content":"\n## phpstorm ##\n\n\n## Live Templates\n\n*ct==Crate Time*\n\n![][1]\n\n<!-- more -->\n\n[1]: /img/php/storm-1.jpg\n\n## Live TemplatesApplication PHP Comments\n![][2]\n\n[2]: /img/php/storm-2.jpg\n\n## \n\n![][3]\n\n[3]: /img/php/storm-3.jpg\n\n## EG\n\n```\n /**\n     * Desc:\n     * v4.1.7\n     * @Date&Time 2016-12-01 16:48\n     * User: TongBo\n     */\n```\n\n\n","source":"_posts/phpstorm-add-comment-in-function.md","raw":"---\ntitle: PHPSTORM\ndate: 2016-12-05 13:39:22\ncategories: PHP\ntags:\n - PHPSTORM\n - PHP\n - \n---\n\n## phpstorm ##\n\n\n## Live Templates\n\n*ct==Crate Time*\n\n![][1]\n\n<!-- more -->\n\n[1]: /img/php/storm-1.jpg\n\n## Live TemplatesApplication PHP Comments\n![][2]\n\n[2]: /img/php/storm-2.jpg\n\n## \n\n![][3]\n\n[3]: /img/php/storm-3.jpg\n\n## EG\n\n```\n /**\n     * Desc:\n     * v4.1.7\n     * @Date&Time 2016-12-01 16:48\n     * User: TongBo\n     */\n```\n\n\n","slug":"phpstorm-add-comment-in-function","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan2s0021zkgvb7uedl7p","content":"<h2 id=\"phpstorm\"><a href=\"#phpstorm\" class=\"headerlink\" title=\"phpstorm\"></a>phpstorm</h2><h2 id=\"Live-Templates\"><a href=\"#Live-Templates\" class=\"headerlink\" title=\"Live Templates\"></a>Live Templates</h2><p><em>ct==Crate Time</em></p>\n<p><img src=\"/img/php/storm-1.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<h2 id=\"Live-TemplatesApplication-PHP-Comments\"><a href=\"#Live-TemplatesApplication-PHP-Comments\" class=\"headerlink\" title=\"Live TemplatesApplication PHP Comments\"></a>Live TemplatesApplication PHP Comments</h2><p><img src=\"/img/php/storm-2.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/img/php/storm-3.jpg\" alt=\"\"></p>\n<h2 id=\"EG\"><a href=\"#EG\" class=\"headerlink\" title=\"EG\"></a>EG</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\">    * Desc:</div><div class=\"line\">    * v4.1.7</div><div class=\"line\">    * @Date&amp;Time 2016-12-01 16:48</div><div class=\"line\">    * User: TongBo</div><div class=\"line\">    */</div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<h2 id=\"phpstorm\"><a href=\"#phpstorm\" class=\"headerlink\" title=\"phpstorm\"></a>phpstorm</h2><h2 id=\"Live-Templates\"><a href=\"#Live-Templates\" class=\"headerlink\" title=\"Live Templates\"></a>Live Templates</h2><p><em>ct==Crate Time</em></p>\n<p><img src=\"/img/php/storm-1.jpg\" alt=\"\"></p>","more":"<h2 id=\"Live-TemplatesApplication-PHP-Comments\"><a href=\"#Live-TemplatesApplication-PHP-Comments\" class=\"headerlink\" title=\"Live TemplatesApplication PHP Comments\"></a>Live TemplatesApplication PHP Comments</h2><p><img src=\"/img/php/storm-2.jpg\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"/img/php/storm-3.jpg\" alt=\"\"></p>\n<h2 id=\"EG\"><a href=\"#EG\" class=\"headerlink\" title=\"EG\"></a>EG</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\">    * Desc:</div><div class=\"line\">    * v4.1.7</div><div class=\"line\">    * @Date&amp;Time 2016-12-01 16:48</div><div class=\"line\">    * User: TongBo</div><div class=\"line\">    */</div></pre></td></tr></table></figure>"},{"title":"''","date":"2016-11-04T10:22:18.000Z","_content":"*git...*\n\nHEXO\n-------\n\n iamtbgithubAhexo dynamicBhexo static\n\n    npm install -g hexo\n\n    npm install hexo-deployer-git --save\n\n    hexo init iamtb\n\n iamtb\n\n    hexo s\n\n\nNBNEXT\n-----------\n\niamtbNEXT\n\n<!-- more -->\n\n    git clone https://github.com/iissnan/hexo-theme-next themes/next\n\npage\n\n[]\n-------\n\n[]**.git**A.git\n**.gitignore** ,`node_modules``db.json`ignoreignoreignore\n\n `.ignore`\n\n    .DS_Store\n    Thumbs.db\n    *.log\n    public/\n    .deploy*/\n\nA\n-----\n\ngithub[A][1]A\n\n      503  git status\n      504  git init\n      505  git status\n      506  git add *\n      507  git commit -m 'init hexo and next theme'\n      508  git status\n      509  git remote\n      510  git remote add origin https://github.com/tuber/tbhexo.git\n      511  git branch\n      512  git push\n      513  git push origin master\n\nyourname.github.io\n--------------------\n\ngithub[B][2],settingLaunch automatic page generator`yourname.github.io`\n\n\n\nconfig\n----------\n\n `hexo d`B\n\n    deploy:\n      type: git\n      repo: https://github.com/tuber/tuber.github.io.git\n      branch: master\n      message: just static\n\n\n\n\n\n--------\n\n google\n\n    hexo new 001\n\n    hexo new 002\n\n    hexo new 003\n\n    hexo g\n\n    git commit -am'add 3 post'\n\n    git push origin master #masteroriginA\n\n    hexo d #B\n\n80%\n-------\n\n \n\n    git clone https://github.com/tuber/tbhexo.git\n\n `tbhexo`\n\nthhexo**init init init**\n\n    npm install hexo\n\n    npm install hexo-deployer-git\n\n`hexo s` \n\n tbhexo\n\n\n    hexo new add tbhexo 004\n    hexo new add tbhexo 005\n    hexo new add tbhexo 006\n\n\n\n\n\n      504  git status\n      505  git add *\n      506  git commit -m'add 3 posts and tow helloword posts in tbhexo'\n      507  git push origin master\n\n\n----\n\n`hexo d`\n\n\n`yourname.github.io`\n\n\n\n\n----\n\n  `git pull origin master`\n\n`git push origin master` \n\n\n----\n\nhello word \n\n\n![][3]\n\nPostScript\n----\n1. `git pull origin master` [`git branch` `git remore`]\n2. `hexo new yourpost``source/``yourpost.md`\n3. `hexo g` tags img`git add *``git status`\n4.  `git commit  -m 'add yourpost'`\n5. ()`git push origin master`\n6. io[tuber.github.io][4].5\n\n\n  [1]: https://github.com/tuber/tbhexo.git\n  [2]: http://tuber.github.io\n  [3]: /img/node/IAMTB.png\n  [4]: http://tuber.github.io\n","source":"_posts/post.md","raw":"---\ntitle: ''\ndate: 2016-11-04 18:22:18\ncategories: node\ntags:\n - github.page\n - hexo\n - git\n - node\n---\n*git...*\n\nHEXO\n-------\n\n iamtbgithubAhexo dynamicBhexo static\n\n    npm install -g hexo\n\n    npm install hexo-deployer-git --save\n\n    hexo init iamtb\n\n iamtb\n\n    hexo s\n\n\nNBNEXT\n-----------\n\niamtbNEXT\n\n<!-- more -->\n\n    git clone https://github.com/iissnan/hexo-theme-next themes/next\n\npage\n\n[]\n-------\n\n[]**.git**A.git\n**.gitignore** ,`node_modules``db.json`ignoreignoreignore\n\n `.ignore`\n\n    .DS_Store\n    Thumbs.db\n    *.log\n    public/\n    .deploy*/\n\nA\n-----\n\ngithub[A][1]A\n\n      503  git status\n      504  git init\n      505  git status\n      506  git add *\n      507  git commit -m 'init hexo and next theme'\n      508  git status\n      509  git remote\n      510  git remote add origin https://github.com/tuber/tbhexo.git\n      511  git branch\n      512  git push\n      513  git push origin master\n\nyourname.github.io\n--------------------\n\ngithub[B][2],settingLaunch automatic page generator`yourname.github.io`\n\n\n\nconfig\n----------\n\n `hexo d`B\n\n    deploy:\n      type: git\n      repo: https://github.com/tuber/tuber.github.io.git\n      branch: master\n      message: just static\n\n\n\n\n\n--------\n\n google\n\n    hexo new 001\n\n    hexo new 002\n\n    hexo new 003\n\n    hexo g\n\n    git commit -am'add 3 post'\n\n    git push origin master #masteroriginA\n\n    hexo d #B\n\n80%\n-------\n\n \n\n    git clone https://github.com/tuber/tbhexo.git\n\n `tbhexo`\n\nthhexo**init init init**\n\n    npm install hexo\n\n    npm install hexo-deployer-git\n\n`hexo s` \n\n tbhexo\n\n\n    hexo new add tbhexo 004\n    hexo new add tbhexo 005\n    hexo new add tbhexo 006\n\n\n\n\n\n      504  git status\n      505  git add *\n      506  git commit -m'add 3 posts and tow helloword posts in tbhexo'\n      507  git push origin master\n\n\n----\n\n`hexo d`\n\n\n`yourname.github.io`\n\n\n\n\n----\n\n  `git pull origin master`\n\n`git push origin master` \n\n\n----\n\nhello word \n\n\n![][3]\n\nPostScript\n----\n1. `git pull origin master` [`git branch` `git remore`]\n2. `hexo new yourpost``source/``yourpost.md`\n3. `hexo g` tags img`git add *``git status`\n4.  `git commit  -m 'add yourpost'`\n5. ()`git push origin master`\n6. io[tuber.github.io][4].5\n\n\n  [1]: https://github.com/tuber/tbhexo.git\n  [2]: http://tuber.github.io\n  [3]: /img/node/IAMTB.png\n  [4]: http://tuber.github.io\n","slug":"post","published":1,"updated":"2018-12-09T08:31:36.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan2v0024zkgvjwxr62yx","content":"<p><em>git</em></p>\n<h2 id=\"HEXO\"><a href=\"#HEXO\" class=\"headerlink\" title=\"HEXO\"></a>HEXO</h2><p> iamtbgithubAhexo dynamicBhexo static</p>\n<pre><code>npm install -g hexo\n\nnpm install hexo-deployer-git --save\n\nhexo init iamtb\n</code></pre><p> iamtb</p>\n<pre><code>hexo s\n</code></pre><h2 id=\"NBNEXT\"><a href=\"#NBNEXT\" class=\"headerlink\" title=\"NBNEXT\"></a>NBNEXT</h2><p>iamtbNEXT</p>\n<a id=\"more\"></a>\n<pre><code>git clone https://github.com/iissnan/hexo-theme-next themes/next\n</code></pre><p>page</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"[]\"></a>[]</h2><p>[]<strong>.git</strong>A.git<br><strong>.gitignore</strong> ,<code>node_modules</code><code>db.json</code>ignoreignoreignore</p>\n<p> <code>.ignore</code></p>\n<pre><code>.DS_Store\nThumbs.db\n*.log\npublic/\n.deploy*/\n</code></pre><h2 id=\"A\"><a href=\"#A\" class=\"headerlink\" title=\"A\"></a>A</h2><p>github<a href=\"https://github.com/tuber/tbhexo.git\" target=\"_blank\" rel=\"external\">A</a>A</p>\n<pre><code>503  git status\n504  git init\n505  git status\n506  git add *\n507  git commit -m &apos;init hexo and next theme&apos;\n508  git status\n509  git remote\n510  git remote add origin https://github.com/tuber/tbhexo.git\n511  git branch\n512  git push\n513  git push origin master\n</code></pre><h2 id=\"yourname-github-io\"><a href=\"#yourname-github-io\" class=\"headerlink\" title=\"yourname.github.io\"></a>yourname.github.io</h2><p>github<a href=\"http://tuber.github.io\" target=\"_blank\" rel=\"external\">B</a>,settingLaunch automatic page generator<code>yourname.github.io</code></p>\n<h2 id=\"config\"><a href=\"#config\" class=\"headerlink\" title=\"config\"></a>config</h2><p> <code>hexo d</code>B</p>\n<pre><code>deploy:\n  type: git\n  repo: https://github.com/tuber/tuber.github.io.git\n  branch: master\n  message: just static\n</code></pre><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> google</p>\n<pre><code>hexo new 001\n\nhexo new 002\n\nhexo new 003\n\nhexo g\n\ngit commit -am&apos;add 3 post&apos;\n\ngit push origin master #masteroriginA\n\nhexo d #B\n</code></pre><h2 id=\"80-\"><a href=\"#80-\" class=\"headerlink\" title=\"80%\"></a>80%</h2><p> </p>\n<pre><code>git clone https://github.com/tuber/tbhexo.git\n</code></pre><p> <code>tbhexo</code></p>\n<p>thhexo<strong>init init init</strong></p>\n<pre><code>npm install hexo\n\nnpm install hexo-deployer-git\n</code></pre><p><code>hexo s</code> </p>\n<p> tbhexo<br></p>\n<pre><code>hexo new add tbhexo 004\nhexo new add tbhexo 005\nhexo new add tbhexo 006\n</code></pre><p></p>\n<pre><code>504  git status\n505  git add *\n506  git commit -m&apos;add 3 posts and tow helloword posts in tbhexo&apos;\n507  git push origin master\n</code></pre><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>hexo d</code></p>\n<p><code>yourname.github.io</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  <code>git pull origin master</code></p>\n<p><code>git push origin master</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>hello word <br></p>\n<p><img src=\"/img/node/IAMTB.png\" alt=\"\"></p>\n<h2 id=\"PostScript\"><a href=\"#PostScript\" class=\"headerlink\" title=\"PostScript\"></a>PostScript</h2><ol>\n<li><code>git pull origin master</code> [<code>git branch</code> <code>git remore</code>]</li>\n<li><code>hexo new yourpost</code><code>source/</code><code>yourpost.md</code></li>\n<li><code>hexo g</code> tags img<code>git add *</code><code>git status</code></li>\n<li> <code>git commit  -m &#39;add yourpost&#39;</code></li>\n<li>()<code>git push origin master</code></li>\n<li>io<a href=\"http://tuber.github.io\" target=\"_blank\" rel=\"external\">tuber.github.io</a>.5</li>\n</ol>\n","site":{"data":{}},"excerpt":"<p><em>git</em></p>\n<h2 id=\"HEXO\"><a href=\"#HEXO\" class=\"headerlink\" title=\"HEXO\"></a>HEXO</h2><p> iamtbgithubAhexo dynamicBhexo static</p>\n<pre><code>npm install -g hexo\n\nnpm install hexo-deployer-git --save\n\nhexo init iamtb\n</code></pre><p> iamtb</p>\n<pre><code>hexo s\n</code></pre><h2 id=\"NBNEXT\"><a href=\"#NBNEXT\" class=\"headerlink\" title=\"NBNEXT\"></a>NBNEXT</h2><p>iamtbNEXT</p>","more":"<pre><code>git clone https://github.com/iissnan/hexo-theme-next themes/next\n</code></pre><p>page</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"[]\"></a>[]</h2><p>[]<strong>.git</strong>A.git<br><strong>.gitignore</strong> ,<code>node_modules</code><code>db.json</code>ignoreignoreignore</p>\n<p> <code>.ignore</code></p>\n<pre><code>.DS_Store\nThumbs.db\n*.log\npublic/\n.deploy*/\n</code></pre><h2 id=\"A\"><a href=\"#A\" class=\"headerlink\" title=\"A\"></a>A</h2><p>github<a href=\"https://github.com/tuber/tbhexo.git\">A</a>A</p>\n<pre><code>503  git status\n504  git init\n505  git status\n506  git add *\n507  git commit -m &apos;init hexo and next theme&apos;\n508  git status\n509  git remote\n510  git remote add origin https://github.com/tuber/tbhexo.git\n511  git branch\n512  git push\n513  git push origin master\n</code></pre><h2 id=\"yourname-github-io\"><a href=\"#yourname-github-io\" class=\"headerlink\" title=\"yourname.github.io\"></a>yourname.github.io</h2><p>github<a href=\"http://tuber.github.io\">B</a>,settingLaunch automatic page generator<code>yourname.github.io</code></p>\n<h2 id=\"config\"><a href=\"#config\" class=\"headerlink\" title=\"config\"></a>config</h2><p> <code>hexo d</code>B</p>\n<pre><code>deploy:\n  type: git\n  repo: https://github.com/tuber/tuber.github.io.git\n  branch: master\n  message: just static\n</code></pre><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> google</p>\n<pre><code>hexo new 001\n\nhexo new 002\n\nhexo new 003\n\nhexo g\n\ngit commit -am&apos;add 3 post&apos;\n\ngit push origin master #masteroriginA\n\nhexo d #B\n</code></pre><h2 id=\"80-\"><a href=\"#80-\" class=\"headerlink\" title=\"80%\"></a>80%</h2><p> </p>\n<pre><code>git clone https://github.com/tuber/tbhexo.git\n</code></pre><p> <code>tbhexo</code></p>\n<p>thhexo<strong>init init init</strong></p>\n<pre><code>npm install hexo\n\nnpm install hexo-deployer-git\n</code></pre><p><code>hexo s</code> </p>\n<p> tbhexo<br></p>\n<pre><code>hexo new add tbhexo 004\nhexo new add tbhexo 005\nhexo new add tbhexo 006\n</code></pre><p></p>\n<pre><code>504  git status\n505  git add *\n506  git commit -m&apos;add 3 posts and tow helloword posts in tbhexo&apos;\n507  git push origin master\n</code></pre><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>hexo d</code></p>\n<p><code>yourname.github.io</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  <code>git pull origin master</code></p>\n<p><code>git push origin master</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>hello word <br></p>\n<p><img src=\"/img/node/IAMTB.png\" alt=\"\"></p>\n<h2 id=\"PostScript\"><a href=\"#PostScript\" class=\"headerlink\" title=\"PostScript\"></a>PostScript</h2><ol>\n<li><code>git pull origin master</code> [<code>git branch</code> <code>git remore</code>]</li>\n<li><code>hexo new yourpost</code><code>source/</code><code>yourpost.md</code></li>\n<li><code>hexo g</code> tags img<code>git add *</code><code>git status</code></li>\n<li> <code>git commit  -m &#39;add yourpost&#39;</code></li>\n<li>()<code>git push origin master</code></li>\n<li>io<a href=\"http://tuber.github.io\">tuber.github.io</a>.5</li>\n</ol>"},{"title":"redis","date":"2017-11-22T13:12:03.000Z","_content":"\n\n\n## [incr][1]\n\nN[][2]\n\n<!-- more -->\n```\n if ($this->redis_db->incr(\"bj_\".$car_no) != 1) {\n      ,~\n  }else{\n       //incr\n       if(){\n         id\n         $this->yredis_db->del(\"bj_\".$id);\n       }else{\n         A\n         ...\n         B\n     }\n}\n```\n`incr``string``hash``sortedSet`\n\n## [blpop][3]\n\n`blpop`lpop\n`blpop``key``key`listname`block`.\n\n```\n        $date = date('Ymd', time());\n        // \n        return $this->redis->blpop(self::$_config['dispatch_normal_list'] . $date, self::$_config['dispatch_better_list'] . $date, self::$_config['redis_block_l_pop_time_out']);\n\n```\n\n## [hsetnx][4]\n\n`hash``field``value``field`0\ncar_nohash field people hash field\nhash_base_people {\"zhangsan\":\"A888\",\"lisi\":\"A999\"}\nhash_base_car_no {\"A888\":\"zhangsan\",\"A999\":\"lisi\"}\nhash ,hget\n\n## [hdel][5]\n\nhsetnxhdel\n\n```\n //people_idkeyhash\n $base_people_id_del = $this->redis->hdel(self::$_config['hash_base_people'], $people_id);\n\n //car_nokeyhash\n $base_car_no_del = $this->redis->hdel(self::$_config['hash_base_car_no'], $clue_id);\n```\n\n## [lpush][6]\n\nlist\n\n```\n$lpush_res = $redisObj->lpush($list_name, $car_no);\n\n```\n\nlist_namecar_no`better_car_no``normal_car_no``blpop`\n\n## [rpoplpush][7]\nNlist\n`lpop``pop``rpoplpus`h`pop``lrem`\n\n\n  [1]: http://redisdoc.com/string/incr.html\n  [2]: http://num.10010.com/NumApp/chseNumList/init?num=186\n  [3]: http://redisdoc.com/list/blpop.html\n  [4]: http://redisdoc.com/hash/hsetnx.html\n  [5]: http://redisdoc.com/hash/hdel.html\n  [6]: http://redisdoc.com/list/lpush.html\n  [7]: http://redisdoc.com/list/rpoplpush.html\n\n","source":"_posts/redis_incr_hash.md","raw":"---\ntitle: redis\ndate: 2017-11-22 21:12:03\ncategories: REDIS\ntags:\n- REDIS\n---\n\n\n\n## [incr][1]\n\nN[][2]\n\n<!-- more -->\n```\n if ($this->redis_db->incr(\"bj_\".$car_no) != 1) {\n      ,~\n  }else{\n       //incr\n       if(){\n         id\n         $this->yredis_db->del(\"bj_\".$id);\n       }else{\n         A\n         ...\n         B\n     }\n}\n```\n`incr``string``hash``sortedSet`\n\n## [blpop][3]\n\n`blpop`lpop\n`blpop``key``key`listname`block`.\n\n```\n        $date = date('Ymd', time());\n        // \n        return $this->redis->blpop(self::$_config['dispatch_normal_list'] . $date, self::$_config['dispatch_better_list'] . $date, self::$_config['redis_block_l_pop_time_out']);\n\n```\n\n## [hsetnx][4]\n\n`hash``field``value``field`0\ncar_nohash field people hash field\nhash_base_people {\"zhangsan\":\"A888\",\"lisi\":\"A999\"}\nhash_base_car_no {\"A888\":\"zhangsan\",\"A999\":\"lisi\"}\nhash ,hget\n\n## [hdel][5]\n\nhsetnxhdel\n\n```\n //people_idkeyhash\n $base_people_id_del = $this->redis->hdel(self::$_config['hash_base_people'], $people_id);\n\n //car_nokeyhash\n $base_car_no_del = $this->redis->hdel(self::$_config['hash_base_car_no'], $clue_id);\n```\n\n## [lpush][6]\n\nlist\n\n```\n$lpush_res = $redisObj->lpush($list_name, $car_no);\n\n```\n\nlist_namecar_no`better_car_no``normal_car_no``blpop`\n\n## [rpoplpush][7]\nNlist\n`lpop``pop``rpoplpus`h`pop``lrem`\n\n\n  [1]: http://redisdoc.com/string/incr.html\n  [2]: http://num.10010.com/NumApp/chseNumList/init?num=186\n  [3]: http://redisdoc.com/list/blpop.html\n  [4]: http://redisdoc.com/hash/hsetnx.html\n  [5]: http://redisdoc.com/hash/hdel.html\n  [6]: http://redisdoc.com/list/lpush.html\n  [7]: http://redisdoc.com/list/rpoplpush.html\n\n","slug":"redis_incr_hash","published":1,"updated":"2018-12-09T08:31:36.371Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan2y0026zkgvfdsz004u","content":"<h2 id=\"incr\"><a href=\"#incr\" class=\"headerlink\" title=\"incr\"></a><a href=\"http://redisdoc.com/string/incr.html\" target=\"_blank\" rel=\"external\">incr</a></h2><p>N<a href=\"http://num.10010.com/NumApp/chseNumList/init?num=186\" target=\"_blank\" rel=\"external\"></a></p>\n<a id=\"more\"></a>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"> if ($this-&gt;redis_db-&gt;incr(&quot;bj_&quot;.$car_no) != 1) &#123;</div><div class=\"line\">      ,~</div><div class=\"line\">  &#125;else&#123;</div><div class=\"line\">       //incr</div><div class=\"line\">       if()&#123;</div><div class=\"line\">         id</div><div class=\"line\">         $this-&gt;yredis_db-&gt;del(&quot;bj_&quot;.$id);</div><div class=\"line\">       &#125;else&#123;</div><div class=\"line\">         A</div><div class=\"line\">         ...</div><div class=\"line\">         B</div><div class=\"line\">     &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><code>incr</code><code>string</code><code>hash</code><code>sortedSet</code></p>\n<h2 id=\"blpop\"><a href=\"#blpop\" class=\"headerlink\" title=\"blpop\"></a><a href=\"http://redisdoc.com/list/blpop.html\" target=\"_blank\" rel=\"external\">blpop</a></h2><p><code>blpop</code>lpop<br><code>blpop</code><code>key</code><code>key</code>listname<code>block</code>.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">$date = date(&apos;Ymd&apos;, time());</div><div class=\"line\">// </div><div class=\"line\">return $this-&gt;redis-&gt;blpop(self::$_config[&apos;dispatch_normal_list&apos;] . $date, self::$_config[&apos;dispatch_better_list&apos;] . $date, self::$_config[&apos;redis_block_l_pop_time_out&apos;]);</div></pre></td></tr></table></figure>\n<h2 id=\"hsetnx\"><a href=\"#hsetnx\" class=\"headerlink\" title=\"hsetnx\"></a><a href=\"http://redisdoc.com/hash/hsetnx.html\" target=\"_blank\" rel=\"external\">hsetnx</a></h2><p><code>hash</code><code>field</code><code>value</code><code>field</code>0<br>car_nohash field people hash field<br>hash_base_people {zhangsan:A888,lisi:A999}<br>hash_base_car_no {A888:zhangsan,A999:lisi}<br>hash ,hget</p>\n<h2 id=\"hdel\"><a href=\"#hdel\" class=\"headerlink\" title=\"hdel\"></a><a href=\"http://redisdoc.com/hash/hdel.html\" target=\"_blank\" rel=\"external\">hdel</a></h2><p>hsetnxhdel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">//people_idkeyhash</div><div class=\"line\">$base_people_id_del = $this-&gt;redis-&gt;hdel(self::$_config[&apos;hash_base_people&apos;], $people_id);</div><div class=\"line\"></div><div class=\"line\">//car_nokeyhash</div><div class=\"line\">$base_car_no_del = $this-&gt;redis-&gt;hdel(self::$_config[&apos;hash_base_car_no&apos;], $clue_id);</div></pre></td></tr></table></figure>\n<h2 id=\"lpush\"><a href=\"#lpush\" class=\"headerlink\" title=\"lpush\"></a><a href=\"http://redisdoc.com/list/lpush.html\" target=\"_blank\" rel=\"external\">lpush</a></h2><p>list</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$lpush_res = $redisObj-&gt;lpush($list_name, $car_no);</div></pre></td></tr></table></figure>\n<p>list_namecar_no<code>better_car_no</code><code>normal_car_no</code><code>blpop</code></p>\n<h2 id=\"rpoplpush\"><a href=\"#rpoplpush\" class=\"headerlink\" title=\"rpoplpush\"></a><a href=\"http://redisdoc.com/list/rpoplpush.html\" target=\"_blank\" rel=\"external\">rpoplpush</a></h2><p>Nlist<br><code>lpop</code><code>pop</code><code>rpoplpus</code>h<code>pop</code><code>lrem</code></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"incr\"><a href=\"#incr\" class=\"headerlink\" title=\"incr\"></a><a href=\"http://redisdoc.com/string/incr.html\">incr</a></h2><p>N<a href=\"http://num.10010.com/NumApp/chseNumList/init?num=186\"></a></p>","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"> if ($this-&gt;redis_db-&gt;incr(&quot;bj_&quot;.$car_no) != 1) &#123;</div><div class=\"line\">      ,~</div><div class=\"line\">  &#125;else&#123;</div><div class=\"line\">       //incr</div><div class=\"line\">       if()&#123;</div><div class=\"line\">         id</div><div class=\"line\">         $this-&gt;yredis_db-&gt;del(&quot;bj_&quot;.$id);</div><div class=\"line\">       &#125;else&#123;</div><div class=\"line\">         A</div><div class=\"line\">         ...</div><div class=\"line\">         B</div><div class=\"line\">     &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><code>incr</code><code>string</code><code>hash</code><code>sortedSet</code></p>\n<h2 id=\"blpop\"><a href=\"#blpop\" class=\"headerlink\" title=\"blpop\"></a><a href=\"http://redisdoc.com/list/blpop.html\">blpop</a></h2><p><code>blpop</code>lpop<br><code>blpop</code><code>key</code><code>key</code>listname<code>block</code>.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">$date = date(&apos;Ymd&apos;, time());</div><div class=\"line\">// </div><div class=\"line\">return $this-&gt;redis-&gt;blpop(self::$_config[&apos;dispatch_normal_list&apos;] . $date, self::$_config[&apos;dispatch_better_list&apos;] . $date, self::$_config[&apos;redis_block_l_pop_time_out&apos;]);</div></pre></td></tr></table></figure>\n<h2 id=\"hsetnx\"><a href=\"#hsetnx\" class=\"headerlink\" title=\"hsetnx\"></a><a href=\"http://redisdoc.com/hash/hsetnx.html\">hsetnx</a></h2><p><code>hash</code><code>field</code><code>value</code><code>field</code>0<br>car_nohash field people hash field<br>hash_base_people {zhangsan:A888,lisi:A999}<br>hash_base_car_no {A888:zhangsan,A999:lisi}<br>hash ,hget</p>\n<h2 id=\"hdel\"><a href=\"#hdel\" class=\"headerlink\" title=\"hdel\"></a><a href=\"http://redisdoc.com/hash/hdel.html\">hdel</a></h2><p>hsetnxhdel</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">//people_idkeyhash</div><div class=\"line\">$base_people_id_del = $this-&gt;redis-&gt;hdel(self::$_config[&apos;hash_base_people&apos;], $people_id);</div><div class=\"line\"></div><div class=\"line\">//car_nokeyhash</div><div class=\"line\">$base_car_no_del = $this-&gt;redis-&gt;hdel(self::$_config[&apos;hash_base_car_no&apos;], $clue_id);</div></pre></td></tr></table></figure>\n<h2 id=\"lpush\"><a href=\"#lpush\" class=\"headerlink\" title=\"lpush\"></a><a href=\"http://redisdoc.com/list/lpush.html\">lpush</a></h2><p>list</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$lpush_res = $redisObj-&gt;lpush($list_name, $car_no);</div></pre></td></tr></table></figure>\n<p>list_namecar_no<code>better_car_no</code><code>normal_car_no</code><code>blpop</code></p>\n<h2 id=\"rpoplpush\"><a href=\"#rpoplpush\" class=\"headerlink\" title=\"rpoplpush\"></a><a href=\"http://redisdoc.com/list/rpoplpush.html\">rpoplpush</a></h2><p>Nlist<br><code>lpop</code><code>pop</code><code>rpoplpus</code>h<code>pop</code><code>lrem</code></p>"},{"title":"N","date":"2017-05-31T11:18:59.000Z","_content":"\n ### N###\n-----------------\n <!-- more -->\n###  ###\n ```\n <?php\n// db\n $holiday=[\n  '2017-04-29',\n    '2017-04-30',\n\n    '2017-05-01',\n    '2017-05-06',\n    '2017-05-07',\n    '2017-05-13',\n    '2017-05-14',\n    '2017-05-20',\n    '2017-05-21',\n    '2017-05-28',\n    '2017-05-29',\n    '2017-05-30',\n\n    '2017-06-03',\n    '2017-06-04',\n    '2017-06-10',\n    '2017-06-11',\n    '2017-06-17',\n    '2017-06-18',\n    '2017-06-24',\n    '2017-06-25',\n\n    '2017-07-01',\n    '2017-07-02',\n    '2017-07-08',\n    '2017-07-09',\n    '2017-07-15',\n    '2017-07-16',\n    '2017-07-22',\n    '2017-07-23',\n    '2017-07-29',\n    '2017-07-30',\n\n\n    '2017-08-05',\n    '2017-08-06',\n    '2017-08-12',\n    '2017-08-13',\n    '2017-08-19',\n    '2017-08-20',\n    '2017-08-26',\n    '2017-08-27',\n\n    '2017-09-02',\n    '2017-09-03',\n    '2017-09-09',\n    '2017-09-10',\n    '2017-09-16',\n    '2017-09-17',\n    '2017-09-23',\n    '2017-09-24',\n\n    '2017-10-01',\n    '2017-10-02',\n    '2017-10-03',\n    '2017-10-04',\n    '2017-10-05',\n    '2017-10-06',\n    '2017-10-07',\n    '2017-10-08',\n    '2017-10-14',\n    '2017-10-15',\n    '2017-10-21',\n    '2017-10-22',\n    '2017-10-28',\n    '2017-10-29',\n\n    '2017-11-04',\n    '2017-11-05',\n    '2017-11-11',\n    '2017-11-12',\n    '2017-11-18',\n    '2017-11-19',\n    '2017-11-25',\n    '2017-11-26',\n\n    '2017-12-02',\n    '2017-12-03',\n    '2017-12-09',\n    '2017-12-10',\n    '2017-12-16',\n    '2017-12-17',\n    '2017-12-23',\n    '2017-12-24',\n    '2017-12-30',\n    '2017-12-31',\n\n  //...\n  ];\n\n  function afterWorkDay($start_timestamp='',$add_workday_num='',$holiday=[]){\n\n     // \n     $extra_day=0;\n\n     //\n     $workday_added_num=0;\n\n     for($i=1;$i<=$add_workday_num;$i++){\n\n          $detail_time=date('Y-m-d H:i:s',($start_timestamp)+$i*(60*60*24));\n\n          $workday_added_num++;\n\n          //\n          $wide_date=date('Y-m-d',strtotime($detail_time));\n\n\n          // holiday\n          if(in_array($wide_date, $holiday)){\n            //\n            $workday_added_num--;\n\n           // \n            $extra_day++;\n\n           }\n           //\n           $extra_judge=date(\"Y-m-d\",strtotime($wide_date)+86400);\n\n     }\n\n\n     //\n      if($add_workday_num!=$workday_added_num){\n\n       while (in_array($extra_judge, $holiday)) {\n\n          $extra_day++;\n\n          $extra_judge=date(\"Y-m-d\",strtotime($extra_judge)+86400);\n      }\n  }\n\n  //=+-+\n   $add=$workday_added_num+($add_workday_num-$workday_added_num)+$extra_day;\n\n   return date('Y-m-d H:i:s',($start_timestamp)+$add*(60*60*24));\n\n    // $result_date=date('Y-m-d',($start_timestamp)+$add*(60*60*24));\n\n\n    // \n    // while (in_array($result_date, $holiday)) {\n    //    $result_date=date('Y-m-d',strtotime($result) +86400);\n    //    $result=date('Y-m-d H:i:s',strtotime($result) +86400);\n    // }\n }\n\n// xx 61\n $time=mktime('13','30','56','06','01','2017');\n $start_timestamp=$time;\n // var_dump($start_timestamp);\n\n//\n echo afterWorkDay($start_timestamp,2,$holiday);//out put 2017-06-05 13:30:56\n ```\n\n### [2017][1] ###\n\n [1]: http://www.gov.cn/zhengce/content/2016-12/01/content_5141603.htm\n\n","source":"_posts/workday.md","raw":"---\ntitle: N\ndate: 2017-05-31 19:18:59\ncategories: PHP\ntags:\n - \n---\n\n ### N###\n-----------------\n <!-- more -->\n###  ###\n ```\n <?php\n// db\n $holiday=[\n  '2017-04-29',\n    '2017-04-30',\n\n    '2017-05-01',\n    '2017-05-06',\n    '2017-05-07',\n    '2017-05-13',\n    '2017-05-14',\n    '2017-05-20',\n    '2017-05-21',\n    '2017-05-28',\n    '2017-05-29',\n    '2017-05-30',\n\n    '2017-06-03',\n    '2017-06-04',\n    '2017-06-10',\n    '2017-06-11',\n    '2017-06-17',\n    '2017-06-18',\n    '2017-06-24',\n    '2017-06-25',\n\n    '2017-07-01',\n    '2017-07-02',\n    '2017-07-08',\n    '2017-07-09',\n    '2017-07-15',\n    '2017-07-16',\n    '2017-07-22',\n    '2017-07-23',\n    '2017-07-29',\n    '2017-07-30',\n\n\n    '2017-08-05',\n    '2017-08-06',\n    '2017-08-12',\n    '2017-08-13',\n    '2017-08-19',\n    '2017-08-20',\n    '2017-08-26',\n    '2017-08-27',\n\n    '2017-09-02',\n    '2017-09-03',\n    '2017-09-09',\n    '2017-09-10',\n    '2017-09-16',\n    '2017-09-17',\n    '2017-09-23',\n    '2017-09-24',\n\n    '2017-10-01',\n    '2017-10-02',\n    '2017-10-03',\n    '2017-10-04',\n    '2017-10-05',\n    '2017-10-06',\n    '2017-10-07',\n    '2017-10-08',\n    '2017-10-14',\n    '2017-10-15',\n    '2017-10-21',\n    '2017-10-22',\n    '2017-10-28',\n    '2017-10-29',\n\n    '2017-11-04',\n    '2017-11-05',\n    '2017-11-11',\n    '2017-11-12',\n    '2017-11-18',\n    '2017-11-19',\n    '2017-11-25',\n    '2017-11-26',\n\n    '2017-12-02',\n    '2017-12-03',\n    '2017-12-09',\n    '2017-12-10',\n    '2017-12-16',\n    '2017-12-17',\n    '2017-12-23',\n    '2017-12-24',\n    '2017-12-30',\n    '2017-12-31',\n\n  //...\n  ];\n\n  function afterWorkDay($start_timestamp='',$add_workday_num='',$holiday=[]){\n\n     // \n     $extra_day=0;\n\n     //\n     $workday_added_num=0;\n\n     for($i=1;$i<=$add_workday_num;$i++){\n\n          $detail_time=date('Y-m-d H:i:s',($start_timestamp)+$i*(60*60*24));\n\n          $workday_added_num++;\n\n          //\n          $wide_date=date('Y-m-d',strtotime($detail_time));\n\n\n          // holiday\n          if(in_array($wide_date, $holiday)){\n            //\n            $workday_added_num--;\n\n           // \n            $extra_day++;\n\n           }\n           //\n           $extra_judge=date(\"Y-m-d\",strtotime($wide_date)+86400);\n\n     }\n\n\n     //\n      if($add_workday_num!=$workday_added_num){\n\n       while (in_array($extra_judge, $holiday)) {\n\n          $extra_day++;\n\n          $extra_judge=date(\"Y-m-d\",strtotime($extra_judge)+86400);\n      }\n  }\n\n  //=+-+\n   $add=$workday_added_num+($add_workday_num-$workday_added_num)+$extra_day;\n\n   return date('Y-m-d H:i:s',($start_timestamp)+$add*(60*60*24));\n\n    // $result_date=date('Y-m-d',($start_timestamp)+$add*(60*60*24));\n\n\n    // \n    // while (in_array($result_date, $holiday)) {\n    //    $result_date=date('Y-m-d',strtotime($result) +86400);\n    //    $result=date('Y-m-d H:i:s',strtotime($result) +86400);\n    // }\n }\n\n// xx 61\n $time=mktime('13','30','56','06','01','2017');\n $start_timestamp=$time;\n // var_dump($start_timestamp);\n\n//\n echo afterWorkDay($start_timestamp,2,$holiday);//out put 2017-06-05 13:30:56\n ```\n\n### [2017][1] ###\n\n [1]: http://www.gov.cn/zhengce/content/2016-12/01/content_5141603.htm\n\n","slug":"workday","published":1,"updated":"2018-12-09T08:31:36.371Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan30002azkgvfibb2u8n","content":"<h3 id=\"N\"><a href=\"#N\" class=\"headerlink\" title=\"N\"></a>N</h3><hr>\n <a id=\"more\"></a>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3> <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div><div class=\"line\">150</div><div class=\"line\">151</div><div class=\"line\">152</div><div class=\"line\">153</div><div class=\"line\">154</div><div class=\"line\">155</div><div class=\"line\">156</div><div class=\"line\">157</div><div class=\"line\">158</div><div class=\"line\">159</div><div class=\"line\">160</div></pre></td><td class=\"code\"><pre><div class=\"line\"> &lt;?php</div><div class=\"line\">// db</div><div class=\"line\"> $holiday=[</div><div class=\"line\">  &apos;2017-04-29&apos;,</div><div class=\"line\">    &apos;2017-04-30&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-05-01&apos;,</div><div class=\"line\">    &apos;2017-05-06&apos;,</div><div class=\"line\">    &apos;2017-05-07&apos;,</div><div class=\"line\">    &apos;2017-05-13&apos;,</div><div class=\"line\">    &apos;2017-05-14&apos;,</div><div class=\"line\">    &apos;2017-05-20&apos;,</div><div class=\"line\">    &apos;2017-05-21&apos;,</div><div class=\"line\">    &apos;2017-05-28&apos;,</div><div class=\"line\">    &apos;2017-05-29&apos;,</div><div class=\"line\">    &apos;2017-05-30&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-06-03&apos;,</div><div class=\"line\">    &apos;2017-06-04&apos;,</div><div class=\"line\">    &apos;2017-06-10&apos;,</div><div class=\"line\">    &apos;2017-06-11&apos;,</div><div class=\"line\">    &apos;2017-06-17&apos;,</div><div class=\"line\">    &apos;2017-06-18&apos;,</div><div class=\"line\">    &apos;2017-06-24&apos;,</div><div class=\"line\">    &apos;2017-06-25&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-07-01&apos;,</div><div class=\"line\">    &apos;2017-07-02&apos;,</div><div class=\"line\">    &apos;2017-07-08&apos;,</div><div class=\"line\">    &apos;2017-07-09&apos;,</div><div class=\"line\">    &apos;2017-07-15&apos;,</div><div class=\"line\">    &apos;2017-07-16&apos;,</div><div class=\"line\">    &apos;2017-07-22&apos;,</div><div class=\"line\">    &apos;2017-07-23&apos;,</div><div class=\"line\">    &apos;2017-07-29&apos;,</div><div class=\"line\">    &apos;2017-07-30&apos;,</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    &apos;2017-08-05&apos;,</div><div class=\"line\">    &apos;2017-08-06&apos;,</div><div class=\"line\">    &apos;2017-08-12&apos;,</div><div class=\"line\">    &apos;2017-08-13&apos;,</div><div class=\"line\">    &apos;2017-08-19&apos;,</div><div class=\"line\">    &apos;2017-08-20&apos;,</div><div class=\"line\">    &apos;2017-08-26&apos;,</div><div class=\"line\">    &apos;2017-08-27&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-09-02&apos;,</div><div class=\"line\">    &apos;2017-09-03&apos;,</div><div class=\"line\">    &apos;2017-09-09&apos;,</div><div class=\"line\">    &apos;2017-09-10&apos;,</div><div class=\"line\">    &apos;2017-09-16&apos;,</div><div class=\"line\">    &apos;2017-09-17&apos;,</div><div class=\"line\">    &apos;2017-09-23&apos;,</div><div class=\"line\">    &apos;2017-09-24&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-10-01&apos;,</div><div class=\"line\">    &apos;2017-10-02&apos;,</div><div class=\"line\">    &apos;2017-10-03&apos;,</div><div class=\"line\">    &apos;2017-10-04&apos;,</div><div class=\"line\">    &apos;2017-10-05&apos;,</div><div class=\"line\">    &apos;2017-10-06&apos;,</div><div class=\"line\">    &apos;2017-10-07&apos;,</div><div class=\"line\">    &apos;2017-10-08&apos;,</div><div class=\"line\">    &apos;2017-10-14&apos;,</div><div class=\"line\">    &apos;2017-10-15&apos;,</div><div class=\"line\">    &apos;2017-10-21&apos;,</div><div class=\"line\">    &apos;2017-10-22&apos;,</div><div class=\"line\">    &apos;2017-10-28&apos;,</div><div class=\"line\">    &apos;2017-10-29&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-11-04&apos;,</div><div class=\"line\">    &apos;2017-11-05&apos;,</div><div class=\"line\">    &apos;2017-11-11&apos;,</div><div class=\"line\">    &apos;2017-11-12&apos;,</div><div class=\"line\">    &apos;2017-11-18&apos;,</div><div class=\"line\">    &apos;2017-11-19&apos;,</div><div class=\"line\">    &apos;2017-11-25&apos;,</div><div class=\"line\">    &apos;2017-11-26&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-12-02&apos;,</div><div class=\"line\">    &apos;2017-12-03&apos;,</div><div class=\"line\">    &apos;2017-12-09&apos;,</div><div class=\"line\">    &apos;2017-12-10&apos;,</div><div class=\"line\">    &apos;2017-12-16&apos;,</div><div class=\"line\">    &apos;2017-12-17&apos;,</div><div class=\"line\">    &apos;2017-12-23&apos;,</div><div class=\"line\">    &apos;2017-12-24&apos;,</div><div class=\"line\">    &apos;2017-12-30&apos;,</div><div class=\"line\">    &apos;2017-12-31&apos;,</div><div class=\"line\"></div><div class=\"line\">  //...</div><div class=\"line\">  ];</div><div class=\"line\"></div><div class=\"line\">  function afterWorkDay($start_timestamp=&apos;&apos;,$add_workday_num=&apos;&apos;,$holiday=[])&#123;</div><div class=\"line\"></div><div class=\"line\">     // </div><div class=\"line\">     $extra_day=0;</div><div class=\"line\"></div><div class=\"line\">     //</div><div class=\"line\">     $workday_added_num=0;</div><div class=\"line\"></div><div class=\"line\">     for($i=1;$i&lt;=$add_workday_num;$i++)&#123;</div><div class=\"line\"></div><div class=\"line\">          $detail_time=date(&apos;Y-m-d H:i:s&apos;,($start_timestamp)+$i*(60*60*24));</div><div class=\"line\"></div><div class=\"line\">          $workday_added_num++;</div><div class=\"line\"></div><div class=\"line\">          //</div><div class=\"line\">          $wide_date=date(&apos;Y-m-d&apos;,strtotime($detail_time));</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">          // holiday</div><div class=\"line\">          if(in_array($wide_date, $holiday))&#123;</div><div class=\"line\">            //</div><div class=\"line\">            $workday_added_num--;</div><div class=\"line\"></div><div class=\"line\">           // </div><div class=\"line\">            $extra_day++;</div><div class=\"line\"></div><div class=\"line\">           &#125;</div><div class=\"line\">           //</div><div class=\"line\">           $extra_judge=date(&quot;Y-m-d&quot;,strtotime($wide_date)+86400);</div><div class=\"line\"></div><div class=\"line\">     &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">     //</div><div class=\"line\">      if($add_workday_num!=$workday_added_num)&#123;</div><div class=\"line\"></div><div class=\"line\">       while (in_array($extra_judge, $holiday)) &#123;</div><div class=\"line\"></div><div class=\"line\">          $extra_day++;</div><div class=\"line\"></div><div class=\"line\">          $extra_judge=date(&quot;Y-m-d&quot;,strtotime($extra_judge)+86400);</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  //=+-+</div><div class=\"line\">   $add=$workday_added_num+($add_workday_num-$workday_added_num)+$extra_day;</div><div class=\"line\"></div><div class=\"line\">   return date(&apos;Y-m-d H:i:s&apos;,($start_timestamp)+$add*(60*60*24));</div><div class=\"line\"></div><div class=\"line\">    // $result_date=date(&apos;Y-m-d&apos;,($start_timestamp)+$add*(60*60*24));</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    // </div><div class=\"line\">    // while (in_array($result_date, $holiday)) &#123;</div><div class=\"line\">    //    $result_date=date(&apos;Y-m-d&apos;,strtotime($result) +86400);</div><div class=\"line\">    //    $result=date(&apos;Y-m-d H:i:s&apos;,strtotime($result) +86400);</div><div class=\"line\">    // &#125;</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\">// xx 61</div><div class=\"line\"> $time=mktime(&apos;13&apos;,&apos;30&apos;,&apos;56&apos;,&apos;06&apos;,&apos;01&apos;,&apos;2017&apos;);</div><div class=\"line\"> $start_timestamp=$time;</div><div class=\"line\"> // var_dump($start_timestamp);</div><div class=\"line\"></div><div class=\"line\">//</div><div class=\"line\"> echo afterWorkDay($start_timestamp,2,$holiday);//out put 2017-06-05 13:30:56</div></pre></td></tr></table></figure>\n<h3 id=\"2017\"><a href=\"#2017\" class=\"headerlink\" title=\"2017\"></a><a href=\"http://www.gov.cn/zhengce/content/2016-12/01/content_5141603.htm\" target=\"_blank\" rel=\"external\">2017</a></h3>","site":{"data":{}},"excerpt":"<h3 id=\"N\"><a href=\"#N\" class=\"headerlink\" title=\"N\"></a>N</h3><hr>","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3> <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div><div class=\"line\">150</div><div class=\"line\">151</div><div class=\"line\">152</div><div class=\"line\">153</div><div class=\"line\">154</div><div class=\"line\">155</div><div class=\"line\">156</div><div class=\"line\">157</div><div class=\"line\">158</div><div class=\"line\">159</div><div class=\"line\">160</div></pre></td><td class=\"code\"><pre><div class=\"line\"> &lt;?php</div><div class=\"line\">// db</div><div class=\"line\"> $holiday=[</div><div class=\"line\">  &apos;2017-04-29&apos;,</div><div class=\"line\">    &apos;2017-04-30&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-05-01&apos;,</div><div class=\"line\">    &apos;2017-05-06&apos;,</div><div class=\"line\">    &apos;2017-05-07&apos;,</div><div class=\"line\">    &apos;2017-05-13&apos;,</div><div class=\"line\">    &apos;2017-05-14&apos;,</div><div class=\"line\">    &apos;2017-05-20&apos;,</div><div class=\"line\">    &apos;2017-05-21&apos;,</div><div class=\"line\">    &apos;2017-05-28&apos;,</div><div class=\"line\">    &apos;2017-05-29&apos;,</div><div class=\"line\">    &apos;2017-05-30&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-06-03&apos;,</div><div class=\"line\">    &apos;2017-06-04&apos;,</div><div class=\"line\">    &apos;2017-06-10&apos;,</div><div class=\"line\">    &apos;2017-06-11&apos;,</div><div class=\"line\">    &apos;2017-06-17&apos;,</div><div class=\"line\">    &apos;2017-06-18&apos;,</div><div class=\"line\">    &apos;2017-06-24&apos;,</div><div class=\"line\">    &apos;2017-06-25&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-07-01&apos;,</div><div class=\"line\">    &apos;2017-07-02&apos;,</div><div class=\"line\">    &apos;2017-07-08&apos;,</div><div class=\"line\">    &apos;2017-07-09&apos;,</div><div class=\"line\">    &apos;2017-07-15&apos;,</div><div class=\"line\">    &apos;2017-07-16&apos;,</div><div class=\"line\">    &apos;2017-07-22&apos;,</div><div class=\"line\">    &apos;2017-07-23&apos;,</div><div class=\"line\">    &apos;2017-07-29&apos;,</div><div class=\"line\">    &apos;2017-07-30&apos;,</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    &apos;2017-08-05&apos;,</div><div class=\"line\">    &apos;2017-08-06&apos;,</div><div class=\"line\">    &apos;2017-08-12&apos;,</div><div class=\"line\">    &apos;2017-08-13&apos;,</div><div class=\"line\">    &apos;2017-08-19&apos;,</div><div class=\"line\">    &apos;2017-08-20&apos;,</div><div class=\"line\">    &apos;2017-08-26&apos;,</div><div class=\"line\">    &apos;2017-08-27&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-09-02&apos;,</div><div class=\"line\">    &apos;2017-09-03&apos;,</div><div class=\"line\">    &apos;2017-09-09&apos;,</div><div class=\"line\">    &apos;2017-09-10&apos;,</div><div class=\"line\">    &apos;2017-09-16&apos;,</div><div class=\"line\">    &apos;2017-09-17&apos;,</div><div class=\"line\">    &apos;2017-09-23&apos;,</div><div class=\"line\">    &apos;2017-09-24&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-10-01&apos;,</div><div class=\"line\">    &apos;2017-10-02&apos;,</div><div class=\"line\">    &apos;2017-10-03&apos;,</div><div class=\"line\">    &apos;2017-10-04&apos;,</div><div class=\"line\">    &apos;2017-10-05&apos;,</div><div class=\"line\">    &apos;2017-10-06&apos;,</div><div class=\"line\">    &apos;2017-10-07&apos;,</div><div class=\"line\">    &apos;2017-10-08&apos;,</div><div class=\"line\">    &apos;2017-10-14&apos;,</div><div class=\"line\">    &apos;2017-10-15&apos;,</div><div class=\"line\">    &apos;2017-10-21&apos;,</div><div class=\"line\">    &apos;2017-10-22&apos;,</div><div class=\"line\">    &apos;2017-10-28&apos;,</div><div class=\"line\">    &apos;2017-10-29&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-11-04&apos;,</div><div class=\"line\">    &apos;2017-11-05&apos;,</div><div class=\"line\">    &apos;2017-11-11&apos;,</div><div class=\"line\">    &apos;2017-11-12&apos;,</div><div class=\"line\">    &apos;2017-11-18&apos;,</div><div class=\"line\">    &apos;2017-11-19&apos;,</div><div class=\"line\">    &apos;2017-11-25&apos;,</div><div class=\"line\">    &apos;2017-11-26&apos;,</div><div class=\"line\"></div><div class=\"line\">    &apos;2017-12-02&apos;,</div><div class=\"line\">    &apos;2017-12-03&apos;,</div><div class=\"line\">    &apos;2017-12-09&apos;,</div><div class=\"line\">    &apos;2017-12-10&apos;,</div><div class=\"line\">    &apos;2017-12-16&apos;,</div><div class=\"line\">    &apos;2017-12-17&apos;,</div><div class=\"line\">    &apos;2017-12-23&apos;,</div><div class=\"line\">    &apos;2017-12-24&apos;,</div><div class=\"line\">    &apos;2017-12-30&apos;,</div><div class=\"line\">    &apos;2017-12-31&apos;,</div><div class=\"line\"></div><div class=\"line\">  //...</div><div class=\"line\">  ];</div><div class=\"line\"></div><div class=\"line\">  function afterWorkDay($start_timestamp=&apos;&apos;,$add_workday_num=&apos;&apos;,$holiday=[])&#123;</div><div class=\"line\"></div><div class=\"line\">     // </div><div class=\"line\">     $extra_day=0;</div><div class=\"line\"></div><div class=\"line\">     //</div><div class=\"line\">     $workday_added_num=0;</div><div class=\"line\"></div><div class=\"line\">     for($i=1;$i&lt;=$add_workday_num;$i++)&#123;</div><div class=\"line\"></div><div class=\"line\">          $detail_time=date(&apos;Y-m-d H:i:s&apos;,($start_timestamp)+$i*(60*60*24));</div><div class=\"line\"></div><div class=\"line\">          $workday_added_num++;</div><div class=\"line\"></div><div class=\"line\">          //</div><div class=\"line\">          $wide_date=date(&apos;Y-m-d&apos;,strtotime($detail_time));</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">          // holiday</div><div class=\"line\">          if(in_array($wide_date, $holiday))&#123;</div><div class=\"line\">            //</div><div class=\"line\">            $workday_added_num--;</div><div class=\"line\"></div><div class=\"line\">           // </div><div class=\"line\">            $extra_day++;</div><div class=\"line\"></div><div class=\"line\">           &#125;</div><div class=\"line\">           //</div><div class=\"line\">           $extra_judge=date(&quot;Y-m-d&quot;,strtotime($wide_date)+86400);</div><div class=\"line\"></div><div class=\"line\">     &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">     //</div><div class=\"line\">      if($add_workday_num!=$workday_added_num)&#123;</div><div class=\"line\"></div><div class=\"line\">       while (in_array($extra_judge, $holiday)) &#123;</div><div class=\"line\"></div><div class=\"line\">          $extra_day++;</div><div class=\"line\"></div><div class=\"line\">          $extra_judge=date(&quot;Y-m-d&quot;,strtotime($extra_judge)+86400);</div><div class=\"line\">      &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  //=+-+</div><div class=\"line\">   $add=$workday_added_num+($add_workday_num-$workday_added_num)+$extra_day;</div><div class=\"line\"></div><div class=\"line\">   return date(&apos;Y-m-d H:i:s&apos;,($start_timestamp)+$add*(60*60*24));</div><div class=\"line\"></div><div class=\"line\">    // $result_date=date(&apos;Y-m-d&apos;,($start_timestamp)+$add*(60*60*24));</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    // </div><div class=\"line\">    // while (in_array($result_date, $holiday)) &#123;</div><div class=\"line\">    //    $result_date=date(&apos;Y-m-d&apos;,strtotime($result) +86400);</div><div class=\"line\">    //    $result=date(&apos;Y-m-d H:i:s&apos;,strtotime($result) +86400);</div><div class=\"line\">    // &#125;</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\">// xx 61</div><div class=\"line\"> $time=mktime(&apos;13&apos;,&apos;30&apos;,&apos;56&apos;,&apos;06&apos;,&apos;01&apos;,&apos;2017&apos;);</div><div class=\"line\"> $start_timestamp=$time;</div><div class=\"line\"> // var_dump($start_timestamp);</div><div class=\"line\"></div><div class=\"line\">//</div><div class=\"line\"> echo afterWorkDay($start_timestamp,2,$holiday);//out put 2017-06-05 13:30:56</div></pre></td></tr></table></figure>\n<h3 id=\"2017\"><a href=\"#2017\" class=\"headerlink\" title=\"2017\"></a><a href=\"http://www.gov.cn/zhengce/content/2016-12/01/content_5141603.htm\">2017</a></h3>"},{"title":"kafka","date":"2016-11-11T01:22:03.000Z","_content":"\n\n## \n- \n- \n- kafka\n- java code demo\n- \n    - \n    - \n- more...\n<!-- more -->\n## 2-1 \n1. linkedina distributed streamed platform\n- databus\n- cubrect\n- parseq\n- kafka\n stream platform has three key capabilities\n\n2. \n-  mq\n-  db\n-    stream  \n-  real time & transform react\n\n3.\n\n## 3-1 \n### || || ...\n\n###  ...\n\n1. producer   \ntopic\n- \n- \n- \n2. consumer  \ntopic\n- \n- \n- \n3. consumer group \ntopicgroupgroupconsumer\n4. broker \nkafka\n5. topic \nkafka  \n6. partition \nkafkatopicpartitionpartitiontopic\n7. replication\npartitionraplicareplica\n8. replication leader\nreplicationleader majorpartitionproducerconsumerreplication\n9. replica manager\nbrolerkafka controller   replication leader\n\n\n## 3-2kafka\n1. partition\n- topicpartitions\n- partiton\npartitionpartitionpartition\n- broker groupbrokertopicpartitionconsumer grouppartionbrokerpartionbrokerpartitionbroker\n- comsumer groupconsumer topicpartionconsumerpartitionconsumer\n- consumer group\ngroup?\n\n- replication \nbrokerpartition replicationstopicreplication1topic\n- replication\ntopicpartition\nfollowersfollowerleader\n\n## 3-3 kafka\n![image][1]  \nproductorconsumer\nkafka \n- connectors api\n- stream processors api\n- producer api\n- consumer api\n![image][2]\nkafkazpbrokertopicpartition\n\n- hadoop\n- \n- \n- ...\n![image][3]  \n- offset  4\n- length  4\n- crc32  4\n- magic kafka\n- attributes  1 \n- timestamp   8\n- key length  4\n-  value \n- value length 4\n-  value \n\n\n## 3-4 kafka\n- \n    -  partition\n    -  replication\n    -  \n      topicpartition\n    - zookeeper\n- \n    -  /s\n    -  \n    - \n    - o1\n    - \n- \n    - \n    -    \n    -  topicpartion\n    -  consumer group \n    \n## 3.5 \n1.  ...\n2.   \n3.  \n4.  elk flume kafka\n5.    topic \n6.     \n7.  commit log  \n\n## 3.5 kafka\n1. \n - zookeeper\n - kafka\n - ...\n - zookeeper-server-start\n - bin/kafka/-topics --create -- zookeeper 127.0.0.1:2181 --replication-factor 1 --partition s 3 --topic imooc-kafka-topic\n - bin/kafka-topics --list --zookeeper 127.0.0.1:2121\n -  __consumer_offsets \n - producer /bin/kafka-console-producer --broker-list\n -  /bin/kafka-console-comsumer --bootstrap-server 127.0.0.1:9002 --topic imooc-kafka-topic --from-beginning \n - \n2. \n3. \n\n## 4-3 kafka\njava spring boot\njavaphp \n\n## 5-1 kafuka-\n1. \n - -- \n - \n - \n2. \n- \n- \n-  exactly once\n\n3. \n-  \n procedure \n- \n -- \n![image][4]  \ntopic 1topic2\nXkafkatopicoffset topicoffice commit\n- -\n    - producertransactional.id,producer\n    - kafkatransactional.idepochtransactionalid\n    - epochtransactionalidepochproducerkafkaprocedure\n    - \n## 5-2 kafka\n1. nginx rocketmq netty kafka\n- \n- java nio channel.transforTo\n- linux sendfile \n2. \n    1.\n    2. \n    3. socket\n    4. socket\n    5. 4\n3. \n    1. \n    2. socket\n    3. \n    4. 0\n4.    \n  \n\n![image][5]  \n\n    1. CPUI/ODMADMAbuffer\n    2. CPUCPUkernel buffer\n    3. CPUsocket buffer.\n    4. DMAsocket buffer \n    \nNIO  \n\n![image][6]\n\n    1. sendfie(),CPUDMAbuffer\n    \n    2. DMACPUsocketbuffersendFile 3.DMAsocket bufferbuffer\n\n6. -\n> user space  kernel space \n> \n> \n>  \n>  \n> [1]: /img/kafka/kafka_basic_construct.png\n  [2]: /img/kafka/kafka_basic_2.png\n  [3]: /img/kafka/kafka_message.png\n  [4]: /img/kafka/kafka_constancepng.png\n  [5]: /img/kafka/no_zero_copy.png\n  [6]: /img/kafka/zero_copy.png\n\n\n\n \n\n","source":"_posts/kafka-basic-from-imooc.md","raw":"---\ntitle: kafka\ndate: 2016-11-11 09:22:03\ncategories: kafka\ntags:\n - kafka\n - \n - \n---\n\n\n## \n- \n- \n- kafka\n- java code demo\n- \n    - \n    - \n- more...\n<!-- more -->\n## 2-1 \n1. linkedina distributed streamed platform\n- databus\n- cubrect\n- parseq\n- kafka\n stream platform has three key capabilities\n\n2. \n-  mq\n-  db\n-    stream  \n-  real time & transform react\n\n3.\n\n## 3-1 \n### || || ...\n\n###  ...\n\n1. producer   \ntopic\n- \n- \n- \n2. consumer  \ntopic\n- \n- \n- \n3. consumer group \ntopicgroupgroupconsumer\n4. broker \nkafka\n5. topic \nkafka  \n6. partition \nkafkatopicpartitionpartitiontopic\n7. replication\npartitionraplicareplica\n8. replication leader\nreplicationleader majorpartitionproducerconsumerreplication\n9. replica manager\nbrolerkafka controller   replication leader\n\n\n## 3-2kafka\n1. partition\n- topicpartitions\n- partiton\npartitionpartitionpartition\n- broker groupbrokertopicpartitionconsumer grouppartionbrokerpartionbrokerpartitionbroker\n- comsumer groupconsumer topicpartionconsumerpartitionconsumer\n- consumer group\ngroup?\n\n- replication \nbrokerpartition replicationstopicreplication1topic\n- replication\ntopicpartition\nfollowersfollowerleader\n\n## 3-3 kafka\n![image][1]  \nproductorconsumer\nkafka \n- connectors api\n- stream processors api\n- producer api\n- consumer api\n![image][2]\nkafkazpbrokertopicpartition\n\n- hadoop\n- \n- \n- ...\n![image][3]  \n- offset  4\n- length  4\n- crc32  4\n- magic kafka\n- attributes  1 \n- timestamp   8\n- key length  4\n-  value \n- value length 4\n-  value \n\n\n## 3-4 kafka\n- \n    -  partition\n    -  replication\n    -  \n      topicpartition\n    - zookeeper\n- \n    -  /s\n    -  \n    - \n    - o1\n    - \n- \n    - \n    -    \n    -  topicpartion\n    -  consumer group \n    \n## 3.5 \n1.  ...\n2.   \n3.  \n4.  elk flume kafka\n5.    topic \n6.     \n7.  commit log  \n\n## 3.5 kafka\n1. \n - zookeeper\n - kafka\n - ...\n - zookeeper-server-start\n - bin/kafka/-topics --create -- zookeeper 127.0.0.1:2181 --replication-factor 1 --partition s 3 --topic imooc-kafka-topic\n - bin/kafka-topics --list --zookeeper 127.0.0.1:2121\n -  __consumer_offsets \n - producer /bin/kafka-console-producer --broker-list\n -  /bin/kafka-console-comsumer --bootstrap-server 127.0.0.1:9002 --topic imooc-kafka-topic --from-beginning \n - \n2. \n3. \n\n## 4-3 kafka\njava spring boot\njavaphp \n\n## 5-1 kafuka-\n1. \n - -- \n - \n - \n2. \n- \n- \n-  exactly once\n\n3. \n-  \n procedure \n- \n -- \n![image][4]  \ntopic 1topic2\nXkafkatopicoffset topicoffice commit\n- -\n    - producertransactional.id,producer\n    - kafkatransactional.idepochtransactionalid\n    - epochtransactionalidepochproducerkafkaprocedure\n    - \n## 5-2 kafka\n1. nginx rocketmq netty kafka\n- \n- java nio channel.transforTo\n- linux sendfile \n2. \n    1.\n    2. \n    3. socket\n    4. socket\n    5. 4\n3. \n    1. \n    2. socket\n    3. \n    4. 0\n4.    \n  \n\n![image][5]  \n\n    1. CPUI/ODMADMAbuffer\n    2. CPUCPUkernel buffer\n    3. CPUsocket buffer.\n    4. DMAsocket buffer \n    \nNIO  \n\n![image][6]\n\n    1. sendfie(),CPUDMAbuffer\n    \n    2. DMACPUsocketbuffersendFile 3.DMAsocket bufferbuffer\n\n6. -\n> user space  kernel space \n> \n> \n>  \n>  \n> [1]: /img/kafka/kafka_basic_construct.png\n  [2]: /img/kafka/kafka_basic_2.png\n  [3]: /img/kafka/kafka_message.png\n  [4]: /img/kafka/kafka_constancepng.png\n  [5]: /img/kafka/no_zero_copy.png\n  [6]: /img/kafka/zero_copy.png\n\n\n\n \n\n","slug":"kafka-basic-from-imooc","published":1,"updated":"2018-12-09T09:10:44.300Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan4t0057zkgvo3ixtgyz","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n<li>kafka</li>\n<li>java code demo</li>\n<li><ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li>more<a id=\"more\"></a>\n<h2 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2-1 \"></a>2-1 </h2></li>\n</ul>\n<ol>\n<li>linkedina distributed streamed platform</li>\n</ol>\n<ul>\n<li>databus</li>\n<li>cubrect</li>\n<li>parseq</li>\n<li>kafka<br>stream platform has three key capabilities</li>\n</ul>\n<ol>\n<li></li>\n</ol>\n<ul>\n<li> mq</li>\n<li> db</li>\n<li>   stream  </li>\n<li> real time &amp; transform react</li>\n</ul>\n<p>3.</p>\n<h2 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3-1 \"></a>3-1 </h2><h3 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"|| || \"></a>|| || </h3><h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><ol>\n<li>producer<br>topic</li>\n</ol>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ol>\n<li>consumer<br>topic</li>\n</ol>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ol>\n<li>consumer group <br>topicgroupgroupconsumer</li>\n<li>broker <br>kafka</li>\n<li>topic <br>kafka  </li>\n<li>partition <br>kafkatopicpartitionpartitiontopic</li>\n<li>replication<br>partitionraplicareplica</li>\n<li>replication leader<br>replicationleader majorpartitionproducerconsumerreplication</li>\n<li>replica manager<br>brolerkafka controller   replication leader</li>\n</ol>\n<h2 id=\"3-2kafka\"><a href=\"#3-2kafka\" class=\"headerlink\" title=\"3-2kafka\"></a>3-2kafka</h2><ol>\n<li>partition</li>\n</ol>\n<ul>\n<li>topicpartitions</li>\n<li>partiton<br>partitionpartitionpartition</li>\n<li>broker groupbrokertopicpartitionconsumer grouppartionbrokerpartionbrokerpartitionbroker</li>\n<li>comsumer groupconsumer topicpartionconsumerpartitionconsumer</li>\n<li>consumer group<br>group?<br></li>\n<li>replication <br>brokerpartition replicationstopicreplication1topic</li>\n<li>replication<br>topicpartition<br>followersfollowerleader<br><h2 id=\"3-3-kafka\"><a href=\"#3-3-kafka\" class=\"headerlink\" title=\"3-3 kafka\"></a>3-3 kafka</h2>![image][1]<br>productorconsumer<br>kafka </li>\n<li>connectors api</li>\n<li>stream processors api</li>\n<li>producer api</li>\n<li>consumer api<br><img src=\"/img/kafka/kafka_basic_2.png\" alt=\"image\"><br>kafkazpbrokertopicpartition<br></li>\n<li>hadoop</li>\n<li></li>\n<li></li>\n<li><br><img src=\"/img/kafka/kafka_message.png\" alt=\"image\">  </li>\n<li>offset  4</li>\n<li>length  4</li>\n<li>crc32  4</li>\n<li>magic kafka</li>\n<li>attributes  1 </li>\n<li>timestamp   8</li>\n<li>key length  4</li>\n<li>value </li>\n<li>value length 4</li>\n<li>value </li>\n</ul>\n<h2 id=\"3-4-kafka\"><a href=\"#3-4-kafka\" class=\"headerlink\" title=\"3-4 kafka\"></a>3-4 kafka</h2><ul>\n<li><ul>\n<li> partition</li>\n<li> replication</li>\n<li><br>topicpartition</li>\n<li>zookeeper</li>\n</ul>\n</li>\n<li><ul>\n<li> /s</li>\n<li> </li>\n<li></li>\n<li>o1</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li>   </li>\n<li> topicpartion</li>\n<li> consumer group </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"3-5-\"><a href=\"#3-5-\" class=\"headerlink\" title=\"3.5 \"></a>3.5 </h2><ol>\n<li> </li>\n<li>  </li>\n<li> </li>\n<li> elk flume kafka</li>\n<li>   topic </li>\n<li>    </li>\n<li> commit log  </li>\n</ol>\n<h2 id=\"3-5-kafka\"><a href=\"#3-5-kafka\" class=\"headerlink\" title=\"3.5 kafka\"></a>3.5 kafka</h2><ol>\n<li><ul>\n<li>zookeeper</li>\n<li>kafka</li>\n<li></li>\n<li>zookeeper-server-start</li>\n<li>bin/kafka/-topics create  zookeeper 127.0.0.1:2181 replication-factor 1 partition s 3 topic imooc-kafka-topic</li>\n<li>bin/kafka-topics list zookeeper 127.0.0.1:2121</li>\n<li> __consumer_offsets </li>\n<li>producer /bin/kafka-console-producer broker-list</li>\n<li> /bin/kafka-console-comsumer bootstrap-server 127.0.0.1:9002 topic imooc-kafka-topic from-beginning </li>\n<li></li>\n</ul>\n</li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"4-3-kafka\"><a href=\"#4-3-kafka\" class=\"headerlink\" title=\"4-3 kafka\"></a>4-3 kafka</h2><p>java spring boot<br>javaphp </p>\n<h2 id=\"5-1-kafuka-\"><a href=\"#5-1-kafuka-\" class=\"headerlink\" title=\"5-1 kafuka-\"></a>5-1 kafuka-</h2><ol>\n<li><ul>\n<li>-- </li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li></li>\n</ol>\n<ul>\n<li></li>\n<li></li>\n<li> exactly once</li>\n</ul>\n<ol>\n<li></li>\n</ol>\n<ul>\n<li><br>procedure </li>\n<li><br> -- <br><img src=\"/img/kafka/kafka_constancepng.png\" alt=\"image\"><br>topic 1topic2<br>Xkafkatopicoffset topicoffice commit</li>\n<li>-<ul>\n<li>producertransactional.id,producer</li>\n<li>kafkatransactional.idepochtransactionalid</li>\n<li>epochtransactionalidepochproducerkafkaprocedure</li>\n<li><h2 id=\"5-2-kafka\"><a href=\"#5-2-kafka\" class=\"headerlink\" title=\"5-2 kafka\"></a>5-2 kafka</h2></li>\n</ul>\n</li>\n</ul>\n<ol>\n<li>nginx rocketmq netty kafka</li>\n</ol>\n<ul>\n<li></li>\n<li>java nio channel.transforTo</li>\n<li>linux sendfile </li>\n</ul>\n<ol>\n<li><br> 1.<ol>\n<li></li>\n<li>socket</li>\n<li>socket</li>\n<li>4</li>\n</ol>\n</li>\n<li><ol>\n<li></li>\n<li>socket</li>\n<li></li>\n<li>0</li>\n</ol>\n</li>\n<li><br>  </li>\n</ol>\n<p><img src=\"/img/kafka/no_zero_copy.png\" alt=\"image\">  </p>\n<pre><code>1. CPUI/ODMADMAbuffer\n2. CPUCPUkernel buffer\n3. CPUsocket buffer.\n4. DMAsocket buffer \n</code></pre><p>NIO  </p>\n<p><img src=\"/img/kafka/zero_copy.png\" alt=\"image\"></p>\n<pre><code>1. sendfie(),CPUDMAbuffer\n\n2. DMACPUsocketbuffersendFile 3.DMAsocket bufferbuffer\n</code></pre><ol>\n<li>-<blockquote>\n<p>user space  kernel space </p>\n<p>[1]: /img/kafka/kafka_basic_construct.png</p>\n</blockquote>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n<li>kafka</li>\n<li>java code demo</li>\n<li><ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li>more","more":"<h2 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2-1 \"></a>2-1 </h2></li>\n</ul>\n<ol>\n<li>linkedina distributed streamed platform</li>\n</ol>\n<ul>\n<li>databus</li>\n<li>cubrect</li>\n<li>parseq</li>\n<li>kafka<br>stream platform has three key capabilities</li>\n</ul>\n<ol>\n<li></li>\n</ol>\n<ul>\n<li> mq</li>\n<li> db</li>\n<li>   stream  </li>\n<li> real time &amp; transform react</li>\n</ul>\n<p>3.</p>\n<h2 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3-1 \"></a>3-1 </h2><h3 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"|| || \"></a>|| || </h3><h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><ol>\n<li>producer<br>topic</li>\n</ol>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ol>\n<li>consumer<br>topic</li>\n</ol>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<ol>\n<li>consumer group <br>topicgroupgroupconsumer</li>\n<li>broker <br>kafka</li>\n<li>topic <br>kafka  </li>\n<li>partition <br>kafkatopicpartitionpartitiontopic</li>\n<li>replication<br>partitionraplicareplica</li>\n<li>replication leader<br>replicationleader majorpartitionproducerconsumerreplication</li>\n<li>replica manager<br>brolerkafka controller   replication leader</li>\n</ol>\n<h2 id=\"3-2kafka\"><a href=\"#3-2kafka\" class=\"headerlink\" title=\"3-2kafka\"></a>3-2kafka</h2><ol>\n<li>partition</li>\n</ol>\n<ul>\n<li>topicpartitions</li>\n<li>partiton<br>partitionpartitionpartition</li>\n<li>broker groupbrokertopicpartitionconsumer grouppartionbrokerpartionbrokerpartitionbroker</li>\n<li>comsumer groupconsumer topicpartionconsumerpartitionconsumer</li>\n<li>consumer group<br>group?<br></li>\n<li>replication <br>brokerpartition replicationstopicreplication1topic</li>\n<li>replication<br>topicpartition<br>followersfollowerleader<br><h2 id=\"3-3-kafka\"><a href=\"#3-3-kafka\" class=\"headerlink\" title=\"3-3 kafka\"></a>3-3 kafka</h2>![image][1]<br>productorconsumer<br>kafka </li>\n<li>connectors api</li>\n<li>stream processors api</li>\n<li>producer api</li>\n<li>consumer api<br><img src=\"/img/kafka/kafka_basic_2.png\" alt=\"image\"><br>kafkazpbrokertopicpartition<br></li>\n<li>hadoop</li>\n<li></li>\n<li></li>\n<li><br><img src=\"/img/kafka/kafka_message.png\" alt=\"image\">  </li>\n<li>offset  4</li>\n<li>length  4</li>\n<li>crc32  4</li>\n<li>magic kafka</li>\n<li>attributes  1 </li>\n<li>timestamp   8</li>\n<li>key length  4</li>\n<li>value </li>\n<li>value length 4</li>\n<li>value </li>\n</ul>\n<h2 id=\"3-4-kafka\"><a href=\"#3-4-kafka\" class=\"headerlink\" title=\"3-4 kafka\"></a>3-4 kafka</h2><ul>\n<li><ul>\n<li> partition</li>\n<li> replication</li>\n<li><br>topicpartition</li>\n<li>zookeeper</li>\n</ul>\n</li>\n<li><ul>\n<li> /s</li>\n<li> </li>\n<li></li>\n<li>o1</li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li>   </li>\n<li> topicpartion</li>\n<li> consumer group </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"3-5-\"><a href=\"#3-5-\" class=\"headerlink\" title=\"3.5 \"></a>3.5 </h2><ol>\n<li> </li>\n<li>  </li>\n<li> </li>\n<li> elk flume kafka</li>\n<li>   topic </li>\n<li>    </li>\n<li> commit log  </li>\n</ol>\n<h2 id=\"3-5-kafka\"><a href=\"#3-5-kafka\" class=\"headerlink\" title=\"3.5 kafka\"></a>3.5 kafka</h2><ol>\n<li><ul>\n<li>zookeeper</li>\n<li>kafka</li>\n<li></li>\n<li>zookeeper-server-start</li>\n<li>bin/kafka/-topics create  zookeeper 127.0.0.1:2181 replication-factor 1 partition s 3 topic imooc-kafka-topic</li>\n<li>bin/kafka-topics list zookeeper 127.0.0.1:2121</li>\n<li> __consumer_offsets </li>\n<li>producer /bin/kafka-console-producer broker-list</li>\n<li> /bin/kafka-console-comsumer bootstrap-server 127.0.0.1:9002 topic imooc-kafka-topic from-beginning </li>\n<li></li>\n</ul>\n</li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"4-3-kafka\"><a href=\"#4-3-kafka\" class=\"headerlink\" title=\"4-3 kafka\"></a>4-3 kafka</h2><p>java spring boot<br>javaphp </p>\n<h2 id=\"5-1-kafuka-\"><a href=\"#5-1-kafuka-\" class=\"headerlink\" title=\"5-1 kafuka-\"></a>5-1 kafuka-</h2><ol>\n<li><ul>\n<li>-- </li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li></li>\n</ol>\n<ul>\n<li></li>\n<li></li>\n<li> exactly once</li>\n</ul>\n<ol>\n<li></li>\n</ol>\n<ul>\n<li><br>procedure </li>\n<li><br> -- <br><img src=\"/img/kafka/kafka_constancepng.png\" alt=\"image\"><br>topic 1topic2<br>Xkafkatopicoffset topicoffice commit</li>\n<li>-<ul>\n<li>producertransactional.id,producer</li>\n<li>kafkatransactional.idepochtransactionalid</li>\n<li>epochtransactionalidepochproducerkafkaprocedure</li>\n<li><h2 id=\"5-2-kafka\"><a href=\"#5-2-kafka\" class=\"headerlink\" title=\"5-2 kafka\"></a>5-2 kafka</h2></li>\n</ul>\n</li>\n</ul>\n<ol>\n<li>nginx rocketmq netty kafka</li>\n</ol>\n<ul>\n<li></li>\n<li>java nio channel.transforTo</li>\n<li>linux sendfile </li>\n</ul>\n<ol>\n<li><br> 1.<ol>\n<li></li>\n<li>socket</li>\n<li>socket</li>\n<li>4</li>\n</ol>\n</li>\n<li><ol>\n<li></li>\n<li>socket</li>\n<li></li>\n<li>0</li>\n</ol>\n</li>\n<li><br>  </li>\n</ol>\n<p><img src=\"/img/kafka/no_zero_copy.png\" alt=\"image\">  </p>\n<pre><code>1. CPUI/ODMADMAbuffer\n2. CPUCPUkernel buffer\n3. CPUsocket buffer.\n4. DMAsocket buffer \n</code></pre><p>NIO  </p>\n<p><img src=\"/img/kafka/zero_copy.png\" alt=\"image\"></p>\n<pre><code>1. sendfie(),CPUDMAbuffer\n\n2. DMACPUsocketbuffersendFile 3.DMAsocket bufferbuffer\n</code></pre><ol>\n<li>-<blockquote>\n<p>user space  kernel space </p>\n<p>[1]: /img/kafka/kafka_basic_construct.png</p>\n</blockquote>\n</li>\n</ol>"},{"title":"phpjeager","date":"2018-08-13T15:26:44.000Z","_content":"\n## \n- monitor troubleshoot  transations  complex distributed systems \n- [](https://www.jaegertracing.io/)\n- microservices\n- \n    - API[OpenTracing](http://opentracing.io/)\n    - [jagger](https://juejin.im/entry/58c3bf8761ff4b005d90c5e1)\n    - [ ](https://yq.aliyun.com/articles/514488)\n    - [openttacing  api ](https://github.com/opentracing-contrib/opentracing-specification-zh/blob/master/specification.md)\n    - [](https://developer.qiniu.com/insight/manual/5054/all-link-track-profile)\n    - [2](https://yq.aliyun.com/articles/514488?utm_content=m_43347)\n    - [google ](https://bigbully.github.io/Dapper-translation/)\n- \n    <!-- more -->\n    - \n![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/E9F2F681E5C54C8B8E806DD9A30EEE1A)\n![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/2460C8742ACF4881A887A87511D74A12)\n    - \n![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/DDE2BE398CBF45B4A19C95E17A1B2EF7)\n![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/8C10C46800F54669B10E7376EAC4E536)\n\n-   \n![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/55C38C3F3E0B43ECA926A6FD1CC25E9E)\n\n## \n1. TrancesID id TraceIdspan\n2. SpansID RPCdbRPCspantraceId\n    spanspan\n     cs sr ss cr\n3. Spans Tags spankey-value\n4. Baggage Item Trace\n5. Refererneces Span\n6. grpc protobuf thrift \n7. annotation\n    1. cs / client send\n    2. cr / client recevive\n    3. sr / server receive\n    4. ss / server send\n        - AnnotationHash4.value  timestampendpointvaluetimestampenpointipservernamecscrsrss\n8. duration \n9. timestamp \n10. endpoint ipendpointannotation\n11. BinaryAnnotation ++++BinaryAnnotionAnnotation\n12. parentId spanIdspanparentId\n13. span name \n14. ()\n15. ![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/7B603AE043744222A2FABDBEC691C32E)\n\n## \n1. traceId\n2. spanspanid\n3. 1traceId2spanidhttp serverrpc server\n4. 1traceId\n5. \n6. \n\n\n## \n- [excel](https://blog.yeeef.com/post/optimize-slow-request/)sqlcsvredissqlredis\n- \n\n## \n- UI\n- Cassandra or elastic\n- \n- libraryGo, Node, Java, Python\n- anent\n- collector\n\n## \n\n    ```\n    Agent      --> Collector    # AgentCollector\n    Collector  --> Cassandra    # CollectorCassandra\n    Query      --> Cassandra    # CassandraQuery\n    \n    ```\n\n## ALL IN ONE DOCKER IMAGE  \n1.  -docker images \n\n    ```\n     docker run -d --name jaeger \\\n          -e COLLECTOR_ZIPKIN_HTTP_PORT=9411 \\\n          -p 5775:5775/udp \\\n          -p 6831:6831/udp \\\n          -p 6832:6832/udp \\\n          -p 5778:5778 \\\n          -p 16686:16686 \\\n          -p 14268:14268 \\\n          -p 9411:9411 \\\n          jaegertracing/all-in-one:latest\n    ```\n2.  ![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/2EC21DEEF68B4BA5B855FBEA04585B4E)\n  \n##  \n \n- [Hot R.O.D. Rides OnDemand](https://github.com/jaegertracing/jaeger/tree/master/examples/hotrod)\n\n    ```\n        root@docker_001:/home/tb# docker images\n        REPOSITORY                     TAG                 IMAGE ID            CREATED             SIZE\n        jaegertracing/example-hotrod   latest              73985981101a        12 hours ago        15.5MB\n        jaegertracing/all-in-one       latest              8ab45e1d2c89        4 days ago          40.4MB\n        redislabs/rebloom              latest              3386f3e4e33a        4 weeks ago         83.6MB\n        tb_php-fpm                     latest              ddd54dd40a46        4 months ago        225MB\n        nginx                          latest              c5c4e8fa2cf7        4 months ago        109MB\n        phpdockerio/php56-fpm          latest              e944c32c61aa        5 months ago        225MB\n        hello-world                    latest              f2a91732366c        9 months ago        1.85kB\n        root@docker_001:/home/tb# docker run   --rm   --link jaeger   -p8080-8083:8080-8083   jaegertracing/example-hotrod:latest   all   --jaeger-agent.host-port=jaeger:6831\n        2018-08-28T06:44:27.000Z\tINFO\tcmd/root.go:86\tUsing expvar as metrics backend\n        2018-08-28T06:44:27.000Z\tINFO\tcmd/all.go:25\tStarting all services\n        2018-08-28T06:44:27.104Z\tINFO\tlog/logger.go:37\tStarting\t{\"service\": \"route\", \"address\": \"http://0.0.0.0:8083\"}\n        2018-08-28T06:44:27.105Z\tINFO\tlog/logger.go:37\tStarting\t{\"service\": \"frontend\", \"address\": \"http://0.0.0.0:8080\"}\n    \n    ```\n- ![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/1E1DCDC593AC48B4A7FE7283E55601E7?ynotemdtimestamp=1561304251618)\n\n##  go\n-    ```\n        go get github.com/jaegertracing/jaeger\n        cd $GOPATH/src/github.com/jaegertracing/jaeger\n        make install \n    \n    ```\n    \n- glide (go )\n    \n    ```\n     /bin/sh: 1: glide: not found\n        glide install\n        make: glide: Command not found\n        Makefile:158: recipe for target 'install' failed\n        make: *** [install] Error 127\n        \n        ## glide\n        curl https://glide.sh/get | sh\n          % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                         Dload  Upload   Total   Spent    Left  Speed\n        100  4833  100  4833    0     0    944      0  0:00:05  0:00:05 --:--:--  1192\n        ARCH=amd64\n        OS=linux\n        Using curl as download tool\n        Getting https://glide.sh/version\n        TAG=v0.13.1\n        GLIDE_DIST=glide-v0.13.1-linux-amd64.tar.gz\n        Downloading https://github.com/Masterminds/glide/releases/download/v0.13.1/glide-v0.13.1-linux-amd64.tar.gz\n        glide not found. Did you add $GOBIN to your $PATH?\n        Fail to install glide\n        root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger#\n    \n    ``` \n    \n \n\n    `vim .profile` # GOBINPATH  \n\n \n\n    ```\n        source .profile \n        root@docker_001:/home/tb# echo $GOBIN\n        /usr/local/go/bin\n        root@docker_001:/home/tb# cd /home/tb/go_work/src/github.com/jaegertracing/jaeger\n        root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# \n        root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# curl https://glide.sh/get | sh\n          % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                         Dload  Upload   Total   Spent    Left  Speed\n        100  4833  100  4833    0     0    481      0  0:00:10  0:00:10 --:--:--  1120\n        ARCH=amd64\n        OS=linux\n        Using curl as download tool\n        Getting https://glide.sh/version\n        TAG=v0.13.1\n        GLIDE_DIST=glide-v0.13.1-linux-amd64.tar.gz\n        Downloading https://github.com/Masterminds/glide/releases/download/v0.13.1/glide-v0.13.1-linux-amd64.tar.gz\n        glide version v0.13.1 installed successfully\n\n\n\n       `make install`\n       `cd examples/hotrod`\n       `go run ./main.go all`,  \n   \n       [INFO]\t--> Exporting go.uber.org/multierr\n       [INFO]\t--> Exporting go.uber.org/zap\n       [INFO]\tReplacing existing vendor dependencies\n       root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# cd examples/hotrod\n       root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger/examples/hotrod# go run ./main.go all\n       2018-08-30T11:57:49.524+0800\tINFO\tcmd/root.go:86\tUsing expvar as metrics backend\n       2018-08-30T11:57:49.524+0800\tINFO\tcmd/all.go:25\tStarting all services\n       2018-08-30T11:57:49.625+0800\tINFO\tlog/logger.go:37\tStarting\t{\"service\": \"route\", \"address\": \"http://0.0.0.0:8083\"}\n       2018-08-30T11:57:49.626+0800\tINFO\tlog/logger.go:37\tStarting\t{\"service\": \"frontend\", \"address\": \"http://0.0.0.0:8080\"}\n       2018-08-30T11:57:49.728+0800\tINFO\tlog/logger.go:37\tStarting\t{\"service\": \"customer\", \"address\": \"http://0.0.0.0:8081\"}\n       2018-08-30T11:57:49.729+0800\tINFO\tlog/logger.go:37\tTChannel listening\t{\"service\": \"driver\", \"hostPort\": \"[::]:8082\"}\n       ...\n    \n   ```\n8080\n\n## todo\n1. elasticsearch \n2. php \n3. [jaeger](https://imscc.io/posts/trace/install_jaeger_on_linux/)\n4. zipkin\n\n\n","source":"_posts/trace-jaeger-php.md","raw":"---\ntitle: phpjeager\ndate: 2018-08-13 23:26:44\ncategories: PHP\ntags:\n    - traceing\n    - jaeger\n---\n\n## \n- monitor troubleshoot  transations  complex distributed systems \n- [](https://www.jaegertracing.io/)\n- microservices\n- \n    - API[OpenTracing](http://opentracing.io/)\n    - [jagger](https://juejin.im/entry/58c3bf8761ff4b005d90c5e1)\n    - [ ](https://yq.aliyun.com/articles/514488)\n    - [openttacing  api ](https://github.com/opentracing-contrib/opentracing-specification-zh/blob/master/specification.md)\n    - [](https://developer.qiniu.com/insight/manual/5054/all-link-track-profile)\n    - [2](https://yq.aliyun.com/articles/514488?utm_content=m_43347)\n    - [google ](https://bigbully.github.io/Dapper-translation/)\n- \n    <!-- more -->\n    - \n![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/E9F2F681E5C54C8B8E806DD9A30EEE1A)\n![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/2460C8742ACF4881A887A87511D74A12)\n    - \n![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/DDE2BE398CBF45B4A19C95E17A1B2EF7)\n![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/8C10C46800F54669B10E7376EAC4E536)\n\n-   \n![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/55C38C3F3E0B43ECA926A6FD1CC25E9E)\n\n## \n1. TrancesID id TraceIdspan\n2. SpansID RPCdbRPCspantraceId\n    spanspan\n     cs sr ss cr\n3. Spans Tags spankey-value\n4. Baggage Item Trace\n5. Refererneces Span\n6. grpc protobuf thrift \n7. annotation\n    1. cs / client send\n    2. cr / client recevive\n    3. sr / server receive\n    4. ss / server send\n        - AnnotationHash4.value  timestampendpointvaluetimestampenpointipservernamecscrsrss\n8. duration \n9. timestamp \n10. endpoint ipendpointannotation\n11. BinaryAnnotation ++++BinaryAnnotionAnnotation\n12. parentId spanIdspanparentId\n13. span name \n14. ()\n15. ![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/7B603AE043744222A2FABDBEC691C32E)\n\n## \n1. traceId\n2. spanspanid\n3. 1traceId2spanidhttp serverrpc server\n4. 1traceId\n5. \n6. \n\n\n## \n- [excel](https://blog.yeeef.com/post/optimize-slow-request/)sqlcsvredissqlredis\n- \n\n## \n- UI\n- Cassandra or elastic\n- \n- libraryGo, Node, Java, Python\n- anent\n- collector\n\n## \n\n    ```\n    Agent      --> Collector    # AgentCollector\n    Collector  --> Cassandra    # CollectorCassandra\n    Query      --> Cassandra    # CassandraQuery\n    \n    ```\n\n## ALL IN ONE DOCKER IMAGE  \n1.  -docker images \n\n    ```\n     docker run -d --name jaeger \\\n          -e COLLECTOR_ZIPKIN_HTTP_PORT=9411 \\\n          -p 5775:5775/udp \\\n          -p 6831:6831/udp \\\n          -p 6832:6832/udp \\\n          -p 5778:5778 \\\n          -p 16686:16686 \\\n          -p 14268:14268 \\\n          -p 9411:9411 \\\n          jaegertracing/all-in-one:latest\n    ```\n2.  ![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/2EC21DEEF68B4BA5B855FBEA04585B4E)\n  \n##  \n \n- [Hot R.O.D. Rides OnDemand](https://github.com/jaegertracing/jaeger/tree/master/examples/hotrod)\n\n    ```\n        root@docker_001:/home/tb# docker images\n        REPOSITORY                     TAG                 IMAGE ID            CREATED             SIZE\n        jaegertracing/example-hotrod   latest              73985981101a        12 hours ago        15.5MB\n        jaegertracing/all-in-one       latest              8ab45e1d2c89        4 days ago          40.4MB\n        redislabs/rebloom              latest              3386f3e4e33a        4 weeks ago         83.6MB\n        tb_php-fpm                     latest              ddd54dd40a46        4 months ago        225MB\n        nginx                          latest              c5c4e8fa2cf7        4 months ago        109MB\n        phpdockerio/php56-fpm          latest              e944c32c61aa        5 months ago        225MB\n        hello-world                    latest              f2a91732366c        9 months ago        1.85kB\n        root@docker_001:/home/tb# docker run   --rm   --link jaeger   -p8080-8083:8080-8083   jaegertracing/example-hotrod:latest   all   --jaeger-agent.host-port=jaeger:6831\n        2018-08-28T06:44:27.000Z\tINFO\tcmd/root.go:86\tUsing expvar as metrics backend\n        2018-08-28T06:44:27.000Z\tINFO\tcmd/all.go:25\tStarting all services\n        2018-08-28T06:44:27.104Z\tINFO\tlog/logger.go:37\tStarting\t{\"service\": \"route\", \"address\": \"http://0.0.0.0:8083\"}\n        2018-08-28T06:44:27.105Z\tINFO\tlog/logger.go:37\tStarting\t{\"service\": \"frontend\", \"address\": \"http://0.0.0.0:8080\"}\n    \n    ```\n- ![image](https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/1E1DCDC593AC48B4A7FE7283E55601E7?ynotemdtimestamp=1561304251618)\n\n##  go\n-    ```\n        go get github.com/jaegertracing/jaeger\n        cd $GOPATH/src/github.com/jaegertracing/jaeger\n        make install \n    \n    ```\n    \n- glide (go )\n    \n    ```\n     /bin/sh: 1: glide: not found\n        glide install\n        make: glide: Command not found\n        Makefile:158: recipe for target 'install' failed\n        make: *** [install] Error 127\n        \n        ## glide\n        curl https://glide.sh/get | sh\n          % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                         Dload  Upload   Total   Spent    Left  Speed\n        100  4833  100  4833    0     0    944      0  0:00:05  0:00:05 --:--:--  1192\n        ARCH=amd64\n        OS=linux\n        Using curl as download tool\n        Getting https://glide.sh/version\n        TAG=v0.13.1\n        GLIDE_DIST=glide-v0.13.1-linux-amd64.tar.gz\n        Downloading https://github.com/Masterminds/glide/releases/download/v0.13.1/glide-v0.13.1-linux-amd64.tar.gz\n        glide not found. Did you add $GOBIN to your $PATH?\n        Fail to install glide\n        root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger#\n    \n    ``` \n    \n \n\n    `vim .profile` # GOBINPATH  \n\n \n\n    ```\n        source .profile \n        root@docker_001:/home/tb# echo $GOBIN\n        /usr/local/go/bin\n        root@docker_001:/home/tb# cd /home/tb/go_work/src/github.com/jaegertracing/jaeger\n        root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# \n        root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# curl https://glide.sh/get | sh\n          % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                         Dload  Upload   Total   Spent    Left  Speed\n        100  4833  100  4833    0     0    481      0  0:00:10  0:00:10 --:--:--  1120\n        ARCH=amd64\n        OS=linux\n        Using curl as download tool\n        Getting https://glide.sh/version\n        TAG=v0.13.1\n        GLIDE_DIST=glide-v0.13.1-linux-amd64.tar.gz\n        Downloading https://github.com/Masterminds/glide/releases/download/v0.13.1/glide-v0.13.1-linux-amd64.tar.gz\n        glide version v0.13.1 installed successfully\n\n\n\n       `make install`\n       `cd examples/hotrod`\n       `go run ./main.go all`,  \n   \n       [INFO]\t--> Exporting go.uber.org/multierr\n       [INFO]\t--> Exporting go.uber.org/zap\n       [INFO]\tReplacing existing vendor dependencies\n       root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# cd examples/hotrod\n       root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger/examples/hotrod# go run ./main.go all\n       2018-08-30T11:57:49.524+0800\tINFO\tcmd/root.go:86\tUsing expvar as metrics backend\n       2018-08-30T11:57:49.524+0800\tINFO\tcmd/all.go:25\tStarting all services\n       2018-08-30T11:57:49.625+0800\tINFO\tlog/logger.go:37\tStarting\t{\"service\": \"route\", \"address\": \"http://0.0.0.0:8083\"}\n       2018-08-30T11:57:49.626+0800\tINFO\tlog/logger.go:37\tStarting\t{\"service\": \"frontend\", \"address\": \"http://0.0.0.0:8080\"}\n       2018-08-30T11:57:49.728+0800\tINFO\tlog/logger.go:37\tStarting\t{\"service\": \"customer\", \"address\": \"http://0.0.0.0:8081\"}\n       2018-08-30T11:57:49.729+0800\tINFO\tlog/logger.go:37\tTChannel listening\t{\"service\": \"driver\", \"hostPort\": \"[::]:8082\"}\n       ...\n    \n   ```\n8080\n\n## todo\n1. elasticsearch \n2. php \n3. [jaeger](https://imscc.io/posts/trace/install_jaeger_on_linux/)\n4. zipkin\n\n\n","slug":"trace-jaeger-php","published":1,"updated":"2019-06-24T13:47:23.742Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan4u0058zkgvnco58t2c","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>monitor troubleshoot  transations  complex distributed systems </li>\n<li><a href=\"https://www.jaegertracing.io/\" target=\"_blank\" rel=\"external\"></a></li>\n<li>microservices</li>\n<li><ul>\n<li>API<a href=\"http://opentracing.io/\" target=\"_blank\" rel=\"external\">OpenTracing</a></li>\n<li><a href=\"https://juejin.im/entry/58c3bf8761ff4b005d90c5e1\" target=\"_blank\" rel=\"external\">jagger</a></li>\n<li><a href=\"https://yq.aliyun.com/articles/514488\" target=\"_blank\" rel=\"external\"> </a></li>\n<li><a href=\"https://github.com/opentracing-contrib/opentracing-specification-zh/blob/master/specification.md\" target=\"_blank\" rel=\"external\">openttacing  api </a></li>\n<li><a href=\"https://developer.qiniu.com/insight/manual/5054/all-link-track-profile\" target=\"_blank\" rel=\"external\"></a></li>\n<li><a href=\"https://yq.aliyun.com/articles/514488?utm_content=m_43347\" target=\"_blank\" rel=\"external\">2</a></li>\n<li><a href=\"https://bigbully.github.io/Dapper-translation/\" target=\"_blank\" rel=\"external\">google </a></li>\n</ul>\n</li>\n<li><p></p>\n  <a id=\"more\"></a>\n<ul>\n<li><br><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/E9F2F681E5C54C8B8E806DD9A30EEE1A\" alt=\"image\"><br><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/2460C8742ACF4881A887A87511D74A12\" alt=\"image\"></li>\n<li><br><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/DDE2BE398CBF45B4A19C95E17A1B2EF7\" alt=\"image\"><br><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/8C10C46800F54669B10E7376EAC4E536\" alt=\"image\"></li>\n</ul>\n</li>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/55C38C3F3E0B43ECA926A6FD1CC25E9E\" alt=\"image\"></p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>TrancesID id TraceIdspan</li>\n<li>SpansID RPCdbRPCspantraceId<br> spanspan<br>  cs sr ss cr</li>\n<li>Spans Tags spankey-value</li>\n<li>Baggage Item Trace</li>\n<li>Refererneces Span</li>\n<li>grpc protobuf thrift </li>\n<li>annotation<ol>\n<li>cs / client send</li>\n<li>cr / client recevive</li>\n<li>sr / server receive</li>\n<li>ss / server send<ul>\n<li>AnnotationHash4.value  timestampendpointvaluetimestampenpointipservernamecscrsrss</li>\n</ul>\n</li>\n</ol>\n</li>\n<li>duration </li>\n<li>timestamp </li>\n<li>endpoint ipendpointannotation</li>\n<li>BinaryAnnotation ++++BinaryAnnotionAnnotation</li>\n<li>parentId spanIdspanparentId</li>\n<li>span name </li>\n<li>()</li>\n<li><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/7B603AE043744222A2FABDBEC691C32E\" alt=\"image\"></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>traceId</li>\n<li>spanspanid</li>\n<li>1traceId2spanidhttp serverrpc server</li>\n<li>1traceId</li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://blog.yeeef.com/post/optimize-slow-request/\" target=\"_blank\" rel=\"external\">excel</a>sqlcsvredissqlredis</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>UI</li>\n<li>Cassandra or elastic</li>\n<li></li>\n<li>libraryGo, Node, Java, Python</li>\n<li>anent</li>\n<li>collector</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre><code><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">Agent      --&gt; Collector    # AgentCollector</div><div class=\"line\">Collector  --&gt; Cassandra    # CollectorCassandra</div><div class=\"line\">Query      --&gt; Cassandra    # CassandraQuery</div></pre></td></tr></table></figure>\n</code></pre><h2 id=\"ALL-IN-ONE-DOCKER-IMAGE\"><a href=\"#ALL-IN-ONE-DOCKER-IMAGE\" class=\"headerlink\" title=\"ALL IN ONE DOCKER IMAGE\"></a>ALL IN ONE DOCKER IMAGE</h2><ol>\n<li><p> -docker images </p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">docker run -d --name jaeger \\</div><div class=\"line\">     -e COLLECTOR_ZIPKIN_HTTP_PORT=9411 \\</div><div class=\"line\">     -p 5775:5775/udp \\</div><div class=\"line\">     -p 6831:6831/udp \\</div><div class=\"line\">     -p 6832:6832/udp \\</div><div class=\"line\">     -p 5778:5778 \\</div><div class=\"line\">     -p 16686:16686 \\</div><div class=\"line\">     -p 14268:14268 \\</div><div class=\"line\">     -p 9411:9411 \\</div><div class=\"line\">     jaegertracing/all-in-one:latest</div></pre></td></tr></table></figure>\n</li>\n<li><p><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/2EC21DEEF68B4BA5B855FBEA04585B4E\" alt=\"image\"></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><p><a href=\"https://github.com/jaegertracing/jaeger/tree/master/examples/hotrod\" target=\"_blank\" rel=\"external\">Hot R.O.D. Rides OnDemand</a></p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@docker_001:/home/tb# docker images</div><div class=\"line\">REPOSITORY                     TAG                 IMAGE ID            CREATED             SIZE</div><div class=\"line\">jaegertracing/example-hotrod   latest              73985981101a        12 hours ago        15.5MB</div><div class=\"line\">jaegertracing/all-in-one       latest              8ab45e1d2c89        4 days ago          40.4MB</div><div class=\"line\">redislabs/rebloom              latest              3386f3e4e33a        4 weeks ago         83.6MB</div><div class=\"line\">tb_php-fpm                     latest              ddd54dd40a46        4 months ago        225MB</div><div class=\"line\">nginx                          latest              c5c4e8fa2cf7        4 months ago        109MB</div><div class=\"line\">phpdockerio/php56-fpm          latest              e944c32c61aa        5 months ago        225MB</div><div class=\"line\">hello-world                    latest              f2a91732366c        9 months ago        1.85kB</div><div class=\"line\">root@docker_001:/home/tb# docker run   --rm   --link jaeger   -p8080-8083:8080-8083   jaegertracing/example-hotrod:latest   all   --jaeger-agent.host-port=jaeger:6831</div><div class=\"line\">2018-08-28T06:44:27.000Z\tINFO\tcmd/root.go:86\tUsing expvar as metrics backend</div><div class=\"line\">2018-08-28T06:44:27.000Z\tINFO\tcmd/all.go:25\tStarting all services</div><div class=\"line\">2018-08-28T06:44:27.104Z\tINFO\tlog/logger.go:37\tStarting\t&#123;&quot;service&quot;: &quot;route&quot;, &quot;address&quot;: &quot;http://0.0.0.0:8083&quot;&#125;</div><div class=\"line\">2018-08-28T06:44:27.105Z\tINFO\tlog/logger.go:37\tStarting\t&#123;&quot;service&quot;: &quot;frontend&quot;, &quot;address&quot;: &quot;http://0.0.0.0:8080&quot;&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/1E1DCDC593AC48B4A7FE7283E55601E7?ynotemdtimestamp=1561304251618\" alt=\"image\"></p>\n</li>\n</ul>\n<h2 id=\"-go\"><a href=\"#-go\" class=\"headerlink\" title=\" go\"></a> go</h2><ul>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">go get github.com/jaegertracing/jaeger</div><div class=\"line\">cd $GOPATH/src/github.com/jaegertracing/jaeger</div><div class=\"line\">make install</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<ul>\n<li><p>glide (go )</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div></pre></td><td class=\"code\"><pre><div class=\"line\">     /bin/sh: 1: glide: not found</div><div class=\"line\">        glide install</div><div class=\"line\">        make: glide: Command not found</div><div class=\"line\">        Makefile:158: recipe for target &apos;install&apos; failed</div><div class=\"line\">        make: *** [install] Error 127</div><div class=\"line\">        </div><div class=\"line\">        ## glide</div><div class=\"line\">        curl https://glide.sh/get | sh</div><div class=\"line\">          % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</div><div class=\"line\">                                         Dload  Upload   Total   Spent    Left  Speed</div><div class=\"line\">        100  4833  100  4833    0     0    944      0  0:00:05  0:00:05 --:--:--  1192</div><div class=\"line\">        ARCH=amd64</div><div class=\"line\">        OS=linux</div><div class=\"line\">        Using curl as download tool</div><div class=\"line\">        Getting https://glide.sh/version</div><div class=\"line\">        TAG=v0.13.1</div><div class=\"line\">        GLIDE_DIST=glide-v0.13.1-linux-amd64.tar.gz</div><div class=\"line\">        Downloading https://github.com/Masterminds/glide/releases/download/v0.13.1/glide-v0.13.1-linux-amd64.tar.gz</div><div class=\"line\">        glide not found. Did you add $GOBIN to your $PATH?</div><div class=\"line\">        Fail to install glide</div><div class=\"line\">        root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger#</div><div class=\"line\">    </div><div class=\"line\">    ``` </div><div class=\"line\">    </div><div class=\"line\"> </div><div class=\"line\"></div><div class=\"line\">    `vim .profile` # GOBINPATH  </div><div class=\"line\"></div><div class=\"line\"></div></pre></td></tr></table></figure>\n<pre><code>source .profile \nroot@docker_001:/home/tb# echo $GOBIN\n/usr/local/go/bin\nroot@docker_001:/home/tb# cd /home/tb/go_work/src/github.com/jaegertracing/jaeger\nroot@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# \nroot@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# curl https://glide.sh/get | sh\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  4833  100  4833    0     0    481      0  0:00:10  0:00:10 --:--:--  1120\nARCH=amd64\nOS=linux\nUsing curl as download tool\nGetting https://glide.sh/version\nTAG=v0.13.1\nGLIDE_DIST=glide-v0.13.1-linux-amd64.tar.gz\nDownloading https://github.com/Masterminds/glide/releases/download/v0.13.1/glide-v0.13.1-linux-amd64.tar.gz\nglide version v0.13.1 installed successfully\n</code></pre></li>\n</ul>\n<p></p>\n<pre><code>`make install`\n`cd examples/hotrod`\n`go run ./main.go all`,  \n\n[INFO]    --&gt; Exporting go.uber.org/multierr\n[INFO]    --&gt; Exporting go.uber.org/zap\n[INFO]    Replacing existing vendor dependencies\nroot@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# cd examples/hotrod\nroot@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger/examples/hotrod# go run ./main.go all\n2018-08-30T11:57:49.524+0800    INFO    cmd/root.go:86    Using expvar as metrics backend\n2018-08-30T11:57:49.524+0800    INFO    cmd/all.go:25    Starting all services\n2018-08-30T11:57:49.625+0800    INFO    log/logger.go:37    Starting    {&quot;service&quot;: &quot;route&quot;, &quot;address&quot;: &quot;http://0.0.0.0:8083&quot;}\n2018-08-30T11:57:49.626+0800    INFO    log/logger.go:37    Starting    {&quot;service&quot;: &quot;frontend&quot;, &quot;address&quot;: &quot;http://0.0.0.0:8080&quot;}\n2018-08-30T11:57:49.728+0800    INFO    log/logger.go:37    Starting    {&quot;service&quot;: &quot;customer&quot;, &quot;address&quot;: &quot;http://0.0.0.0:8081&quot;}\n2018-08-30T11:57:49.729+0800    INFO    log/logger.go:37    TChannel listening    {&quot;service&quot;: &quot;driver&quot;, &quot;hostPort&quot;: &quot;[::]:8082&quot;}\n...\n</code></pre><p>   ```<br>8080</p>\n<h2 id=\"todo\"><a href=\"#todo\" class=\"headerlink\" title=\"todo\"></a>todo</h2><ol>\n<li>elasticsearch </li>\n<li>php </li>\n<li><a href=\"https://imscc.io/posts/trace/install_jaeger_on_linux/\" target=\"_blank\" rel=\"external\">jaeger</a></li>\n<li>zipkin</li>\n</ol>\n","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>monitor troubleshoot  transations  complex distributed systems </li>\n<li><a href=\"https://www.jaegertracing.io/\"></a></li>\n<li>microservices</li>\n<li><ul>\n<li>API<a href=\"http://opentracing.io/\">OpenTracing</a></li>\n<li><a href=\"https://juejin.im/entry/58c3bf8761ff4b005d90c5e1\">jagger</a></li>\n<li><a href=\"https://yq.aliyun.com/articles/514488\"> </a></li>\n<li><a href=\"https://github.com/opentracing-contrib/opentracing-specification-zh/blob/master/specification.md\">openttacing  api </a></li>\n<li><a href=\"https://developer.qiniu.com/insight/manual/5054/all-link-track-profile\"></a></li>\n<li><a href=\"https://yq.aliyun.com/articles/514488?utm_content=m_43347\">2</a></li>\n<li><a href=\"https://bigbully.github.io/Dapper-translation/\">google </a></li>\n</ul>\n</li>\n<li><p></p>","more":"<ul>\n<li><br><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/E9F2F681E5C54C8B8E806DD9A30EEE1A\" alt=\"image\"><br><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/2460C8742ACF4881A887A87511D74A12\" alt=\"image\"></li>\n<li><br><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/DDE2BE398CBF45B4A19C95E17A1B2EF7\" alt=\"image\"><br><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/8C10C46800F54669B10E7376EAC4E536\" alt=\"image\"></li>\n</ul>\n</li>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/55C38C3F3E0B43ECA926A6FD1CC25E9E\" alt=\"image\"></p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>TrancesID id TraceIdspan</li>\n<li>SpansID RPCdbRPCspantraceId<br> spanspan<br>  cs sr ss cr</li>\n<li>Spans Tags spankey-value</li>\n<li>Baggage Item Trace</li>\n<li>Refererneces Span</li>\n<li>grpc protobuf thrift </li>\n<li>annotation<ol>\n<li>cs / client send</li>\n<li>cr / client recevive</li>\n<li>sr / server receive</li>\n<li>ss / server send<ul>\n<li>AnnotationHash4.value  timestampendpointvaluetimestampenpointipservernamecscrsrss</li>\n</ul>\n</li>\n</ol>\n</li>\n<li>duration </li>\n<li>timestamp </li>\n<li>endpoint ipendpointannotation</li>\n<li>BinaryAnnotation ++++BinaryAnnotionAnnotation</li>\n<li>parentId spanIdspanparentId</li>\n<li>span name </li>\n<li>()</li>\n<li><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/7B603AE043744222A2FABDBEC691C32E\" alt=\"image\"></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>traceId</li>\n<li>spanspanid</li>\n<li>1traceId2spanidhttp serverrpc server</li>\n<li>1traceId</li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><a href=\"https://blog.yeeef.com/post/optimize-slow-request/\">excel</a>sqlcsvredissqlredis</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>UI</li>\n<li>Cassandra or elastic</li>\n<li></li>\n<li>libraryGo, Node, Java, Python</li>\n<li>anent</li>\n<li>collector</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre><code><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">Agent      --&gt; Collector    # AgentCollector</div><div class=\"line\">Collector  --&gt; Cassandra    # CollectorCassandra</div><div class=\"line\">Query      --&gt; Cassandra    # CassandraQuery</div></pre></td></tr></table></figure>\n</code></pre><h2 id=\"ALL-IN-ONE-DOCKER-IMAGE\"><a href=\"#ALL-IN-ONE-DOCKER-IMAGE\" class=\"headerlink\" title=\"ALL IN ONE DOCKER IMAGE\"></a>ALL IN ONE DOCKER IMAGE</h2><ol>\n<li><p> -docker images </p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">docker run -d --name jaeger \\</div><div class=\"line\">     -e COLLECTOR_ZIPKIN_HTTP_PORT=9411 \\</div><div class=\"line\">     -p 5775:5775/udp \\</div><div class=\"line\">     -p 6831:6831/udp \\</div><div class=\"line\">     -p 6832:6832/udp \\</div><div class=\"line\">     -p 5778:5778 \\</div><div class=\"line\">     -p 16686:16686 \\</div><div class=\"line\">     -p 14268:14268 \\</div><div class=\"line\">     -p 9411:9411 \\</div><div class=\"line\">     jaegertracing/all-in-one:latest</div></pre></td></tr></table></figure>\n</li>\n<li><p><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/2EC21DEEF68B4BA5B855FBEA04585B4E\" alt=\"image\"></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><p><a href=\"https://github.com/jaegertracing/jaeger/tree/master/examples/hotrod\">Hot R.O.D. Rides OnDemand</a></p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@docker_001:/home/tb# docker images</div><div class=\"line\">REPOSITORY                     TAG                 IMAGE ID            CREATED             SIZE</div><div class=\"line\">jaegertracing/example-hotrod   latest              73985981101a        12 hours ago        15.5MB</div><div class=\"line\">jaegertracing/all-in-one       latest              8ab45e1d2c89        4 days ago          40.4MB</div><div class=\"line\">redislabs/rebloom              latest              3386f3e4e33a        4 weeks ago         83.6MB</div><div class=\"line\">tb_php-fpm                     latest              ddd54dd40a46        4 months ago        225MB</div><div class=\"line\">nginx                          latest              c5c4e8fa2cf7        4 months ago        109MB</div><div class=\"line\">phpdockerio/php56-fpm          latest              e944c32c61aa        5 months ago        225MB</div><div class=\"line\">hello-world                    latest              f2a91732366c        9 months ago        1.85kB</div><div class=\"line\">root@docker_001:/home/tb# docker run   --rm   --link jaeger   -p8080-8083:8080-8083   jaegertracing/example-hotrod:latest   all   --jaeger-agent.host-port=jaeger:6831</div><div class=\"line\">2018-08-28T06:44:27.000Z\tINFO\tcmd/root.go:86\tUsing expvar as metrics backend</div><div class=\"line\">2018-08-28T06:44:27.000Z\tINFO\tcmd/all.go:25\tStarting all services</div><div class=\"line\">2018-08-28T06:44:27.104Z\tINFO\tlog/logger.go:37\tStarting\t&#123;&quot;service&quot;: &quot;route&quot;, &quot;address&quot;: &quot;http://0.0.0.0:8083&quot;&#125;</div><div class=\"line\">2018-08-28T06:44:27.105Z\tINFO\tlog/logger.go:37\tStarting\t&#123;&quot;service&quot;: &quot;frontend&quot;, &quot;address&quot;: &quot;http://0.0.0.0:8080&quot;&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p><img src=\"https://note.youdao.com/yws/public/resource/40533ca20a9edc5b60490f3bd03e3562/1E1DCDC593AC48B4A7FE7283E55601E7?ynotemdtimestamp=1561304251618\" alt=\"image\"></p>\n</li>\n</ul>\n<h2 id=\"-go\"><a href=\"#-go\" class=\"headerlink\" title=\" go\"></a> go</h2><ul>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">go get github.com/jaegertracing/jaeger</div><div class=\"line\">cd $GOPATH/src/github.com/jaegertracing/jaeger</div><div class=\"line\">make install</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<ul>\n<li><p>glide (go )</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div></pre></td><td class=\"code\"><pre><div class=\"line\">     /bin/sh: 1: glide: not found</div><div class=\"line\">        glide install</div><div class=\"line\">        make: glide: Command not found</div><div class=\"line\">        Makefile:158: recipe for target &apos;install&apos; failed</div><div class=\"line\">        make: *** [install] Error 127</div><div class=\"line\">        </div><div class=\"line\">        ## glide</div><div class=\"line\">        curl https://glide.sh/get | sh</div><div class=\"line\">          % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</div><div class=\"line\">                                         Dload  Upload   Total   Spent    Left  Speed</div><div class=\"line\">        100  4833  100  4833    0     0    944      0  0:00:05  0:00:05 --:--:--  1192</div><div class=\"line\">        ARCH=amd64</div><div class=\"line\">        OS=linux</div><div class=\"line\">        Using curl as download tool</div><div class=\"line\">        Getting https://glide.sh/version</div><div class=\"line\">        TAG=v0.13.1</div><div class=\"line\">        GLIDE_DIST=glide-v0.13.1-linux-amd64.tar.gz</div><div class=\"line\">        Downloading https://github.com/Masterminds/glide/releases/download/v0.13.1/glide-v0.13.1-linux-amd64.tar.gz</div><div class=\"line\">        glide not found. Did you add $GOBIN to your $PATH?</div><div class=\"line\">        Fail to install glide</div><div class=\"line\">        root@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger#</div><div class=\"line\">    </div><div class=\"line\">    ``` </div><div class=\"line\">    </div><div class=\"line\"> </div><div class=\"line\"></div><div class=\"line\">    `vim .profile` # GOBINPATH  </div><div class=\"line\"></div><div class=\"line\"></div></pre></td></tr></table></figure>\n<pre><code>source .profile \nroot@docker_001:/home/tb# echo $GOBIN\n/usr/local/go/bin\nroot@docker_001:/home/tb# cd /home/tb/go_work/src/github.com/jaegertracing/jaeger\nroot@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# \nroot@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# curl https://glide.sh/get | sh\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  4833  100  4833    0     0    481      0  0:00:10  0:00:10 --:--:--  1120\nARCH=amd64\nOS=linux\nUsing curl as download tool\nGetting https://glide.sh/version\nTAG=v0.13.1\nGLIDE_DIST=glide-v0.13.1-linux-amd64.tar.gz\nDownloading https://github.com/Masterminds/glide/releases/download/v0.13.1/glide-v0.13.1-linux-amd64.tar.gz\nglide version v0.13.1 installed successfully\n</code></pre></li>\n</ul>\n<p></p>\n<pre><code>`make install`\n`cd examples/hotrod`\n`go run ./main.go all`,  \n\n[INFO]    --&gt; Exporting go.uber.org/multierr\n[INFO]    --&gt; Exporting go.uber.org/zap\n[INFO]    Replacing existing vendor dependencies\nroot@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger# cd examples/hotrod\nroot@docker_001:/home/tb/go_work/src/github.com/jaegertracing/jaeger/examples/hotrod# go run ./main.go all\n2018-08-30T11:57:49.524+0800    INFO    cmd/root.go:86    Using expvar as metrics backend\n2018-08-30T11:57:49.524+0800    INFO    cmd/all.go:25    Starting all services\n2018-08-30T11:57:49.625+0800    INFO    log/logger.go:37    Starting    {&quot;service&quot;: &quot;route&quot;, &quot;address&quot;: &quot;http://0.0.0.0:8083&quot;}\n2018-08-30T11:57:49.626+0800    INFO    log/logger.go:37    Starting    {&quot;service&quot;: &quot;frontend&quot;, &quot;address&quot;: &quot;http://0.0.0.0:8080&quot;}\n2018-08-30T11:57:49.728+0800    INFO    log/logger.go:37    Starting    {&quot;service&quot;: &quot;customer&quot;, &quot;address&quot;: &quot;http://0.0.0.0:8081&quot;}\n2018-08-30T11:57:49.729+0800    INFO    log/logger.go:37    TChannel listening    {&quot;service&quot;: &quot;driver&quot;, &quot;hostPort&quot;: &quot;[::]:8082&quot;}\n...\n</code></pre><p>   ```<br>8080</p>\n<h2 id=\"todo\"><a href=\"#todo\" class=\"headerlink\" title=\"todo\"></a>todo</h2><ol>\n<li>elasticsearch </li>\n<li>php </li>\n<li><a href=\"https://imscc.io/posts/trace/install_jaeger_on_linux/\">jaeger</a></li>\n<li>zipkin</li>\n</ol>"},{"title":"phpzipkin","date":"2018-08-13T15:26:44.000Z","_content":"## Distributed TracingSystem \n## [](https://zipkin.io/pages/existing_instrumentations.html)\n## [Dapper](https://bigbully.github.io/Dapper-translation/)\n## [CAT](https://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html)\n## [](https://www.jianshu.com/p/e02972487e00)\n##  [link](https://note.youdao.com/)\n## \n\n1. \n```\nroot@es_002:/home/tb/tbdown/zipkin# ls\nquickstart.sh  zipkin-server-2.11.7-exec.jar\nroot@es_002:/home/tb/tbdown/zipkin# java -jar zipkin-server-2.11.7-exec.jar \n                                    ********\n                                  **        **\n                                 *            *\n                                **            **\n                                **            **\n                                 **          **\n                                  **        **\n                                    ********\n                                      ****\n                                      ****\n        ****                          ****\n     ******                           ****                                 ***\n  ****************************************************************************\n    *******                           ****                                 ***\n        ****                          ****\n                                       **\n                                       **\n\n\n             *****      **     *****     ** **       **     **   **\n               **       **     **  *     ***         **     **** **\n              **        **     *****     ****        **     **  ***\n             ******     **     **        **  **      **     **   **\n\n:: Powered by Spring Boot ::  \n\n```\n2. \n    1. jaeger\n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/5513E5C3C0524A5FB937A1CB0EE7A3EA)\n    2. \n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/52486B77B78B473E92DA60311F4491E4)\n    3. \n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/2454953BD0204E7090F1FBA67FB99C36)\n\n    4.    \n    \n    -    \n    ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/6DDA0E236C6F476FAEC555B3E99A3266?ynotemdtimestamp=1561305104458)\n\n    -   \n    ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/C1ABE11BB22B452A9470EC27AB4097FD?ynotemdtimestamp=1561305104458)\n    \n    -     \n    ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/3955D44C096B4438AF40BF293D59EC45?ynotemdtimestamp=1561305104458)\n    \n    -   \n    ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/D162A85DC67E42D1BAAC622EF4A7668D?ynotemdtimestamp=1561305104458)\n\n\n3. [Zipkin of php](https://github.com/openzipkin/zipkin-php)[](https://zipkin.io/pages/existing_instrumentations.html)\n\n```\n//\ncomposer init\ncomposer config -g secure-http false\n\n//php composer.json\nroot@udev:/home/tb/tbtmp# ls\ncomposer.json  composer.lock  vendor\nroot@udev:/home/tb/tbtmp# cd vendor/\nroot@udev:/home/tb/tbtmp/vendor# ls\nautoload.php  composer  evenement   jcchavezs  phpdocumentor  phpunit  react        sebastian  symfony\nbin           doctrine  guzzlehttp  myclabs    phpspec        psr      ringcentral  squizlabs  webmozart\nroot@udev:/home/tb/tbtmp/vendor# \n\n```\n\n4. mysql\n\n```\ncreate database zipkin;\n\nCREATE TABLE IF NOT EXISTS zipkin_spans (\n  `trace_id_high` BIGINT NOT NULL DEFAULT 0 COMMENT 'If non zero, this means the trace uses 128 bit traceIds instead of 64 bit',\n  `trace_id` BIGINT NOT NULL,\n  `id` BIGINT NOT NULL,\n  `name` VARCHAR(255) NOT NULL,\n  `parent_id` BIGINT,\n  `debug` BIT(1),\n  `start_ts` BIGINT COMMENT 'Span.timestamp(): epoch micros used for endTs query and to implement TTL',\n  `duration` BIGINT COMMENT 'Span.duration(): micros used for minDuration and maxDuration query'\n) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;\n\nALTER TABLE zipkin_spans ADD UNIQUE KEY(`trace_id_high`, `trace_id`, `id`) COMMENT 'ignore insert on duplicate';\nALTER TABLE zipkin_spans ADD INDEX(`trace_id_high`, `trace_id`, `id`) COMMENT 'for joining with zipkin_annotations';\nALTER TABLE zipkin_spans ADD INDEX(`trace_id_high`, `trace_id`) COMMENT 'for getTracesByIds';\nALTER TABLE zipkin_spans ADD INDEX(`name`) COMMENT 'for getTraces and getSpanNames';\nALTER TABLE zipkin_spans ADD INDEX(`start_ts`) COMMENT 'for getTraces ordering and range';\n\nCREATE TABLE IF NOT EXISTS zipkin_annotations (\n  `trace_id_high` BIGINT NOT NULL DEFAULT 0 COMMENT 'If non zero, this means the trace uses 128 bit traceIds instead of 64 bit',\n  `trace_id` BIGINT NOT NULL COMMENT 'coincides with zipkin_spans.trace_id',\n  `span_id` BIGINT NOT NULL COMMENT 'coincides with zipkin_spans.id',\n  `a_key` VARCHAR(255) NOT NULL COMMENT 'BinaryAnnotation.key or Annotation.value if type == -1',\n  `a_value` BLOB COMMENT 'BinaryAnnotation.value(), which must be smaller than 64KB',\n  `a_type` INT NOT NULL COMMENT 'BinaryAnnotation.type() or -1 if Annotation',\n  `a_timestamp` BIGINT COMMENT 'Used to implement TTL; Annotation.timestamp or zipkin_spans.timestamp',\n  `endpoint_ipv4` INT COMMENT 'Null when Binary/Annotation.endpoint is null',\n  `endpoint_ipv6` BINARY(16) COMMENT 'Null when Binary/Annotation.endpoint is null, or no IPv6 address',\n  `endpoint_port` SMALLINT COMMENT 'Null when Binary/Annotation.endpoint is null',\n  `endpoint_service_name` VARCHAR(255) COMMENT 'Null when Binary/Annotation.endpoint is null'\n) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;\n\nALTER TABLE zipkin_annotations ADD UNIQUE KEY(`trace_id_high`, `trace_id`, `span_id`, `a_key`, `a_timestamp`) COMMENT 'Ignore insert on duplicate';\nALTER TABLE zipkin_annotations ADD INDEX(`trace_id_high`, `trace_id`, `span_id`) COMMENT 'for joining with zipkin_spans';\nALTER TABLE zipkin_annotations ADD INDEX(`trace_id_high`, `trace_id`) COMMENT 'for getTraces/ByIds';\nALTER TABLE zipkin_annotations ADD INDEX(`endpoint_service_name`) COMMENT 'for getTraces and getServiceNames';\nALTER TABLE zipkin_annotations ADD INDEX(`a_type`) COMMENT 'for getTraces';\nALTER TABLE zipkin_annotations ADD INDEX(`a_key`) COMMENT 'for getTraces';\nALTER TABLE zipkin_annotations ADD INDEX(`trace_id`, `span_id`, `a_key`) COMMENT 'for dependencies job';\n\nCREATE TABLE IF NOT EXISTS zipkin_dependencies (\n  `day` DATE NOT NULL,\n  `parent` VARCHAR(255) NOT NULL,\n  `child` VARCHAR(255) NOT NULL,\n  `call_count` BIGINT,\n  `error_count` BIGINT\n) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;\n\nALTER TABLE zipkin_dependencies ADD UNIQUE KEY(`day`, `parent`, `child`);\n\n```\nmysql(222)\n\n```\nSTORAGE_TYPE=mysql MYSQL_HOST=192.168.50.222 MYSQL_TCP_PORT=3306 MYSQL_DB=zipkin MYSQL_USER=root MYSQL_PASS='root' java -jar zipkin-server-2.11.7-exec.jar\n```\n\n\n\n```\nDatabase changed\nmysql> show tables;\n+---------------------+\n| Tables_in_zipkin    |\n+---------------------+\n| zipkin_annotations  |\n| zipkin_dependencies |\n| zipkin_spans        |\n+---------------------+\n3 rows in set (0.00 sec)\n\nmysql> select * from zipkin_spans;\n+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+\n| trace_id_high | trace_id         | id               | name         | parent_id        | debug | start_ts         | duration |\n+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+\n|             0 | 1540542210608961 | 1540542210608963 | /method_of_a |             NULL |      | 1540542210608963 |   380025 |\n|             0 | 1540542210608961 | 1540542210608964 | /method_of_b | 1540542210608963 |      | 1540542210608968 |   229175 |\n|             0 | 1540542210608961 | 1540542210838146 | mysql.user   | 1540542210608963 |      | 1540542210838148 |   100442 |\n+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+\n3 rows in set (0.00 sec)\n\nmysql> \n\n\n```\n\n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/EEF5EFEED18C45C49EB8FC07B501FC02)\n\n5. \n\n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/9BB3B84BD4A04C28965996E780B59E07)\n\n    1. 10msclient send\n    2. 9ms(10+9), server receive\n    3. 12msserver server send\n    4. 1msclient client receive\n\n## \n\n1. new tracespanspan\n```\n $span_root = $tracer->newTrace();\n        $span_root->setName('pre_con_redis');\n        $span_root->start();\n        try {\n            //1000 =1=1000000 usleep \n           usleep(1000000);\n        } finally {\n            $span_root->finish();\n        }\n\n        //new tracespan\n        $span_root_2 = $tracer->newTrace();\n        $span_root_2->setName('do_redis');\n        $span_root_2->start();\n        try {\n            //1000 =1=1000000 usleep \n            usleep(2000000);\n        } finally {\n            $span_root_2->finish();\n        }\n\n        $span_root_3 = $tracer->newTrace();\n        $span_root_3->setName('do_redis');\n        $span_root_3->start();\n        try {\n            //1000 =1=1000000 usleep \n            usleep(3000000);\n        } finally {\n            $span_root_3->finish();\n        }\n\n```\n1s2s3s  \n\n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/6145935D275A41A9B6359FF6F970B7F8?ynotemdtimestamp=1561305104458)\n\n2. \n\n```\n  $span_root = $tracer->newTrace();\n        $span_root->setName('php_demo_begin');\n        $span_root->start();\n//        $span_root->tag('http.status_code', '200');\n        try {\n            $parentContext = $span_root->getContext();\n            $child_span1=$tracer->newChild($parentContext);\n            $child_span1->setName(\"pre_con_redis\");\n            $child_span1->start();\n            //1000 =1=1000000 usleep \n           usleep(1000000);\n        } finally {\n            $child_span1->finish();\n        }\n\n        /**new tracespan\n        *spancontextnamespan\n        *spancontextspan-namestart-timeend-time\n         **/\n        $child_span1 = $tracer->newChild($parentContext);\n        $child_span1->setName('do_redis');\n        $child_span1->start();\n//        $span_root->tag('http.status_code', '200');\n        try {\n            //1000 =1=1000000 usleep \n            usleep(2300000);\n        } finally {\n            $child_span1->finish();\n        }\n\n        $child_span3 = $tracer->newChild($parentContext);\n        $child_span3->setName('redis_return');\n        $child_span3->start();\n//        $span_root->tag('http.status_code', '200');\n        try {\n            //1000 =1=1000000 usleep \n            usleep(1200000);\n        } finally {\n            $child_span3->finish();\n        }\n\n        $span_root->finish();\n```\n\n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/56AE1215B7BA4F93B47120D94D54D503?ynotemdtimestamp=1561305104458)\n\n## \n #### 001  \n \n ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/B7806B72E74E46D5837F81FFAE051029?ynotemdtimestamp=1561305104458)\n #### 002  \n \n ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/C3DF7959091E40FB90890595A42C65EC?ynotemdtimestamp=1561305104458)\n #### 003  \n \n ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/02AA4B5059C349AB8ABBF2DF087E784E?ynotemdtimestamp=1561305104458)\n #### 004  \n \n ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/F08444612B414B3B9EA23544D9F8058B?ynotemdtimestamp=1561305104458)\n \n ## \n 1. \n    \n 2. \n    load\n 3. \n 4. hook\n    ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/F08444612B414B3B9EA23544D9F8058B?ynotemdtimestamp=1561305104458)\n 5. [ELK](https://dzone.com/articles/distributed-tracing-with-zipkin-and-elk/)","source":"_posts/trace-zipkin-php.md","raw":"---\ntitle: phpzipkin\ndate: 2018-08-13 23:26:44\ncategories: PHP\ntags:\n    - traceing\n    - zipkin\n---\n## Distributed TracingSystem \n## [](https://zipkin.io/pages/existing_instrumentations.html)\n## [Dapper](https://bigbully.github.io/Dapper-translation/)\n## [CAT](https://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html)\n## [](https://www.jianshu.com/p/e02972487e00)\n##  [link](https://note.youdao.com/)\n## \n\n1. \n```\nroot@es_002:/home/tb/tbdown/zipkin# ls\nquickstart.sh  zipkin-server-2.11.7-exec.jar\nroot@es_002:/home/tb/tbdown/zipkin# java -jar zipkin-server-2.11.7-exec.jar \n                                    ********\n                                  **        **\n                                 *            *\n                                **            **\n                                **            **\n                                 **          **\n                                  **        **\n                                    ********\n                                      ****\n                                      ****\n        ****                          ****\n     ******                           ****                                 ***\n  ****************************************************************************\n    *******                           ****                                 ***\n        ****                          ****\n                                       **\n                                       **\n\n\n             *****      **     *****     ** **       **     **   **\n               **       **     **  *     ***         **     **** **\n              **        **     *****     ****        **     **  ***\n             ******     **     **        **  **      **     **   **\n\n:: Powered by Spring Boot ::  \n\n```\n2. \n    1. jaeger\n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/5513E5C3C0524A5FB937A1CB0EE7A3EA)\n    2. \n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/52486B77B78B473E92DA60311F4491E4)\n    3. \n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/2454953BD0204E7090F1FBA67FB99C36)\n\n    4.    \n    \n    -    \n    ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/6DDA0E236C6F476FAEC555B3E99A3266?ynotemdtimestamp=1561305104458)\n\n    -   \n    ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/C1ABE11BB22B452A9470EC27AB4097FD?ynotemdtimestamp=1561305104458)\n    \n    -     \n    ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/3955D44C096B4438AF40BF293D59EC45?ynotemdtimestamp=1561305104458)\n    \n    -   \n    ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/D162A85DC67E42D1BAAC622EF4A7668D?ynotemdtimestamp=1561305104458)\n\n\n3. [Zipkin of php](https://github.com/openzipkin/zipkin-php)[](https://zipkin.io/pages/existing_instrumentations.html)\n\n```\n//\ncomposer init\ncomposer config -g secure-http false\n\n//php composer.json\nroot@udev:/home/tb/tbtmp# ls\ncomposer.json  composer.lock  vendor\nroot@udev:/home/tb/tbtmp# cd vendor/\nroot@udev:/home/tb/tbtmp/vendor# ls\nautoload.php  composer  evenement   jcchavezs  phpdocumentor  phpunit  react        sebastian  symfony\nbin           doctrine  guzzlehttp  myclabs    phpspec        psr      ringcentral  squizlabs  webmozart\nroot@udev:/home/tb/tbtmp/vendor# \n\n```\n\n4. mysql\n\n```\ncreate database zipkin;\n\nCREATE TABLE IF NOT EXISTS zipkin_spans (\n  `trace_id_high` BIGINT NOT NULL DEFAULT 0 COMMENT 'If non zero, this means the trace uses 128 bit traceIds instead of 64 bit',\n  `trace_id` BIGINT NOT NULL,\n  `id` BIGINT NOT NULL,\n  `name` VARCHAR(255) NOT NULL,\n  `parent_id` BIGINT,\n  `debug` BIT(1),\n  `start_ts` BIGINT COMMENT 'Span.timestamp(): epoch micros used for endTs query and to implement TTL',\n  `duration` BIGINT COMMENT 'Span.duration(): micros used for minDuration and maxDuration query'\n) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;\n\nALTER TABLE zipkin_spans ADD UNIQUE KEY(`trace_id_high`, `trace_id`, `id`) COMMENT 'ignore insert on duplicate';\nALTER TABLE zipkin_spans ADD INDEX(`trace_id_high`, `trace_id`, `id`) COMMENT 'for joining with zipkin_annotations';\nALTER TABLE zipkin_spans ADD INDEX(`trace_id_high`, `trace_id`) COMMENT 'for getTracesByIds';\nALTER TABLE zipkin_spans ADD INDEX(`name`) COMMENT 'for getTraces and getSpanNames';\nALTER TABLE zipkin_spans ADD INDEX(`start_ts`) COMMENT 'for getTraces ordering and range';\n\nCREATE TABLE IF NOT EXISTS zipkin_annotations (\n  `trace_id_high` BIGINT NOT NULL DEFAULT 0 COMMENT 'If non zero, this means the trace uses 128 bit traceIds instead of 64 bit',\n  `trace_id` BIGINT NOT NULL COMMENT 'coincides with zipkin_spans.trace_id',\n  `span_id` BIGINT NOT NULL COMMENT 'coincides with zipkin_spans.id',\n  `a_key` VARCHAR(255) NOT NULL COMMENT 'BinaryAnnotation.key or Annotation.value if type == -1',\n  `a_value` BLOB COMMENT 'BinaryAnnotation.value(), which must be smaller than 64KB',\n  `a_type` INT NOT NULL COMMENT 'BinaryAnnotation.type() or -1 if Annotation',\n  `a_timestamp` BIGINT COMMENT 'Used to implement TTL; Annotation.timestamp or zipkin_spans.timestamp',\n  `endpoint_ipv4` INT COMMENT 'Null when Binary/Annotation.endpoint is null',\n  `endpoint_ipv6` BINARY(16) COMMENT 'Null when Binary/Annotation.endpoint is null, or no IPv6 address',\n  `endpoint_port` SMALLINT COMMENT 'Null when Binary/Annotation.endpoint is null',\n  `endpoint_service_name` VARCHAR(255) COMMENT 'Null when Binary/Annotation.endpoint is null'\n) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;\n\nALTER TABLE zipkin_annotations ADD UNIQUE KEY(`trace_id_high`, `trace_id`, `span_id`, `a_key`, `a_timestamp`) COMMENT 'Ignore insert on duplicate';\nALTER TABLE zipkin_annotations ADD INDEX(`trace_id_high`, `trace_id`, `span_id`) COMMENT 'for joining with zipkin_spans';\nALTER TABLE zipkin_annotations ADD INDEX(`trace_id_high`, `trace_id`) COMMENT 'for getTraces/ByIds';\nALTER TABLE zipkin_annotations ADD INDEX(`endpoint_service_name`) COMMENT 'for getTraces and getServiceNames';\nALTER TABLE zipkin_annotations ADD INDEX(`a_type`) COMMENT 'for getTraces';\nALTER TABLE zipkin_annotations ADD INDEX(`a_key`) COMMENT 'for getTraces';\nALTER TABLE zipkin_annotations ADD INDEX(`trace_id`, `span_id`, `a_key`) COMMENT 'for dependencies job';\n\nCREATE TABLE IF NOT EXISTS zipkin_dependencies (\n  `day` DATE NOT NULL,\n  `parent` VARCHAR(255) NOT NULL,\n  `child` VARCHAR(255) NOT NULL,\n  `call_count` BIGINT,\n  `error_count` BIGINT\n) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;\n\nALTER TABLE zipkin_dependencies ADD UNIQUE KEY(`day`, `parent`, `child`);\n\n```\nmysql(222)\n\n```\nSTORAGE_TYPE=mysql MYSQL_HOST=192.168.50.222 MYSQL_TCP_PORT=3306 MYSQL_DB=zipkin MYSQL_USER=root MYSQL_PASS='root' java -jar zipkin-server-2.11.7-exec.jar\n```\n\n\n\n```\nDatabase changed\nmysql> show tables;\n+---------------------+\n| Tables_in_zipkin    |\n+---------------------+\n| zipkin_annotations  |\n| zipkin_dependencies |\n| zipkin_spans        |\n+---------------------+\n3 rows in set (0.00 sec)\n\nmysql> select * from zipkin_spans;\n+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+\n| trace_id_high | trace_id         | id               | name         | parent_id        | debug | start_ts         | duration |\n+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+\n|             0 | 1540542210608961 | 1540542210608963 | /method_of_a |             NULL |      | 1540542210608963 |   380025 |\n|             0 | 1540542210608961 | 1540542210608964 | /method_of_b | 1540542210608963 |      | 1540542210608968 |   229175 |\n|             0 | 1540542210608961 | 1540542210838146 | mysql.user   | 1540542210608963 |      | 1540542210838148 |   100442 |\n+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+\n3 rows in set (0.00 sec)\n\nmysql> \n\n\n```\n\n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/EEF5EFEED18C45C49EB8FC07B501FC02)\n\n5. \n\n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/9BB3B84BD4A04C28965996E780B59E07)\n\n    1. 10msclient send\n    2. 9ms(10+9), server receive\n    3. 12msserver server send\n    4. 1msclient client receive\n\n## \n\n1. new tracespanspan\n```\n $span_root = $tracer->newTrace();\n        $span_root->setName('pre_con_redis');\n        $span_root->start();\n        try {\n            //1000 =1=1000000 usleep \n           usleep(1000000);\n        } finally {\n            $span_root->finish();\n        }\n\n        //new tracespan\n        $span_root_2 = $tracer->newTrace();\n        $span_root_2->setName('do_redis');\n        $span_root_2->start();\n        try {\n            //1000 =1=1000000 usleep \n            usleep(2000000);\n        } finally {\n            $span_root_2->finish();\n        }\n\n        $span_root_3 = $tracer->newTrace();\n        $span_root_3->setName('do_redis');\n        $span_root_3->start();\n        try {\n            //1000 =1=1000000 usleep \n            usleep(3000000);\n        } finally {\n            $span_root_3->finish();\n        }\n\n```\n1s2s3s  \n\n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/6145935D275A41A9B6359FF6F970B7F8?ynotemdtimestamp=1561305104458)\n\n2. \n\n```\n  $span_root = $tracer->newTrace();\n        $span_root->setName('php_demo_begin');\n        $span_root->start();\n//        $span_root->tag('http.status_code', '200');\n        try {\n            $parentContext = $span_root->getContext();\n            $child_span1=$tracer->newChild($parentContext);\n            $child_span1->setName(\"pre_con_redis\");\n            $child_span1->start();\n            //1000 =1=1000000 usleep \n           usleep(1000000);\n        } finally {\n            $child_span1->finish();\n        }\n\n        /**new tracespan\n        *spancontextnamespan\n        *spancontextspan-namestart-timeend-time\n         **/\n        $child_span1 = $tracer->newChild($parentContext);\n        $child_span1->setName('do_redis');\n        $child_span1->start();\n//        $span_root->tag('http.status_code', '200');\n        try {\n            //1000 =1=1000000 usleep \n            usleep(2300000);\n        } finally {\n            $child_span1->finish();\n        }\n\n        $child_span3 = $tracer->newChild($parentContext);\n        $child_span3->setName('redis_return');\n        $child_span3->start();\n//        $span_root->tag('http.status_code', '200');\n        try {\n            //1000 =1=1000000 usleep \n            usleep(1200000);\n        } finally {\n            $child_span3->finish();\n        }\n\n        $span_root->finish();\n```\n\n![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/56AE1215B7BA4F93B47120D94D54D503?ynotemdtimestamp=1561305104458)\n\n## \n #### 001  \n \n ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/B7806B72E74E46D5837F81FFAE051029?ynotemdtimestamp=1561305104458)\n #### 002  \n \n ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/C3DF7959091E40FB90890595A42C65EC?ynotemdtimestamp=1561305104458)\n #### 003  \n \n ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/02AA4B5059C349AB8ABBF2DF087E784E?ynotemdtimestamp=1561305104458)\n #### 004  \n \n ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/F08444612B414B3B9EA23544D9F8058B?ynotemdtimestamp=1561305104458)\n \n ## \n 1. \n    \n 2. \n    load\n 3. \n 4. hook\n    ![image](https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/F08444612B414B3B9EA23544D9F8058B?ynotemdtimestamp=1561305104458)\n 5. [ELK](https://dzone.com/articles/distributed-tracing-with-zipkin-and-elk/)","slug":"trace-zipkin-php","published":1,"updated":"2019-06-23T16:06:05.519Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan4w005bzkgvq9r7vq8z","content":"<h2 id=\"Distributed-TracingSystem-\"><a href=\"#Distributed-TracingSystem-\" class=\"headerlink\" title=\"Distributed TracingSystem \"></a>Distributed TracingSystem </h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"https://zipkin.io/pages/existing_instrumentations.html\" target=\"_blank\" rel=\"external\"></a></h2><h2 id=\"Dapper\"><a href=\"#Dapper\" class=\"headerlink\" title=\"Dapper\"></a><a href=\"https://bigbully.github.io/Dapper-translation/\" target=\"_blank\" rel=\"external\">Dapper</a></h2><h2 id=\"CAT\"><a href=\"#CAT\" class=\"headerlink\" title=\"CAT\"></a><a href=\"https://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html\" target=\"_blank\" rel=\"external\">CAT</a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"https://www.jianshu.com/p/e02972487e00\" target=\"_blank\" rel=\"external\"></a></h2><h2 id=\"-link\"><a href=\"#-link\" class=\"headerlink\" title=\" link\"></a> <a href=\"https://note.youdao.com/\" target=\"_blank\" rel=\"external\">link</a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@es_002:/home/tb/tbdown/zipkin# ls</div><div class=\"line\">quickstart.sh  zipkin-server-2.11.7-exec.jar</div><div class=\"line\">root@es_002:/home/tb/tbdown/zipkin# java -jar zipkin-server-2.11.7-exec.jar </div><div class=\"line\">                                    ********</div><div class=\"line\">                                  **        **</div><div class=\"line\">                                 *            *</div><div class=\"line\">                                **            **</div><div class=\"line\">                                **            **</div><div class=\"line\">                                 **          **</div><div class=\"line\">                                  **        **</div><div class=\"line\">                                    ********</div><div class=\"line\">                                      ****</div><div class=\"line\">                                      ****</div><div class=\"line\">        ****                          ****</div><div class=\"line\">     ******                           ****                                 ***</div><div class=\"line\">  ****************************************************************************</div><div class=\"line\">    *******                           ****                                 ***</div><div class=\"line\">        ****                          ****</div><div class=\"line\">                                       **</div><div class=\"line\">                                       **</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">             *****      **     *****     ** **       **     **   **</div><div class=\"line\">               **       **     **  *     ***         **     **** **</div><div class=\"line\">              **        **     *****     ****        **     **  ***</div><div class=\"line\">             ******     **     **        **  **      **     **   **</div><div class=\"line\"></div><div class=\"line\">:: Powered by Spring Boot ::</div></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<ol>\n<li>jaeger<br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/5513E5C3C0524A5FB937A1CB0EE7A3EA\" alt=\"image\"></li>\n<li><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/52486B77B78B473E92DA60311F4491E4\" alt=\"image\"></li>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/2454953BD0204E7090F1FBA67FB99C36\" alt=\"image\"></p>\n</li>\n<li><p>  </p>\n</li>\n</ol>\n<ul>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/6DDA0E236C6F476FAEC555B3E99A3266?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n</li>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/C1ABE11BB22B452A9470EC27AB4097FD?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n</li>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/3955D44C096B4438AF40BF293D59EC45?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n</li>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/D162A85DC67E42D1BAAC622EF4A7668D?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n</li>\n</ul>\n</li>\n</ol>\n<ol>\n<li><a href=\"https://github.com/openzipkin/zipkin-php\" target=\"_blank\" rel=\"external\">Zipkin of php</a><a href=\"https://zipkin.io/pages/existing_instrumentations.html\" target=\"_blank\" rel=\"external\"></a></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">//</div><div class=\"line\">composer init</div><div class=\"line\">composer config -g secure-http false</div><div class=\"line\"></div><div class=\"line\">//php composer.json</div><div class=\"line\">root@udev:/home/tb/tbtmp# ls</div><div class=\"line\">composer.json  composer.lock  vendor</div><div class=\"line\">root@udev:/home/tb/tbtmp# cd vendor/</div><div class=\"line\">root@udev:/home/tb/tbtmp/vendor# ls</div><div class=\"line\">autoload.php  composer  evenement   jcchavezs  phpdocumentor  phpunit  react        sebastian  symfony</div><div class=\"line\">bin           doctrine  guzzlehttp  myclabs    phpspec        psr      ringcentral  squizlabs  webmozart</div><div class=\"line\">root@udev:/home/tb/tbtmp/vendor#</div></pre></td></tr></table></figure>\n<ol>\n<li>mysql</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div></pre></td><td class=\"code\"><pre><div class=\"line\">create database zipkin;</div><div class=\"line\"></div><div class=\"line\">CREATE TABLE IF NOT EXISTS zipkin_spans (</div><div class=\"line\">  `trace_id_high` BIGINT NOT NULL DEFAULT 0 COMMENT &apos;If non zero, this means the trace uses 128 bit traceIds instead of 64 bit&apos;,</div><div class=\"line\">  `trace_id` BIGINT NOT NULL,</div><div class=\"line\">  `id` BIGINT NOT NULL,</div><div class=\"line\">  `name` VARCHAR(255) NOT NULL,</div><div class=\"line\">  `parent_id` BIGINT,</div><div class=\"line\">  `debug` BIT(1),</div><div class=\"line\">  `start_ts` BIGINT COMMENT &apos;Span.timestamp(): epoch micros used for endTs query and to implement TTL&apos;,</div><div class=\"line\">  `duration` BIGINT COMMENT &apos;Span.duration(): micros used for minDuration and maxDuration query&apos;</div><div class=\"line\">) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;</div><div class=\"line\"></div><div class=\"line\">ALTER TABLE zipkin_spans ADD UNIQUE KEY(`trace_id_high`, `trace_id`, `id`) COMMENT &apos;ignore insert on duplicate&apos;;</div><div class=\"line\">ALTER TABLE zipkin_spans ADD INDEX(`trace_id_high`, `trace_id`, `id`) COMMENT &apos;for joining with zipkin_annotations&apos;;</div><div class=\"line\">ALTER TABLE zipkin_spans ADD INDEX(`trace_id_high`, `trace_id`) COMMENT &apos;for getTracesByIds&apos;;</div><div class=\"line\">ALTER TABLE zipkin_spans ADD INDEX(`name`) COMMENT &apos;for getTraces and getSpanNames&apos;;</div><div class=\"line\">ALTER TABLE zipkin_spans ADD INDEX(`start_ts`) COMMENT &apos;for getTraces ordering and range&apos;;</div><div class=\"line\"></div><div class=\"line\">CREATE TABLE IF NOT EXISTS zipkin_annotations (</div><div class=\"line\">  `trace_id_high` BIGINT NOT NULL DEFAULT 0 COMMENT &apos;If non zero, this means the trace uses 128 bit traceIds instead of 64 bit&apos;,</div><div class=\"line\">  `trace_id` BIGINT NOT NULL COMMENT &apos;coincides with zipkin_spans.trace_id&apos;,</div><div class=\"line\">  `span_id` BIGINT NOT NULL COMMENT &apos;coincides with zipkin_spans.id&apos;,</div><div class=\"line\">  `a_key` VARCHAR(255) NOT NULL COMMENT &apos;BinaryAnnotation.key or Annotation.value if type == -1&apos;,</div><div class=\"line\">  `a_value` BLOB COMMENT &apos;BinaryAnnotation.value(), which must be smaller than 64KB&apos;,</div><div class=\"line\">  `a_type` INT NOT NULL COMMENT &apos;BinaryAnnotation.type() or -1 if Annotation&apos;,</div><div class=\"line\">  `a_timestamp` BIGINT COMMENT &apos;Used to implement TTL; Annotation.timestamp or zipkin_spans.timestamp&apos;,</div><div class=\"line\">  `endpoint_ipv4` INT COMMENT &apos;Null when Binary/Annotation.endpoint is null&apos;,</div><div class=\"line\">  `endpoint_ipv6` BINARY(16) COMMENT &apos;Null when Binary/Annotation.endpoint is null, or no IPv6 address&apos;,</div><div class=\"line\">  `endpoint_port` SMALLINT COMMENT &apos;Null when Binary/Annotation.endpoint is null&apos;,</div><div class=\"line\">  `endpoint_service_name` VARCHAR(255) COMMENT &apos;Null when Binary/Annotation.endpoint is null&apos;</div><div class=\"line\">) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;</div><div class=\"line\"></div><div class=\"line\">ALTER TABLE zipkin_annotations ADD UNIQUE KEY(`trace_id_high`, `trace_id`, `span_id`, `a_key`, `a_timestamp`) COMMENT &apos;Ignore insert on duplicate&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`trace_id_high`, `trace_id`, `span_id`) COMMENT &apos;for joining with zipkin_spans&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`trace_id_high`, `trace_id`) COMMENT &apos;for getTraces/ByIds&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`endpoint_service_name`) COMMENT &apos;for getTraces and getServiceNames&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`a_type`) COMMENT &apos;for getTraces&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`a_key`) COMMENT &apos;for getTraces&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`trace_id`, `span_id`, `a_key`) COMMENT &apos;for dependencies job&apos;;</div><div class=\"line\"></div><div class=\"line\">CREATE TABLE IF NOT EXISTS zipkin_dependencies (</div><div class=\"line\">  `day` DATE NOT NULL,</div><div class=\"line\">  `parent` VARCHAR(255) NOT NULL,</div><div class=\"line\">  `child` VARCHAR(255) NOT NULL,</div><div class=\"line\">  `call_count` BIGINT,</div><div class=\"line\">  `error_count` BIGINT</div><div class=\"line\">) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;</div><div class=\"line\"></div><div class=\"line\">ALTER TABLE zipkin_dependencies ADD UNIQUE KEY(`day`, `parent`, `child`);</div></pre></td></tr></table></figure>\n<p>mysql(222)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">STORAGE_TYPE=mysql MYSQL_HOST=192.168.50.222 MYSQL_TCP_PORT=3306 MYSQL_DB=zipkin MYSQL_USER=root MYSQL_PASS=&apos;root&apos; java -jar zipkin-server-2.11.7-exec.jar</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">Database changed</div><div class=\"line\">mysql&gt; show tables;</div><div class=\"line\">+---------------------+</div><div class=\"line\">| Tables_in_zipkin    |</div><div class=\"line\">+---------------------+</div><div class=\"line\">| zipkin_annotations  |</div><div class=\"line\">| zipkin_dependencies |</div><div class=\"line\">| zipkin_spans        |</div><div class=\"line\">+---------------------+</div><div class=\"line\">3 rows in set (0.00 sec)</div><div class=\"line\"></div><div class=\"line\">mysql&gt; select * from zipkin_spans;</div><div class=\"line\">+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+</div><div class=\"line\">| trace_id_high | trace_id         | id               | name         | parent_id        | debug | start_ts         | duration |</div><div class=\"line\">+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+</div><div class=\"line\">|             0 | 1540542210608961 | 1540542210608963 | /method_of_a |             NULL |      | 1540542210608963 |   380025 |</div><div class=\"line\">|             0 | 1540542210608961 | 1540542210608964 | /method_of_b | 1540542210608963 |      | 1540542210608968 |   229175 |</div><div class=\"line\">|             0 | 1540542210608961 | 1540542210838146 | mysql.user   | 1540542210608963 |      | 1540542210838148 |   100442 |</div><div class=\"line\">+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+</div><div class=\"line\">3 rows in set (0.00 sec)</div><div class=\"line\"></div><div class=\"line\">mysql&gt;</div></pre></td></tr></table></figure>\n<p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/EEF5EFEED18C45C49EB8FC07B501FC02\" alt=\"image\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/9BB3B84BD4A04C28965996E780B59E07\" alt=\"image\"></p>\n<pre><code>1. 10msclient send\n2. 9ms(10+9), server receive\n3. 12msserver server send\n4. 1msclient client receive\n</code></pre><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>new tracespanspan<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\">$span_root = $tracer-&gt;newTrace();</div><div class=\"line\">       $span_root-&gt;setName(&apos;pre_con_redis&apos;);</div><div class=\"line\">       $span_root-&gt;start();</div><div class=\"line\">       try &#123;</div><div class=\"line\">           //1000 =1=1000000 usleep </div><div class=\"line\">          usleep(1000000);</div><div class=\"line\">       &#125; finally &#123;</div><div class=\"line\">           $span_root-&gt;finish();</div><div class=\"line\">       &#125;</div><div class=\"line\"></div><div class=\"line\">       //new tracespan</div><div class=\"line\">       $span_root_2 = $tracer-&gt;newTrace();</div><div class=\"line\">       $span_root_2-&gt;setName(&apos;do_redis&apos;);</div><div class=\"line\">       $span_root_2-&gt;start();</div><div class=\"line\">       try &#123;</div><div class=\"line\">           //1000 =1=1000000 usleep </div><div class=\"line\">           usleep(2000000);</div><div class=\"line\">       &#125; finally &#123;</div><div class=\"line\">           $span_root_2-&gt;finish();</div><div class=\"line\">       &#125;</div><div class=\"line\"></div><div class=\"line\">       $span_root_3 = $tracer-&gt;newTrace();</div><div class=\"line\">       $span_root_3-&gt;setName(&apos;do_redis&apos;);</div><div class=\"line\">       $span_root_3-&gt;start();</div><div class=\"line\">       try &#123;</div><div class=\"line\">           //1000 =1=1000000 usleep </div><div class=\"line\">           usleep(3000000);</div><div class=\"line\">       &#125; finally &#123;</div><div class=\"line\">           $span_root_3-&gt;finish();</div><div class=\"line\">       &#125;</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>1s2s3s  </p>\n<p><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/6145935D275A41A9B6359FF6F970B7F8?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<ol>\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div></pre></td><td class=\"code\"><pre><div class=\"line\">  $span_root = $tracer-&gt;newTrace();</div><div class=\"line\">        $span_root-&gt;setName(&apos;php_demo_begin&apos;);</div><div class=\"line\">        $span_root-&gt;start();</div><div class=\"line\">//        $span_root-&gt;tag(&apos;http.status_code&apos;, &apos;200&apos;);</div><div class=\"line\">        try &#123;</div><div class=\"line\">            $parentContext = $span_root-&gt;getContext();</div><div class=\"line\">            $child_span1=$tracer-&gt;newChild($parentContext);</div><div class=\"line\">            $child_span1-&gt;setName(&quot;pre_con_redis&quot;);</div><div class=\"line\">            $child_span1-&gt;start();</div><div class=\"line\">            //1000 =1=1000000 usleep </div><div class=\"line\">           usleep(1000000);</div><div class=\"line\">        &#125; finally &#123;</div><div class=\"line\">            $child_span1-&gt;finish();</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        /**new tracespan</div><div class=\"line\">        *spancontextnamespan</div><div class=\"line\">        *spancontextspan-namestart-timeend-time</div><div class=\"line\">         **/</div><div class=\"line\">        $child_span1 = $tracer-&gt;newChild($parentContext);</div><div class=\"line\">        $child_span1-&gt;setName(&apos;do_redis&apos;);</div><div class=\"line\">        $child_span1-&gt;start();</div><div class=\"line\">//        $span_root-&gt;tag(&apos;http.status_code&apos;, &apos;200&apos;);</div><div class=\"line\">        try &#123;</div><div class=\"line\">            //1000 =1=1000000 usleep </div><div class=\"line\">            usleep(2300000);</div><div class=\"line\">        &#125; finally &#123;</div><div class=\"line\">            $child_span1-&gt;finish();</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        $child_span3 = $tracer-&gt;newChild($parentContext);</div><div class=\"line\">        $child_span3-&gt;setName(&apos;redis_return&apos;);</div><div class=\"line\">        $child_span3-&gt;start();</div><div class=\"line\">//        $span_root-&gt;tag(&apos;http.status_code&apos;, &apos;200&apos;);</div><div class=\"line\">        try &#123;</div><div class=\"line\">            //1000 =1=1000000 usleep </div><div class=\"line\">            usleep(1200000);</div><div class=\"line\">        &#125; finally &#123;</div><div class=\"line\">            $child_span3-&gt;finish();</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        $span_root-&gt;finish();</div></pre></td></tr></table></figure>\n<p><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/56AE1215B7BA4F93B47120D94D54D503?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"001\"><a href=\"#001\" class=\"headerlink\" title=\"001\"></a>001</h4><p> <img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/B7806B72E74E46D5837F81FFAE051029?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<h4 id=\"002\"><a href=\"#002\" class=\"headerlink\" title=\"002\"></a>002</h4><p> <img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/C3DF7959091E40FB90890595A42C65EC?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<h4 id=\"003\"><a href=\"#003\" class=\"headerlink\" title=\"003\"></a>003</h4><p> <img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/02AA4B5059C349AB8ABBF2DF087E784E?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<h4 id=\"004\"><a href=\"#004\" class=\"headerlink\" title=\"004\"></a>004</h4><p> <img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/F08444612B414B3B9EA23544D9F8058B?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><br></li>\n<li><br>load</li>\n<li></li>\n<li>hook<br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/F08444612B414B3B9EA23544D9F8058B?ynotemdtimestamp=1561305104458\" alt=\"image\"></li>\n<li><a href=\"https://dzone.com/articles/distributed-tracing-with-zipkin-and-elk/\" target=\"_blank\" rel=\"external\">ELK</a></li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Distributed-TracingSystem-\"><a href=\"#Distributed-TracingSystem-\" class=\"headerlink\" title=\"Distributed TracingSystem \"></a>Distributed TracingSystem </h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"https://zipkin.io/pages/existing_instrumentations.html\"></a></h2><h2 id=\"Dapper\"><a href=\"#Dapper\" class=\"headerlink\" title=\"Dapper\"></a><a href=\"https://bigbully.github.io/Dapper-translation/\">Dapper</a></h2><h2 id=\"CAT\"><a href=\"#CAT\" class=\"headerlink\" title=\"CAT\"></a><a href=\"https://tech.meituan.com/CAT_in_Depth_Java_Application_Monitoring.html\">CAT</a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"https://www.jianshu.com/p/e02972487e00\"></a></h2><h2 id=\"-link\"><a href=\"#-link\" class=\"headerlink\" title=\" link\"></a> <a href=\"https://note.youdao.com/\">link</a></h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@es_002:/home/tb/tbdown/zipkin# ls</div><div class=\"line\">quickstart.sh  zipkin-server-2.11.7-exec.jar</div><div class=\"line\">root@es_002:/home/tb/tbdown/zipkin# java -jar zipkin-server-2.11.7-exec.jar </div><div class=\"line\">                                    ********</div><div class=\"line\">                                  **        **</div><div class=\"line\">                                 *            *</div><div class=\"line\">                                **            **</div><div class=\"line\">                                **            **</div><div class=\"line\">                                 **          **</div><div class=\"line\">                                  **        **</div><div class=\"line\">                                    ********</div><div class=\"line\">                                      ****</div><div class=\"line\">                                      ****</div><div class=\"line\">        ****                          ****</div><div class=\"line\">     ******                           ****                                 ***</div><div class=\"line\">  ****************************************************************************</div><div class=\"line\">    *******                           ****                                 ***</div><div class=\"line\">        ****                          ****</div><div class=\"line\">                                       **</div><div class=\"line\">                                       **</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">             *****      **     *****     ** **       **     **   **</div><div class=\"line\">               **       **     **  *     ***         **     **** **</div><div class=\"line\">              **        **     *****     ****        **     **  ***</div><div class=\"line\">             ******     **     **        **  **      **     **   **</div><div class=\"line\"></div><div class=\"line\">:: Powered by Spring Boot ::</div></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<ol>\n<li>jaeger<br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/5513E5C3C0524A5FB937A1CB0EE7A3EA\" alt=\"image\"></li>\n<li><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/52486B77B78B473E92DA60311F4491E4\" alt=\"image\"></li>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/2454953BD0204E7090F1FBA67FB99C36\" alt=\"image\"></p>\n</li>\n<li><p>  </p>\n</li>\n</ol>\n<ul>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/6DDA0E236C6F476FAEC555B3E99A3266?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n</li>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/C1ABE11BB22B452A9470EC27AB4097FD?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n</li>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/3955D44C096B4438AF40BF293D59EC45?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n</li>\n<li><p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/D162A85DC67E42D1BAAC622EF4A7668D?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n</li>\n</ul>\n</li>\n</ol>\n<ol>\n<li><a href=\"https://github.com/openzipkin/zipkin-php\">Zipkin of php</a><a href=\"https://zipkin.io/pages/existing_instrumentations.html\"></a></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">//</div><div class=\"line\">composer init</div><div class=\"line\">composer config -g secure-http false</div><div class=\"line\"></div><div class=\"line\">//php composer.json</div><div class=\"line\">root@udev:/home/tb/tbtmp# ls</div><div class=\"line\">composer.json  composer.lock  vendor</div><div class=\"line\">root@udev:/home/tb/tbtmp# cd vendor/</div><div class=\"line\">root@udev:/home/tb/tbtmp/vendor# ls</div><div class=\"line\">autoload.php  composer  evenement   jcchavezs  phpdocumentor  phpunit  react        sebastian  symfony</div><div class=\"line\">bin           doctrine  guzzlehttp  myclabs    phpspec        psr      ringcentral  squizlabs  webmozart</div><div class=\"line\">root@udev:/home/tb/tbtmp/vendor#</div></pre></td></tr></table></figure>\n<ol>\n<li>mysql</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div></pre></td><td class=\"code\"><pre><div class=\"line\">create database zipkin;</div><div class=\"line\"></div><div class=\"line\">CREATE TABLE IF NOT EXISTS zipkin_spans (</div><div class=\"line\">  `trace_id_high` BIGINT NOT NULL DEFAULT 0 COMMENT &apos;If non zero, this means the trace uses 128 bit traceIds instead of 64 bit&apos;,</div><div class=\"line\">  `trace_id` BIGINT NOT NULL,</div><div class=\"line\">  `id` BIGINT NOT NULL,</div><div class=\"line\">  `name` VARCHAR(255) NOT NULL,</div><div class=\"line\">  `parent_id` BIGINT,</div><div class=\"line\">  `debug` BIT(1),</div><div class=\"line\">  `start_ts` BIGINT COMMENT &apos;Span.timestamp(): epoch micros used for endTs query and to implement TTL&apos;,</div><div class=\"line\">  `duration` BIGINT COMMENT &apos;Span.duration(): micros used for minDuration and maxDuration query&apos;</div><div class=\"line\">) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;</div><div class=\"line\"></div><div class=\"line\">ALTER TABLE zipkin_spans ADD UNIQUE KEY(`trace_id_high`, `trace_id`, `id`) COMMENT &apos;ignore insert on duplicate&apos;;</div><div class=\"line\">ALTER TABLE zipkin_spans ADD INDEX(`trace_id_high`, `trace_id`, `id`) COMMENT &apos;for joining with zipkin_annotations&apos;;</div><div class=\"line\">ALTER TABLE zipkin_spans ADD INDEX(`trace_id_high`, `trace_id`) COMMENT &apos;for getTracesByIds&apos;;</div><div class=\"line\">ALTER TABLE zipkin_spans ADD INDEX(`name`) COMMENT &apos;for getTraces and getSpanNames&apos;;</div><div class=\"line\">ALTER TABLE zipkin_spans ADD INDEX(`start_ts`) COMMENT &apos;for getTraces ordering and range&apos;;</div><div class=\"line\"></div><div class=\"line\">CREATE TABLE IF NOT EXISTS zipkin_annotations (</div><div class=\"line\">  `trace_id_high` BIGINT NOT NULL DEFAULT 0 COMMENT &apos;If non zero, this means the trace uses 128 bit traceIds instead of 64 bit&apos;,</div><div class=\"line\">  `trace_id` BIGINT NOT NULL COMMENT &apos;coincides with zipkin_spans.trace_id&apos;,</div><div class=\"line\">  `span_id` BIGINT NOT NULL COMMENT &apos;coincides with zipkin_spans.id&apos;,</div><div class=\"line\">  `a_key` VARCHAR(255) NOT NULL COMMENT &apos;BinaryAnnotation.key or Annotation.value if type == -1&apos;,</div><div class=\"line\">  `a_value` BLOB COMMENT &apos;BinaryAnnotation.value(), which must be smaller than 64KB&apos;,</div><div class=\"line\">  `a_type` INT NOT NULL COMMENT &apos;BinaryAnnotation.type() or -1 if Annotation&apos;,</div><div class=\"line\">  `a_timestamp` BIGINT COMMENT &apos;Used to implement TTL; Annotation.timestamp or zipkin_spans.timestamp&apos;,</div><div class=\"line\">  `endpoint_ipv4` INT COMMENT &apos;Null when Binary/Annotation.endpoint is null&apos;,</div><div class=\"line\">  `endpoint_ipv6` BINARY(16) COMMENT &apos;Null when Binary/Annotation.endpoint is null, or no IPv6 address&apos;,</div><div class=\"line\">  `endpoint_port` SMALLINT COMMENT &apos;Null when Binary/Annotation.endpoint is null&apos;,</div><div class=\"line\">  `endpoint_service_name` VARCHAR(255) COMMENT &apos;Null when Binary/Annotation.endpoint is null&apos;</div><div class=\"line\">) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;</div><div class=\"line\"></div><div class=\"line\">ALTER TABLE zipkin_annotations ADD UNIQUE KEY(`trace_id_high`, `trace_id`, `span_id`, `a_key`, `a_timestamp`) COMMENT &apos;Ignore insert on duplicate&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`trace_id_high`, `trace_id`, `span_id`) COMMENT &apos;for joining with zipkin_spans&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`trace_id_high`, `trace_id`) COMMENT &apos;for getTraces/ByIds&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`endpoint_service_name`) COMMENT &apos;for getTraces and getServiceNames&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`a_type`) COMMENT &apos;for getTraces&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`a_key`) COMMENT &apos;for getTraces&apos;;</div><div class=\"line\">ALTER TABLE zipkin_annotations ADD INDEX(`trace_id`, `span_id`, `a_key`) COMMENT &apos;for dependencies job&apos;;</div><div class=\"line\"></div><div class=\"line\">CREATE TABLE IF NOT EXISTS zipkin_dependencies (</div><div class=\"line\">  `day` DATE NOT NULL,</div><div class=\"line\">  `parent` VARCHAR(255) NOT NULL,</div><div class=\"line\">  `child` VARCHAR(255) NOT NULL,</div><div class=\"line\">  `call_count` BIGINT,</div><div class=\"line\">  `error_count` BIGINT</div><div class=\"line\">) ENGINE=InnoDB ROW_FORMAT=COMPRESSED CHARACTER SET=utf8 COLLATE utf8_general_ci;</div><div class=\"line\"></div><div class=\"line\">ALTER TABLE zipkin_dependencies ADD UNIQUE KEY(`day`, `parent`, `child`);</div></pre></td></tr></table></figure>\n<p>mysql(222)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">STORAGE_TYPE=mysql MYSQL_HOST=192.168.50.222 MYSQL_TCP_PORT=3306 MYSQL_DB=zipkin MYSQL_USER=root MYSQL_PASS=&apos;root&apos; java -jar zipkin-server-2.11.7-exec.jar</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">Database changed</div><div class=\"line\">mysql&gt; show tables;</div><div class=\"line\">+---------------------+</div><div class=\"line\">| Tables_in_zipkin    |</div><div class=\"line\">+---------------------+</div><div class=\"line\">| zipkin_annotations  |</div><div class=\"line\">| zipkin_dependencies |</div><div class=\"line\">| zipkin_spans        |</div><div class=\"line\">+---------------------+</div><div class=\"line\">3 rows in set (0.00 sec)</div><div class=\"line\"></div><div class=\"line\">mysql&gt; select * from zipkin_spans;</div><div class=\"line\">+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+</div><div class=\"line\">| trace_id_high | trace_id         | id               | name         | parent_id        | debug | start_ts         | duration |</div><div class=\"line\">+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+</div><div class=\"line\">|             0 | 1540542210608961 | 1540542210608963 | /method_of_a |             NULL |      | 1540542210608963 |   380025 |</div><div class=\"line\">|             0 | 1540542210608961 | 1540542210608964 | /method_of_b | 1540542210608963 |      | 1540542210608968 |   229175 |</div><div class=\"line\">|             0 | 1540542210608961 | 1540542210838146 | mysql.user   | 1540542210608963 |      | 1540542210838148 |   100442 |</div><div class=\"line\">+---------------+------------------+------------------+--------------+------------------+-------+------------------+----------+</div><div class=\"line\">3 rows in set (0.00 sec)</div><div class=\"line\"></div><div class=\"line\">mysql&gt;</div></pre></td></tr></table></figure>\n<p><br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/EEF5EFEED18C45C49EB8FC07B501FC02\" alt=\"image\"></p>\n<ol>\n<li></li>\n</ol>\n<p><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/9BB3B84BD4A04C28965996E780B59E07\" alt=\"image\"></p>\n<pre><code>1. 10msclient send\n2. 9ms(10+9), server receive\n3. 12msserver server send\n4. 1msclient client receive\n</code></pre><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>new tracespanspan<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\">$span_root = $tracer-&gt;newTrace();</div><div class=\"line\">       $span_root-&gt;setName(&apos;pre_con_redis&apos;);</div><div class=\"line\">       $span_root-&gt;start();</div><div class=\"line\">       try &#123;</div><div class=\"line\">           //1000 =1=1000000 usleep </div><div class=\"line\">          usleep(1000000);</div><div class=\"line\">       &#125; finally &#123;</div><div class=\"line\">           $span_root-&gt;finish();</div><div class=\"line\">       &#125;</div><div class=\"line\"></div><div class=\"line\">       //new tracespan</div><div class=\"line\">       $span_root_2 = $tracer-&gt;newTrace();</div><div class=\"line\">       $span_root_2-&gt;setName(&apos;do_redis&apos;);</div><div class=\"line\">       $span_root_2-&gt;start();</div><div class=\"line\">       try &#123;</div><div class=\"line\">           //1000 =1=1000000 usleep </div><div class=\"line\">           usleep(2000000);</div><div class=\"line\">       &#125; finally &#123;</div><div class=\"line\">           $span_root_2-&gt;finish();</div><div class=\"line\">       &#125;</div><div class=\"line\"></div><div class=\"line\">       $span_root_3 = $tracer-&gt;newTrace();</div><div class=\"line\">       $span_root_3-&gt;setName(&apos;do_redis&apos;);</div><div class=\"line\">       $span_root_3-&gt;start();</div><div class=\"line\">       try &#123;</div><div class=\"line\">           //1000 =1=1000000 usleep </div><div class=\"line\">           usleep(3000000);</div><div class=\"line\">       &#125; finally &#123;</div><div class=\"line\">           $span_root_3-&gt;finish();</div><div class=\"line\">       &#125;</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>1s2s3s  </p>\n<p><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/6145935D275A41A9B6359FF6F970B7F8?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<ol>\n<li></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div></pre></td><td class=\"code\"><pre><div class=\"line\">  $span_root = $tracer-&gt;newTrace();</div><div class=\"line\">        $span_root-&gt;setName(&apos;php_demo_begin&apos;);</div><div class=\"line\">        $span_root-&gt;start();</div><div class=\"line\">//        $span_root-&gt;tag(&apos;http.status_code&apos;, &apos;200&apos;);</div><div class=\"line\">        try &#123;</div><div class=\"line\">            $parentContext = $span_root-&gt;getContext();</div><div class=\"line\">            $child_span1=$tracer-&gt;newChild($parentContext);</div><div class=\"line\">            $child_span1-&gt;setName(&quot;pre_con_redis&quot;);</div><div class=\"line\">            $child_span1-&gt;start();</div><div class=\"line\">            //1000 =1=1000000 usleep </div><div class=\"line\">           usleep(1000000);</div><div class=\"line\">        &#125; finally &#123;</div><div class=\"line\">            $child_span1-&gt;finish();</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        /**new tracespan</div><div class=\"line\">        *spancontextnamespan</div><div class=\"line\">        *spancontextspan-namestart-timeend-time</div><div class=\"line\">         **/</div><div class=\"line\">        $child_span1 = $tracer-&gt;newChild($parentContext);</div><div class=\"line\">        $child_span1-&gt;setName(&apos;do_redis&apos;);</div><div class=\"line\">        $child_span1-&gt;start();</div><div class=\"line\">//        $span_root-&gt;tag(&apos;http.status_code&apos;, &apos;200&apos;);</div><div class=\"line\">        try &#123;</div><div class=\"line\">            //1000 =1=1000000 usleep </div><div class=\"line\">            usleep(2300000);</div><div class=\"line\">        &#125; finally &#123;</div><div class=\"line\">            $child_span1-&gt;finish();</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        $child_span3 = $tracer-&gt;newChild($parentContext);</div><div class=\"line\">        $child_span3-&gt;setName(&apos;redis_return&apos;);</div><div class=\"line\">        $child_span3-&gt;start();</div><div class=\"line\">//        $span_root-&gt;tag(&apos;http.status_code&apos;, &apos;200&apos;);</div><div class=\"line\">        try &#123;</div><div class=\"line\">            //1000 =1=1000000 usleep </div><div class=\"line\">            usleep(1200000);</div><div class=\"line\">        &#125; finally &#123;</div><div class=\"line\">            $child_span3-&gt;finish();</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        $span_root-&gt;finish();</div></pre></td></tr></table></figure>\n<p><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/56AE1215B7BA4F93B47120D94D54D503?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"001\"><a href=\"#001\" class=\"headerlink\" title=\"001\"></a>001</h4><p> <img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/B7806B72E74E46D5837F81FFAE051029?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<h4 id=\"002\"><a href=\"#002\" class=\"headerlink\" title=\"002\"></a>002</h4><p> <img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/C3DF7959091E40FB90890595A42C65EC?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<h4 id=\"003\"><a href=\"#003\" class=\"headerlink\" title=\"003\"></a>003</h4><p> <img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/02AA4B5059C349AB8ABBF2DF087E784E?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<h4 id=\"004\"><a href=\"#004\" class=\"headerlink\" title=\"004\"></a>004</h4><p> <img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/F08444612B414B3B9EA23544D9F8058B?ynotemdtimestamp=1561305104458\" alt=\"image\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><br></li>\n<li><br>load</li>\n<li></li>\n<li>hook<br><img src=\"https://note.youdao.com/yws/public/resource/16e9b0e6405d9b23ee0d38b52cad6a4f/F08444612B414B3B9EA23544D9F8058B?ynotemdtimestamp=1561305104458\" alt=\"image\"></li>\n<li><a href=\"https://dzone.com/articles/distributed-tracing-with-zipkin-and-elk/\">ELK</a></li>\n</ol>\n"},{"title":"2015","date":"2016-11-09T11:18:59.000Z","_content":"\n1.cpu >CACHE>\n\n2.N\n \n \n +1\n \n\n\n\n0 1\n,82^(n-1)-1 =1272^(n-1)-1=127 1000000000000000 256\n\n3.cache\n  1)\n<!-- more -->\nCacheCacheCacheCache Cache2N2MCachej = i mod 2NjCachei\n\nCacheCache\n\n  2)\n\nCacheCacheCacheCacheCacheCache\n\n  3)\n\n1Cache2NCache\n\n\n  [](http://blog.csdn.net/kobesdu/article/details/39081189) \n\n\n4.cpu \n\n5.32bit200MHZ,532bit\n32bit*(200MHZ/5)/8bit=160MB\n64800MHz64bit800MHz8(Byte)=6.4GB/s3233MHz PCI32bit33MHz8=132MB/s\n[](\nhttp://baike.baidu.com/link?url=AIbVrUoI9cOptbbWoJaK2gd1pQbm4OWS7BDlE9MgNQ6UsBME35eOd0S8SZBswIiP_lwaHPB8xXeJ_oa4S9a3tTGNVwr6drJmsieSPN2xETQ8E7VscDXfRz0HLGzdOBUg\n)\n\n\n6.\n\n7.SSHsecure shell\n\n8.9.  \n\n10.11.5050 \n\n\n\n\n\n12.13.\n \n\n\n \n\n \n\n \n\n\n\n\n\n14.\n\n15. \n\n16.\n\n17.18 \n\n\n\n\n\n![img][1]\nADEFH\nADFBB\n\n19. risk exposure \nriskexposure= *\n\n20.\n\n21.\n\n\n22.c\n\n23.24.25vppvps\n\n26.0\n\n27.28 \n\n\n\n\n29.  \n  \n  \n  \n\n\n\n30.\nscrum\nxp\nsrystal\nDSDM dynamic system development management  \n\n31.\n\n32.\n\n\n\n\n\n:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n\n33.\n1\n2\n3\n4\n5\n\n\n34.\n\n\n\n\n      \n                      \n                      \n                      \n                      \n\n      \n \n      \n      \n      \n      \n      \n \n      \n      \n      \n      \n \n      \n      \n      \n      \n      \n      Extreme Programming\n\n\n\n1) \n2) \n3) \n      \n      \n      \n      \n      \n4) \n      \n      <3>\n      \n      ;\n      \n5) \n      \n      \n      ;\n      \n6) \n \n \n \n\n \n\n\n\n35.mccabe enfe-f+2 -+2\n10-8+2=4\n\n36.\n\n37.\n\n38.\n\n\nhi\n\n\n39.\n\n40.41.UML\nimplementationimplements \ncomposition\n\n\naggregation\n\n association \n generation \n\ndependence \n\n\n42.43uml\n\n   \n...\ndeployment diagram \n\n[](http://www.cnblogs.com/wangkangluo1/archive/2013/02/21/2920606.html)\n\n\n44.45.46 \n\n47. visitor accept\n\nchain of responsibility \n\n\n48. phpopcode\n\n[](http://www.cnblogs.com/riskyer/p/3347865.html)\n\n49.\n\n50.\n\n51.Rh,l,m,pHLMP\n\n52.\n\n53.()()\n\n54.55.56  \n\n\n\n67.vlan\n\n\n\n[1]: /img/ruankao/17-18.png\n\n","source":"_posts/2015-ruankao-am.md","raw":"---\ntitle: 2015\ndate: 2016-11-09 19:18:59\ncategories: computer\ntags:\n - \n - \n---\n\n1.cpu >CACHE>\n\n2.N\n \n \n +1\n \n\n\n\n0 1\n,82^(n-1)-1 =1272^(n-1)-1=127 1000000000000000 256\n\n3.cache\n  1)\n<!-- more -->\nCacheCacheCacheCache Cache2N2MCachej = i mod 2NjCachei\n\nCacheCache\n\n  2)\n\nCacheCacheCacheCacheCacheCache\n\n  3)\n\n1Cache2NCache\n\n\n  [](http://blog.csdn.net/kobesdu/article/details/39081189) \n\n\n4.cpu \n\n5.32bit200MHZ,532bit\n32bit*(200MHZ/5)/8bit=160MB\n64800MHz64bit800MHz8(Byte)=6.4GB/s3233MHz PCI32bit33MHz8=132MB/s\n[](\nhttp://baike.baidu.com/link?url=AIbVrUoI9cOptbbWoJaK2gd1pQbm4OWS7BDlE9MgNQ6UsBME35eOd0S8SZBswIiP_lwaHPB8xXeJ_oa4S9a3tTGNVwr6drJmsieSPN2xETQ8E7VscDXfRz0HLGzdOBUg\n)\n\n\n6.\n\n7.SSHsecure shell\n\n8.9.  \n\n10.11.5050 \n\n\n\n\n\n12.13.\n \n\n\n \n\n \n\n \n\n\n\n\n\n14.\n\n15. \n\n16.\n\n17.18 \n\n\n\n\n\n![img][1]\nADEFH\nADFBB\n\n19. risk exposure \nriskexposure= *\n\n20.\n\n21.\n\n\n22.c\n\n23.24.25vppvps\n\n26.0\n\n27.28 \n\n\n\n\n29.  \n  \n  \n  \n\n\n\n30.\nscrum\nxp\nsrystal\nDSDM dynamic system development management  \n\n31.\n\n32.\n\n\n\n\n\n:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n\n33.\n1\n2\n3\n4\n5\n\n\n34.\n\n\n\n\n      \n                      \n                      \n                      \n                      \n\n      \n \n      \n      \n      \n      \n      \n \n      \n      \n      \n      \n \n      \n      \n      \n      \n      \n      Extreme Programming\n\n\n\n1) \n2) \n3) \n      \n      \n      \n      \n      \n4) \n      \n      <3>\n      \n      ;\n      \n5) \n      \n      \n      ;\n      \n6) \n \n \n \n\n \n\n\n\n35.mccabe enfe-f+2 -+2\n10-8+2=4\n\n36.\n\n37.\n\n38.\n\n\nhi\n\n\n39.\n\n40.41.UML\nimplementationimplements \ncomposition\n\n\naggregation\n\n association \n generation \n\ndependence \n\n\n42.43uml\n\n   \n...\ndeployment diagram \n\n[](http://www.cnblogs.com/wangkangluo1/archive/2013/02/21/2920606.html)\n\n\n44.45.46 \n\n47. visitor accept\n\nchain of responsibility \n\n\n48. phpopcode\n\n[](http://www.cnblogs.com/riskyer/p/3347865.html)\n\n49.\n\n50.\n\n51.Rh,l,m,pHLMP\n\n52.\n\n53.()()\n\n54.55.56  \n\n\n\n67.vlan\n\n\n\n[1]: /img/ruankao/17-18.png\n\n","slug":"2015-ruankao-am","published":1,"updated":"2018-12-09T08:31:36.340Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan6h005szkgvoe5gmlad","content":"<p>1.cpu &gt;CACHE&gt;</p>\n<p>2.N<br> <br> <br> +1<br> <br><br><br><br>0 1<br>,82^(n-1)-1 =1272^(n-1)-1=127 1000000000000000 256</p>\n<p>3.cache<br>  1)<br><a id=\"more\"></a><br>CacheCacheCacheCache Cache2N2MCachej = i mod 2NjCachei</p>\n<p>CacheCache</p>\n<p>  2)</p>\n<p>CacheCacheCacheCacheCacheCache</p>\n<p>  3)</p>\n<p>1Cache2NCache</p>\n<p>  <a href=\"http://blog.csdn.net/kobesdu/article/details/39081189\" target=\"_blank\" rel=\"external\"></a> </p>\n<p>4.cpu </p>\n<p>5.32bit200MHZ,532bit<br>32bit*(200MHZ/5)/8bit=160MB<br>64800MHz64bit800MHz8(Byte)=6.4GB/s3233MHz PCI32bit33MHz8=132MB/s<br><a href=\"http://baike.baidu.com/link?url=AIbVrUoI9cOptbbWoJaK2gd1pQbm4OWS7BDlE9MgNQ6UsBME35eOd0S8SZBswIiP_lwaHPB8xXeJ_oa4S9a3tTGNVwr6drJmsieSPN2xETQ8E7VscDXfRz0HLGzdOBUg\" target=\"_blank\" rel=\"external\"></a></p>\n<p>6.</p>\n<p>7.SSHsecure shell</p>\n<p>8.9.  </p>\n<p>10.11.5050 <br><br><br></p>\n<p>12.13.<br> <br><br><br> <br><br> <br><br> <br></p>\n<p><br></p>\n<p>14.</p>\n<p>15. </p>\n<p>16.</p>\n<p>17.18 </p>\n<p><br><br></p>\n<p><img src=\"/img/ruankao/17-18.png\" alt=\"img\"><br>ADEFH<br>ADFBB</p>\n<p>19. risk exposure <br>riskexposure= *</p>\n<p>20.</p>\n<p>21.<br></p>\n<p>22.c</p>\n<p>23.24.25vppvps</p>\n<p>26.0</p>\n<p>27.28 <br><br><br></p>\n<p>29.  <br>  <br>  <br>  </p>\n<p></p>\n<p>30.<br>scrum<br>xp<br>srystal<br>DSDM dynamic system development management  </p>\n<p>31.</p>\n<p>32.<br><br></p>\n<p><br><br>:<br><br></p>\n<p></p>\n<p></p>\n<p><br><br><br><br><br><br></p>\n<p> </p>\n<p>33.<br>1<br>2<br>3<br>4<br>5<br></p>\n<p>34.</p>\n<p><br><br><br>      <br>                      <br>                      <br>                      <br>                      <br><br>      <br> <br>      <br>      <br>      <br>      <br>      <br> <br>      <br>      <br>      <br>      <br> <br>      <br>      <br>      <br>      <br>      <br>      Extreme Programming</p>\n<p></p>\n<p>1) <br>2) <br>3) <br>      <br>      <br>      <br>      <br>      <br>4) <br>      <br>      <3><br>      <br>      ;<br>      <br>5) <br>      <br>      <br>      ;<br>      <br>6) <br> <br> <br> </3></p>\n<p> </p>\n<p>35.mccabe enfe-f+2 -+2<br>10-8+2=4</p>\n<p>36.</p>\n<p>37.</p>\n<p>38.<br><br><br>hi<br></p>\n<p>39.</p>\n<p>40.41.UML<br>implementationimplements <br>composition<br></p>\n<p>aggregation</p>\n<p> association <br> generation </p>\n<p>dependence <br></p>\n<p>42.43uml<br><br>   <br><br>deployment diagram </p>\n<p><a href=\"http://www.cnblogs.com/wangkangluo1/archive/2013/02/21/2920606.html\" target=\"_blank\" rel=\"external\"></a></p>\n<p>44.45.46 </p>\n<p>47. visitor accept<br><br>chain of responsibility <br></p>\n<p>48. phpopcode</p>\n<p><a href=\"http://www.cnblogs.com/riskyer/p/3347865.html\" target=\"_blank\" rel=\"external\"></a></p>\n<p>49.</p>\n<p>50.</p>\n<p>51.Rh,l,m,pHLMP</p>\n<p>52.</p>\n<p>53.()()</p>\n<p>54.55.56  <br></p>\n<p>67.vlan</p>\n","site":{"data":{}},"excerpt":"<p>1.cpu &gt;CACHE&gt;</p>\n<p>2.N<br> <br> <br> +1<br> <br><br><br><br>0 1<br>,82^(n-1)-1 =1272^(n-1)-1=127 1000000000000000 256</p>\n<p>3.cache<br>  1)<br>","more":"<br>CacheCacheCacheCache Cache2N2MCachej = i mod 2NjCachei</p>\n<p>CacheCache</p>\n<p>  2)</p>\n<p>CacheCacheCacheCacheCacheCache</p>\n<p>  3)</p>\n<p>1Cache2NCache</p>\n<p>  <a href=\"http://blog.csdn.net/kobesdu/article/details/39081189\"></a> </p>\n<p>4.cpu </p>\n<p>5.32bit200MHZ,532bit<br>32bit*(200MHZ/5)/8bit=160MB<br>64800MHz64bit800MHz8(Byte)=6.4GB/s3233MHz PCI32bit33MHz8=132MB/s<br><a href=\"http://baike.baidu.com/link?url=AIbVrUoI9cOptbbWoJaK2gd1pQbm4OWS7BDlE9MgNQ6UsBME35eOd0S8SZBswIiP_lwaHPB8xXeJ_oa4S9a3tTGNVwr6drJmsieSPN2xETQ8E7VscDXfRz0HLGzdOBUg\"></a></p>\n<p>6.</p>\n<p>7.SSHsecure shell</p>\n<p>8.9.  </p>\n<p>10.11.5050 <br><br><br></p>\n<p>12.13.<br> <br><br><br> <br><br> <br><br> <br></p>\n<p><br></p>\n<p>14.</p>\n<p>15. </p>\n<p>16.</p>\n<p>17.18 </p>\n<p><br><br></p>\n<p><img src=\"/img/ruankao/17-18.png\" alt=\"img\"><br>ADEFH<br>ADFBB</p>\n<p>19. risk exposure <br>riskexposure= *</p>\n<p>20.</p>\n<p>21.<br></p>\n<p>22.c</p>\n<p>23.24.25vppvps</p>\n<p>26.0</p>\n<p>27.28 <br><br><br></p>\n<p>29.  <br>  <br>  <br>  </p>\n<p></p>\n<p>30.<br>scrum<br>xp<br>srystal<br>DSDM dynamic system development management  </p>\n<p>31.</p>\n<p>32.<br><br></p>\n<p><br><br>:<br><br></p>\n<p></p>\n<p></p>\n<p><br><br><br><br><br><br></p>\n<p> </p>\n<p>33.<br>1<br>2<br>3<br>4<br>5<br></p>\n<p>34.</p>\n<p><br><br><br>      <br>                      <br>                      <br>                      <br>                      <br><br>      <br> <br>      <br>      <br>      <br>      <br>      <br> <br>      <br>      <br>      <br>      <br> <br>      <br>      <br>      <br>      <br>      <br>      Extreme Programming</p>\n<p></p>\n<p>1) <br>2) <br>3) <br>      <br>      <br>      <br>      <br>      <br>4) <br>      <br>      <3><br>      <br>      ;<br>      <br>5) <br>      <br>      <br>      ;<br>      <br>6) <br> <br> <br> </p>\n<p> </p>\n<p>35.mccabe enfe-f+2 -+2<br>10-8+2=4</p>\n<p>36.</p>\n<p>37.</p>\n<p>38.<br><br><br>hi<br></p>\n<p>39.</p>\n<p>40.41.UML<br>implementationimplements <br>composition<br></p>\n<p>aggregation</p>\n<p> association <br> generation </p>\n<p>dependence <br></p>\n<p>42.43uml<br><br>   <br><br>deployment diagram </p>\n<p><a href=\"http://www.cnblogs.com/wangkangluo1/archive/2013/02/21/2920606.html\"></a></p>\n<p>44.45.46 </p>\n<p>47. visitor accept<br><br>chain of responsibility <br></p>\n<p>48. phpopcode</p>\n<p><a href=\"http://www.cnblogs.com/riskyer/p/3347865.html\"></a></p>\n<p>49.</p>\n<p>50.</p>\n<p>51.Rh,l,m,pHLMP</p>\n<p>52.</p>\n<p>53.()()</p>\n<p>54.55.56  <br></p>\n<p>67.vlan</p>"},{"title":"docker","date":"2018-08-29T15:19:46.000Z","_content":"\n## \n1. appdocker engine\n2. dockerd+rest api server+clidockercs\n3.docker version\n    ```\n     client:\n     Version:           18.09.6\n     API version:       1.39\n     Go version:        go1.10.8\n     Git commit:        481bc77\n     Built:             Sat May  4 02:35:27 2019\n     OS/Arch:           linux/amd64\n     Experimental:      false\n    \n    Server: Docker Engine - Community\n     Engine:\n      Version:          18.09.6\n      API version:      1.39 (minimum version 1.12)\n      Go version:       go1.10.8\n      Git commit:       481bc77\n      Built:            Sat May  4 01:59:36 2019\n      OS/Arch:          linux/amd64\n      Experimental:     false\n    ```\n4. containers + images + registry\n5. \n<!-- more -->\n    - namespacepidnetipcmntuts\n    - control groups cpu\n    - union file systemscontainer image\n6. \n\n---\n## docker image\n1. image\n    - meta dataroot filesystem\n    - image\n    - imagelayer\n    - imageread only\n    - linuxdocker\n    - \n    ```\n    root@swoole_dev:/home/tb# docker image ls\n    REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n    hello-world         latest              fce289e99eb9        5 months ago        1.84kB\n    root@swoole_dev:/home/tb# docker run centos\n    Unable to find image 'centos:latest' locally\n    latest: Pulling from library/centos\n    8ba884070f61: Pull complete \n    Digest: sha256:ca58fe458b8d94bc6e3072f1cfbd334855858e05e1fd633aa07cf7f82b048e66\n    Status: Downloaded newer image for centos:latest\n    root@swoole_dev:/home/tb# docker image ls\n    REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n    centos              latest              9f38484d220f        3 months ago        202MB\n    hello-world         latest              fce289e99eb9        5 months ago        1.84kB\n\n    ```\n    - centoslinux kernel\n    - image\n        - dockerfilebuild\n            - from ubuntu14.04 base kernel\n            - label \n            - run \n            - expose \n            - entrypoint\n            - docker build -t tongbo/redis: latest .,.\n            - buildid\n        - pull from registry(github,dockerhub)\n            - docker pull ubuntu:14.04\n            - docker push to server\n            - \n            - \n                ```\n                root@swoole_dev:/home/tb# docker pull redis:3.2\n                3.2: Pulling from library/redis\n                f17d81b4b692: Pull complete \n                b32474098757: Pull complete \n                8980cabe8bc2: Pull complete \n                58af19693e78: Pull complete \n                a977782cf22d: Pull complete \n                9c1e268980b7: Pull complete \n                Digest: sha256:43d2f5e7338ef56b3bda52f1ba7b9b58866c07141e834f64267afb51c89e5086\n                Status: Downloaded newer image for redis:3.2\n                root@swoole_dev:/home/tb# docker image ls\n                REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n                centos              latest              9f38484d220f        3 months ago        202MB\n                hello-world         latest              fce289e99eb9        5 months ago        1.84kB\n                redis               3.2                 87856cc39862        8 months ago        76MB\n                root@swoole_dev:/home/tb# docker search redis\n                NAME                             DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\n                redis                            Redis is an open source key-value store that   7029                [OK]                \n                bitnami/redis                    Bitnami Redis Docker Image                      114  \n                \n            ```\n        - dockerhub\n            - offical\n            - pull/\n\n\n## base image\n1. u2devbase\n2. sudosudo groupadd docker sudo gpasswd -a vargant docker service docker restart\n3. hello-worldimage\n    - tag\n    - digest\n    - status\n    - more ambitious\n    -\n        ```\n        # dockerfile\n        FROM scratch #baseimage\n        ADD hello / #helloaddimage\n        CMD  [\"/hello\"] #\n        \n        #builddockerfile\n        @swoole_dev:/home/tb/my_docker_helloworld# docker build -t tongbo/hello_world .\n        Sending build context to Docker daemon  12.29kB\n        Step 1/3 : FROM scratch\n         ---> \n        Step 2/3 : ADD hello /\n         ---> b89e60e00ca1\n        Step 3/3 : CMD [\"/hello\"]\n         ---> Running in 13d1d20bd719\n        Removing intermediate container 13d1d20bd719\n         ---> 462eb2d91ad7\n        Successfully built 462eb2d91ad7\n        Successfully tagged tongbo/hello_world:latest\n        root@swoole_dev:/home/tb/my_docker_helloworld# \n        \n        #build\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker image ls\n        REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE\n        tongbo/hello_world   latest              462eb2d91ad7        55 seconds ago      8.6kB\n        centos               latest              9f38484d220f        3 months ago        202MB\n        hello-world          latest              fce289e99eb9        5 months ago        1.84kB\n        redis                3.2                 87856cc39862        8 months ago        76MB\n        root@swoole_dev:/home/tb/my_docker_helloworld# \n        \n        # from scratch\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker history 462eb2d91ad7\n        IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT\n        462eb2d91ad7        3 minutes ago       /bin/sh -c #(nop)  CMD [\"/hello\"]               0B                  \n        b89e60e00ca1        3 minutes ago       /bin/sh -c #(nop) ADD file:ab92082ce376d310a   8.6kB               \n        root@swoole_dev:/home/tb/my_docker_helloworld#\n        \n        # build gcc -static,,====\n        # -static  gcc \n        root@swoole_dev:/home/tb/my_docker_helloworld# docker run tongbo/hello_world\n        standard_init_linux.go:207: exec user process caused \"no such file or directory\n        root@swoole_dev:/home/tb/my_docker_helloworld# gcc -static hello.c -o hello\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker build -t tongbo/hello_world .\n        Sending build context to Docker daemon  916.5kB\n        Step 1/3 : FROM scratch\n         ---> \n        Step 2/3 : ADD hello /\n         ---> Using cache\n         ---> 11b009df24b2\n        Step 3/3 : CMD [\"/hello\"]\n         ---> Using cache\n         ---> 6c539eb137dd\n        Successfully built 6c539eb137dd\n        Successfully tagged tongbo/hello_world:latest\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker run tongbo/hello_world\n        hello,world,docker in c\n        ```\n## container\n1. containerimagecopy\n2. containerimagecontainer layer image\n3.  imagecontainer\n4. imageappcontainer\n5. image container\n    - docker run image \n    - docker container ls\n    - docker container ls -a\n    - \n      ```\n            root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls -a\n            CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS                         PORTS               NAMES\n            51869bc1fcd5        tongbo/hello_world   \"/hello\"            7 minutes ago       Exited (0) 7 minutes ago                           happy_bardeen\n\n      ```\n      - docker run centos:runlatestpull,centos ==bin/bash,why==\n      ```\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker run centos\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls \n        CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls -a\n        CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS                         PORTS               NAMES\n        35f4015c37be        centos               \"/bin/bash\"         20 seconds ago      Exited (0) 18 seconds ago                          gallant_boyd\n        51869bc1fcd5        tongbo/hello_world   \"/hello\"            11 minutes ago      Exited (0) 11 minutes ago                          happy_bardeen\n\n      ```\n      - \n        - docker run -it centos\n        ```\n        # 1ununtu\n        root@swoole_dev:/etc/docker# docker container ls\n        CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n        29fae6a620a9        centos              \"/bin/bash\"         47 seconds ago      Up 46 seconds                           affectionate_meitner\n        root@swoole_dev:/etc/docker# docker container ls\n        CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n        29fae6a620a9        centos              \"/bin/bash\"         51 seconds ago      Up 49 seconds                           affectionate_meitner\n        root@swoole_dev:/etc/docker# \n        # run -it  centos -iinteractive-ttty docker run --help\n        [root@29fae6a620a9 /]# cat /etc/redhat-release\n        CentOS Linux release 7.6.1810 (Core) \n        [root@29fae6a620a9 /]#\n        ```\n    - dockermanagement commandscommands\n        - Management Commands:\n        ```\n          builder     Manage builds\n          config      Manage Docker configs\n          container   Manage containers\n          engine      Manage the docker engine\n          image       Manage images\n          network     Manage networks\n          node        Manage Swarm nodes\n          plugin      Manage plugins\n          secret      Manage Docker secrets\n          service     Manage services\n          stack       Manage Docker stacks\n          swarm       Manage Swarm\n          system      Manage Docker\n          trust       Manage trust on Docker images\n          volume      Manage volumes\n        ```\n        -  \n            - docker rmi  imageid\n            - docker rm containerid\n            - docker ps -a container\n            - docker container ls -aq  container id\n            - docker rm $(docker container ls -aq) rmcontainer\n            - xargs grep awk \n            - docker container ls -f \"status=exited\" -q exitedcontainer\n           \n## docker\n1. docker container commit\n    - Usage:  docker container commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]] Create a new image from a container's changes\n    -  docker commit\n2. docker build\n    - build an image from a dockerfile\n3. \n    1. docker run -it centos\n    2. yum install vim\n    3. exit\n    4. docker container ls -a |grep centos\n    5. 4centos vim\n    6. `docker container ls -a |grep centos\n0f5ccf1365eb        centos               \"/bin/bash\"         3 minutes ago       Exited (0) About a minute ago                       pedantic_gagarin`\n    7. \n        ```\n        root@swoole_dev:/home/tb# docker commit pedantic_gagarin yaxiaomu/centos_add_vim:default_yaxiaomu_tag\n        sha256:3204e122d66ce500790269c1fed291842b6f18c34286647212d9293c9f56cb45\n        root@swoole_dev:/home/tb# docker image ls\n        REPOSITORY                TAG                    IMAGE ID            CREATED             SIZE\n        yaxiaomu/centos_add_vim   default_yaxiaomu_tag   3204e122d66c        10 seconds ago      361MB\n        tongbo/hello_world        latest                 6c539eb137dd        17 hours ago        913kB\n        centos                    latest                 9f38484d220f        3 months ago        202MB\n        redis                     3.2                    87856cc39862        8 months ago        76MB\n                ```\n    8. centoscentos_add_vimimagelayer:`9f38484d220f`\n    ```\n    root@swoole_dev:/home/tb# docker image ls\n    REPOSITORY                TAG                    IMAGE ID            CREATED             SIZE\n    yaxiaomu/centos_add_vim   default_yaxiaomu_tag   3204e122d66c        3 minutes ago       361MB\n    tongbo/hello_world        latest                 6c539eb137dd        17 hours ago        913kB\n    centos                    latest                 9f38484d220f        3 months ago        202MB\n    redis                     3.2                    87856cc39862        8 months ago        76MB\n    root@swoole_dev:/home/tb# docker history 9f38484d220f\n    IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT\n    9f38484d220f        3 months ago        /bin/sh -c #(nop)  CMD [\"/bin/bash\"]            0B                  \n    <missing>           3 months ago        /bin/sh -c #(nop)  LABEL org.label-schema.sc   0B                  \n    <missing>           3 months ago        /bin/sh -c #(nop) ADD file:074f2c974463ab38c   202MB               \n    root@swoole_dev:/home/tb# docker history 3204e122d66c\n    IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT\n    3204e122d66c        3 minutes ago       /bin/bash                                       160MB               \n    9f38484d220f        3 months ago        /bin/sh -c #(nop)  CMD [\"/bin/bash\"]            0B                  \n    <missing>           3 months ago        /bin/sh -c #(nop)  LABEL org.label-schema.sc   0B                  \n    <missing>           3 months ago        /bin/sh -c #(nop) ADD file:074f2c974463ab38c   202MB   \n    ```\n4. dockerfilebuild\n    ```\n    #docker imageyumimage\n    # containercommit\n        root@swoole_dev:/home/tb/docker-centos-vim# docker build -t tongbo/centos_add_vim . \n    Sending build context to Docker daemon  2.048kB\n    Step 1/2 : FROM centos\n     ---> 9f38484d220f\n    Step 2/2 : RUN yum install -y vim\n     ---> Running in 67aeb36048ff\n    Loaded plugins: fastestmirror, ovl\n    ...\n        Complete!\n    Removing intermediate container 67aeb36048ff\n     ---> 907325d6fc6b\n    Successfully built 907325d6fc6b\n    Successfully tagged tongbo/centos_add_vim:latest\n\n    ```\n## dockerfile\n1. FROM [scratch centos ubuntu:14:04] #|base image\n    - image\n2. LABEL metadata autohr verison description\n3. RUN yum install |apt-get update(layer&&\\)\n4. workdir /root |demo |pwd()\n5. ADDimage\n    - ADD test.tar.gz/ # \n6. COPY copycurl wget\n7. ENV mysql_version 5.6 # ,  \n    ```\n    ENV MYSQL_VERSION 5.6 \n    RUN apt-get instlal -y mysql-server= \"${MYSSQL_VERSION}\" \\\n    && rm -rf /var/lib/apt/lists/*\n    ```\n8. volume rescource\n9. CMD and entrypoint\n10. [docker-library on github](https://github.com/docker-library/docs/tree/master/mysql) [reference](https://docs.docker.com/reference/)\n\n## run vs cmd vs encrypoint\n1. runimage layer\n2. cmd\n    - docker runcmd\n        - docker run -it [image] /bin/bash\n    - cmd\n\n3. entrypoint\n    - cmd\n    - \n    - shellentrypoint\n        - \n4. \n    - shell run echo \"hello\"\n    - exec [\"/bin/echo\",'hello']\n    - exec\n    ```\n    FROM centos\n    EVN name Docker\n    ENTRYPOIN [\"/bin/bash\",\"-c\",\"echo hello $name\"]\n    ```\n## image\n1. dockerhub\n    - docker login\n    - docker image push \n    ```\n    root@swoole_dev:/home/tb/my_docker_helloworld# docker push yaxiaomu/hello_world:latest\n    The push refers to repository [docker.io/yaxiaomu/hello_world]\n    096f9105d9f4: Pushed \n    latest: digest: sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934 size: 527\n    root@swoole_dev:/home/tb/my_docker_helloworld# \n    # imagedockerid\n    denied: requested access to the resource is denied\n    # docker hubpull\n    root@swoole_dev:/home/tb/my_docker_helloworld# docker run yaxiaomu/hello_world\n    hello,world,docker in c\n    root@swoole_dev:/home/tb/my_docker_helloworld# docker rm yaxiaomu/hello_world\n    Error: No such container: yaxiaomu/hello_world\n    root@swoole_dev:/home/tb/my_docker_helloworld# docker rmi yaxiaomu/hello_world\n    Untagged: yaxiaomu/hello_world:latest\n    Untagged: yaxiaomu/hello_world@sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934\n    root@swoole_dev:/home/tb/my_docker_helloworld# docker run yaxiaomu/hello_world\n    Unable to find image 'yaxiaomu/hello_world:latest' locally\n    latest: Pulling from yaxiaomu/hello_world\n    Digest: sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934\n    Status: Downloaded newer image for yaxiaomu/hello_world:latest\n    hello,world,docker in c\n    root@swoole_dev:/home/tb/my_docker_helloworld# \n\n    ```\n2. imageDockerfile\n    - githubdockerfilebuild\n    - [](https://hub.docker.com/_/registry)docker run -d -p 5000:5000 --restart always --name registry registry:2 \n        - docker built -t serverip:port/name:tag\n        - /etc/docker/daemon.json deamon.json, insecure-registries: ip :\n        -  root@swoole_dev:/etc/init.d# vim  /lib/systemd/system/docker.service,EnvironmentFile=/etc/docker/daemon.json\n        - docker service docker restart\n        - docker registry api  http\n        - segmentfault\n        \n\n---\n\n## dockerfile\n\n---\n\n1. flask demopythonimagecontainer\n    - pyhtonbase image\n    - flask\n    - app\n2. \n    ```\n    root@swoole_dev:/home/tb/flask_demo# more app.py \n    ## app.py\n    from flask import Flask\n    app = Flask(__name__)\n    @app.route('/')\n    def hello():\n        return \"hello,tb de docker\"\n    if __name__ == '__main__':\n        app.run()\n\n    # \n    apt-get install python-minimal\n    apt install python-pip\n    pip install flask\n    \n    # \n       root@swoole_dev:/home/tb/flask_demo# python app.py \n     * Serving Flask app \"app\" (lazy loading)\n     * Environment: production\n       WARNING: This is a development server. Do not use it in a production deployment.\n       Use a production WSGI server instead.\n     * Debug mode: off\n     * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n       127.0.0.1 - - [22/Jun/2019 21:00:05] \"GET / HTTP/1.1\" 200 -\n    \n    #dockerfile ,cppy app.py\n    FROM python:2.7\n    LABEL maintainer=\"tongbo<demo.com@126.com>\"\n    RUN pip install flask\n    COPY app.py /app/\n    WORKDIR /app\n    EXPOSE 5000\n    CMD [\"pyhton\",\"app.py\"]\n\n    # build\n    root@swoole_dev:/home/tb/flask_hello_world# docker build -t yaxiaomu/flask_demo:latest .\n    Sending build context to Docker daemon  3.072kB\n    Step 1/7 : FROM python:2.7\n     ---> 37093962fbf5\n    Step 2/7 : LABEL maintainer=\"tongbo<demo.com@126.com>\"\n     ---> Using cache\n     ---> c4ac0caa5aab\n    Step 3/7 : RUN pip install flask\n     ---> Using cache\n     ---> 60c7e35f23a3\n    Step 4/7 : COPY app.py /app/\n     ---> a7a69c1da0b6\n    Step 5/7 : WORKDIR /app\n     ---> Running in 2122fe24efd6\n    Removing intermediate container 2122fe24efd6\n     ---> f6b586c33cbc\n    Step 6/7 : EXPOSE 5000\n     ---> Running in e368df4c5205\n    Removing intermediate container e368df4c5205\n     ---> 6a7e1858c5e7\n    Step 7/7 : CMD [\"pyhton\",\"app.py\"]\n     ---> Running in e8c96756cc9e\n    Removing intermediate container e8c96756cc9e\n     ---> c37bb4c557da\n    Successfully built c37bb4c557da\n    Successfully tagged yaxiaomu/flask_demo:latest\n    \n    ## container\n    root@swoole_dev:/home/tb/flask_hello_world# docker run  yaxiaomu/flask_demo\n    docker: Error response from daemon: OCI runtime create failed: container_linux.go:345: starting container process caused \"exec: \\\"pyhton\\\": executable file not found in $PATH\": unknown.\n    ERRO[0000] error waiting for container: context canceled \n    ```\n3.  debug\n    - imageimage id/bin/bash\n    - docker run it imageid /bin/bash\n    - cd .. && begin your debug\n    \n    ```\n    root@swoole_dev:/home/tb/flask_hello_world# docker run -it c37bb4c557da /bin/bash\n    root@a972581ff13e:/app#\n    root@a972581ff13e:/app# python app.py \n     * Serving Flask app \"app\" (lazy loading)\n     * Environment: production\n       WARNING: This is a development server. Do not use it in a production deployment.\n       Use a production WSGI server instead.\n     * Debug mode: off\n     * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n     ## pythonpyhtondockerfile\n      \n      root@swoole_dev:/home/tb/flask_hello_world# docker run  yaxiaomu/flask_demo \n     * Serving Flask app \"app\" (lazy loading)\n     * Environment: production\n       WARNING: This is a development server. Do not use it in a production deployment.\n       Use a production WSGI server instead.\n     * Debug mode: off\n     * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n     ##  docker run -d,--name \n     root@swoole_dev:/home/tb/flask_hello_world# docker run -d --name tb_demo yaxiaomu/flask_demo\n     e7841af659ab469f598151b0f43c1333a77a52c6610d6894a5dfbec887d6848e\n\n    ```\n## \n1. `docker container stop 664f2033265b | docker stop 664\n664f2033265b\n[1]+  Exit 137                docker run yaxiaomu/flask_demo`\n2. `root@swoole_dev:/home/tb/flask_hello_world# docker exec -it e7841af659ab /bin/bash\nroot@e7841af659ab:/app# `\n3. docker exec -it e7841af659ab ip a\n4. docker rm $(docker ps -aq)\n5. docker start|stop demo\n6. docker inspect containerId # \n7. docker container logs containerid\n8. docker container commands...\n\n## dockerfile2\n1. stress\n2. apt-get install stress\n3.  cpu\n4. dockercpu \n```\nFROM UBUNTU\nRUN apt-get update && apt-get install -y stress\nENTRYPOINT [\"usr/bin/stress\"]\nCMD \n\n## \ndocker run -it yaxiaomu/ubuntu_stress --vm 1 --verbose\n```\n\n## \n1. - virtualbox\n2. -m memory swap memory\n3. -c cpu shares relate weight,\n4. docker run --cpu-shares=5 --name=test2 --cpu1\n5. docker run --cpu-shares=10 --name=test3 --cpu1\n6. control groupslayerunion file system\n\n## \n\n    \n\n\n       ","source":"_posts/docker-one-03.md","raw":"---\ntitle: docker\ndate: 2018-08-29 23:19:46\ncategories: DevOps\ntags:\n    - docker\n---\n\n## \n1. appdocker engine\n2. dockerd+rest api server+clidockercs\n3.docker version\n    ```\n     client:\n     Version:           18.09.6\n     API version:       1.39\n     Go version:        go1.10.8\n     Git commit:        481bc77\n     Built:             Sat May  4 02:35:27 2019\n     OS/Arch:           linux/amd64\n     Experimental:      false\n    \n    Server: Docker Engine - Community\n     Engine:\n      Version:          18.09.6\n      API version:      1.39 (minimum version 1.12)\n      Go version:       go1.10.8\n      Git commit:       481bc77\n      Built:            Sat May  4 01:59:36 2019\n      OS/Arch:          linux/amd64\n      Experimental:     false\n    ```\n4. containers + images + registry\n5. \n<!-- more -->\n    - namespacepidnetipcmntuts\n    - control groups cpu\n    - union file systemscontainer image\n6. \n\n---\n## docker image\n1. image\n    - meta dataroot filesystem\n    - image\n    - imagelayer\n    - imageread only\n    - linuxdocker\n    - \n    ```\n    root@swoole_dev:/home/tb# docker image ls\n    REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n    hello-world         latest              fce289e99eb9        5 months ago        1.84kB\n    root@swoole_dev:/home/tb# docker run centos\n    Unable to find image 'centos:latest' locally\n    latest: Pulling from library/centos\n    8ba884070f61: Pull complete \n    Digest: sha256:ca58fe458b8d94bc6e3072f1cfbd334855858e05e1fd633aa07cf7f82b048e66\n    Status: Downloaded newer image for centos:latest\n    root@swoole_dev:/home/tb# docker image ls\n    REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n    centos              latest              9f38484d220f        3 months ago        202MB\n    hello-world         latest              fce289e99eb9        5 months ago        1.84kB\n\n    ```\n    - centoslinux kernel\n    - image\n        - dockerfilebuild\n            - from ubuntu14.04 base kernel\n            - label \n            - run \n            - expose \n            - entrypoint\n            - docker build -t tongbo/redis: latest .,.\n            - buildid\n        - pull from registry(github,dockerhub)\n            - docker pull ubuntu:14.04\n            - docker push to server\n            - \n            - \n                ```\n                root@swoole_dev:/home/tb# docker pull redis:3.2\n                3.2: Pulling from library/redis\n                f17d81b4b692: Pull complete \n                b32474098757: Pull complete \n                8980cabe8bc2: Pull complete \n                58af19693e78: Pull complete \n                a977782cf22d: Pull complete \n                9c1e268980b7: Pull complete \n                Digest: sha256:43d2f5e7338ef56b3bda52f1ba7b9b58866c07141e834f64267afb51c89e5086\n                Status: Downloaded newer image for redis:3.2\n                root@swoole_dev:/home/tb# docker image ls\n                REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n                centos              latest              9f38484d220f        3 months ago        202MB\n                hello-world         latest              fce289e99eb9        5 months ago        1.84kB\n                redis               3.2                 87856cc39862        8 months ago        76MB\n                root@swoole_dev:/home/tb# docker search redis\n                NAME                             DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\n                redis                            Redis is an open source key-value store that   7029                [OK]                \n                bitnami/redis                    Bitnami Redis Docker Image                      114  \n                \n            ```\n        - dockerhub\n            - offical\n            - pull/\n\n\n## base image\n1. u2devbase\n2. sudosudo groupadd docker sudo gpasswd -a vargant docker service docker restart\n3. hello-worldimage\n    - tag\n    - digest\n    - status\n    - more ambitious\n    -\n        ```\n        # dockerfile\n        FROM scratch #baseimage\n        ADD hello / #helloaddimage\n        CMD  [\"/hello\"] #\n        \n        #builddockerfile\n        @swoole_dev:/home/tb/my_docker_helloworld# docker build -t tongbo/hello_world .\n        Sending build context to Docker daemon  12.29kB\n        Step 1/3 : FROM scratch\n         ---> \n        Step 2/3 : ADD hello /\n         ---> b89e60e00ca1\n        Step 3/3 : CMD [\"/hello\"]\n         ---> Running in 13d1d20bd719\n        Removing intermediate container 13d1d20bd719\n         ---> 462eb2d91ad7\n        Successfully built 462eb2d91ad7\n        Successfully tagged tongbo/hello_world:latest\n        root@swoole_dev:/home/tb/my_docker_helloworld# \n        \n        #build\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker image ls\n        REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE\n        tongbo/hello_world   latest              462eb2d91ad7        55 seconds ago      8.6kB\n        centos               latest              9f38484d220f        3 months ago        202MB\n        hello-world          latest              fce289e99eb9        5 months ago        1.84kB\n        redis                3.2                 87856cc39862        8 months ago        76MB\n        root@swoole_dev:/home/tb/my_docker_helloworld# \n        \n        # from scratch\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker history 462eb2d91ad7\n        IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT\n        462eb2d91ad7        3 minutes ago       /bin/sh -c #(nop)  CMD [\"/hello\"]               0B                  \n        b89e60e00ca1        3 minutes ago       /bin/sh -c #(nop) ADD file:ab92082ce376d310a   8.6kB               \n        root@swoole_dev:/home/tb/my_docker_helloworld#\n        \n        # build gcc -static,,====\n        # -static  gcc \n        root@swoole_dev:/home/tb/my_docker_helloworld# docker run tongbo/hello_world\n        standard_init_linux.go:207: exec user process caused \"no such file or directory\n        root@swoole_dev:/home/tb/my_docker_helloworld# gcc -static hello.c -o hello\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker build -t tongbo/hello_world .\n        Sending build context to Docker daemon  916.5kB\n        Step 1/3 : FROM scratch\n         ---> \n        Step 2/3 : ADD hello /\n         ---> Using cache\n         ---> 11b009df24b2\n        Step 3/3 : CMD [\"/hello\"]\n         ---> Using cache\n         ---> 6c539eb137dd\n        Successfully built 6c539eb137dd\n        Successfully tagged tongbo/hello_world:latest\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker run tongbo/hello_world\n        hello,world,docker in c\n        ```\n## container\n1. containerimagecopy\n2. containerimagecontainer layer image\n3.  imagecontainer\n4. imageappcontainer\n5. image container\n    - docker run image \n    - docker container ls\n    - docker container ls -a\n    - \n      ```\n            root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls -a\n            CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS                         PORTS               NAMES\n            51869bc1fcd5        tongbo/hello_world   \"/hello\"            7 minutes ago       Exited (0) 7 minutes ago                           happy_bardeen\n\n      ```\n      - docker run centos:runlatestpull,centos ==bin/bash,why==\n      ```\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker run centos\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls \n        CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n        root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls -a\n        CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS                         PORTS               NAMES\n        35f4015c37be        centos               \"/bin/bash\"         20 seconds ago      Exited (0) 18 seconds ago                          gallant_boyd\n        51869bc1fcd5        tongbo/hello_world   \"/hello\"            11 minutes ago      Exited (0) 11 minutes ago                          happy_bardeen\n\n      ```\n      - \n        - docker run -it centos\n        ```\n        # 1ununtu\n        root@swoole_dev:/etc/docker# docker container ls\n        CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n        29fae6a620a9        centos              \"/bin/bash\"         47 seconds ago      Up 46 seconds                           affectionate_meitner\n        root@swoole_dev:/etc/docker# docker container ls\n        CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n        29fae6a620a9        centos              \"/bin/bash\"         51 seconds ago      Up 49 seconds                           affectionate_meitner\n        root@swoole_dev:/etc/docker# \n        # run -it  centos -iinteractive-ttty docker run --help\n        [root@29fae6a620a9 /]# cat /etc/redhat-release\n        CentOS Linux release 7.6.1810 (Core) \n        [root@29fae6a620a9 /]#\n        ```\n    - dockermanagement commandscommands\n        - Management Commands:\n        ```\n          builder     Manage builds\n          config      Manage Docker configs\n          container   Manage containers\n          engine      Manage the docker engine\n          image       Manage images\n          network     Manage networks\n          node        Manage Swarm nodes\n          plugin      Manage plugins\n          secret      Manage Docker secrets\n          service     Manage services\n          stack       Manage Docker stacks\n          swarm       Manage Swarm\n          system      Manage Docker\n          trust       Manage trust on Docker images\n          volume      Manage volumes\n        ```\n        -  \n            - docker rmi  imageid\n            - docker rm containerid\n            - docker ps -a container\n            - docker container ls -aq  container id\n            - docker rm $(docker container ls -aq) rmcontainer\n            - xargs grep awk \n            - docker container ls -f \"status=exited\" -q exitedcontainer\n           \n## docker\n1. docker container commit\n    - Usage:  docker container commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]] Create a new image from a container's changes\n    -  docker commit\n2. docker build\n    - build an image from a dockerfile\n3. \n    1. docker run -it centos\n    2. yum install vim\n    3. exit\n    4. docker container ls -a |grep centos\n    5. 4centos vim\n    6. `docker container ls -a |grep centos\n0f5ccf1365eb        centos               \"/bin/bash\"         3 minutes ago       Exited (0) About a minute ago                       pedantic_gagarin`\n    7. \n        ```\n        root@swoole_dev:/home/tb# docker commit pedantic_gagarin yaxiaomu/centos_add_vim:default_yaxiaomu_tag\n        sha256:3204e122d66ce500790269c1fed291842b6f18c34286647212d9293c9f56cb45\n        root@swoole_dev:/home/tb# docker image ls\n        REPOSITORY                TAG                    IMAGE ID            CREATED             SIZE\n        yaxiaomu/centos_add_vim   default_yaxiaomu_tag   3204e122d66c        10 seconds ago      361MB\n        tongbo/hello_world        latest                 6c539eb137dd        17 hours ago        913kB\n        centos                    latest                 9f38484d220f        3 months ago        202MB\n        redis                     3.2                    87856cc39862        8 months ago        76MB\n                ```\n    8. centoscentos_add_vimimagelayer:`9f38484d220f`\n    ```\n    root@swoole_dev:/home/tb# docker image ls\n    REPOSITORY                TAG                    IMAGE ID            CREATED             SIZE\n    yaxiaomu/centos_add_vim   default_yaxiaomu_tag   3204e122d66c        3 minutes ago       361MB\n    tongbo/hello_world        latest                 6c539eb137dd        17 hours ago        913kB\n    centos                    latest                 9f38484d220f        3 months ago        202MB\n    redis                     3.2                    87856cc39862        8 months ago        76MB\n    root@swoole_dev:/home/tb# docker history 9f38484d220f\n    IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT\n    9f38484d220f        3 months ago        /bin/sh -c #(nop)  CMD [\"/bin/bash\"]            0B                  \n    <missing>           3 months ago        /bin/sh -c #(nop)  LABEL org.label-schema.sc   0B                  \n    <missing>           3 months ago        /bin/sh -c #(nop) ADD file:074f2c974463ab38c   202MB               \n    root@swoole_dev:/home/tb# docker history 3204e122d66c\n    IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT\n    3204e122d66c        3 minutes ago       /bin/bash                                       160MB               \n    9f38484d220f        3 months ago        /bin/sh -c #(nop)  CMD [\"/bin/bash\"]            0B                  \n    <missing>           3 months ago        /bin/sh -c #(nop)  LABEL org.label-schema.sc   0B                  \n    <missing>           3 months ago        /bin/sh -c #(nop) ADD file:074f2c974463ab38c   202MB   \n    ```\n4. dockerfilebuild\n    ```\n    #docker imageyumimage\n    # containercommit\n        root@swoole_dev:/home/tb/docker-centos-vim# docker build -t tongbo/centos_add_vim . \n    Sending build context to Docker daemon  2.048kB\n    Step 1/2 : FROM centos\n     ---> 9f38484d220f\n    Step 2/2 : RUN yum install -y vim\n     ---> Running in 67aeb36048ff\n    Loaded plugins: fastestmirror, ovl\n    ...\n        Complete!\n    Removing intermediate container 67aeb36048ff\n     ---> 907325d6fc6b\n    Successfully built 907325d6fc6b\n    Successfully tagged tongbo/centos_add_vim:latest\n\n    ```\n## dockerfile\n1. FROM [scratch centos ubuntu:14:04] #|base image\n    - image\n2. LABEL metadata autohr verison description\n3. RUN yum install |apt-get update(layer&&\\)\n4. workdir /root |demo |pwd()\n5. ADDimage\n    - ADD test.tar.gz/ # \n6. COPY copycurl wget\n7. ENV mysql_version 5.6 # ,  \n    ```\n    ENV MYSQL_VERSION 5.6 \n    RUN apt-get instlal -y mysql-server= \"${MYSSQL_VERSION}\" \\\n    && rm -rf /var/lib/apt/lists/*\n    ```\n8. volume rescource\n9. CMD and entrypoint\n10. [docker-library on github](https://github.com/docker-library/docs/tree/master/mysql) [reference](https://docs.docker.com/reference/)\n\n## run vs cmd vs encrypoint\n1. runimage layer\n2. cmd\n    - docker runcmd\n        - docker run -it [image] /bin/bash\n    - cmd\n\n3. entrypoint\n    - cmd\n    - \n    - shellentrypoint\n        - \n4. \n    - shell run echo \"hello\"\n    - exec [\"/bin/echo\",'hello']\n    - exec\n    ```\n    FROM centos\n    EVN name Docker\n    ENTRYPOIN [\"/bin/bash\",\"-c\",\"echo hello $name\"]\n    ```\n## image\n1. dockerhub\n    - docker login\n    - docker image push \n    ```\n    root@swoole_dev:/home/tb/my_docker_helloworld# docker push yaxiaomu/hello_world:latest\n    The push refers to repository [docker.io/yaxiaomu/hello_world]\n    096f9105d9f4: Pushed \n    latest: digest: sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934 size: 527\n    root@swoole_dev:/home/tb/my_docker_helloworld# \n    # imagedockerid\n    denied: requested access to the resource is denied\n    # docker hubpull\n    root@swoole_dev:/home/tb/my_docker_helloworld# docker run yaxiaomu/hello_world\n    hello,world,docker in c\n    root@swoole_dev:/home/tb/my_docker_helloworld# docker rm yaxiaomu/hello_world\n    Error: No such container: yaxiaomu/hello_world\n    root@swoole_dev:/home/tb/my_docker_helloworld# docker rmi yaxiaomu/hello_world\n    Untagged: yaxiaomu/hello_world:latest\n    Untagged: yaxiaomu/hello_world@sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934\n    root@swoole_dev:/home/tb/my_docker_helloworld# docker run yaxiaomu/hello_world\n    Unable to find image 'yaxiaomu/hello_world:latest' locally\n    latest: Pulling from yaxiaomu/hello_world\n    Digest: sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934\n    Status: Downloaded newer image for yaxiaomu/hello_world:latest\n    hello,world,docker in c\n    root@swoole_dev:/home/tb/my_docker_helloworld# \n\n    ```\n2. imageDockerfile\n    - githubdockerfilebuild\n    - [](https://hub.docker.com/_/registry)docker run -d -p 5000:5000 --restart always --name registry registry:2 \n        - docker built -t serverip:port/name:tag\n        - /etc/docker/daemon.json deamon.json, insecure-registries: ip :\n        -  root@swoole_dev:/etc/init.d# vim  /lib/systemd/system/docker.service,EnvironmentFile=/etc/docker/daemon.json\n        - docker service docker restart\n        - docker registry api  http\n        - segmentfault\n        \n\n---\n\n## dockerfile\n\n---\n\n1. flask demopythonimagecontainer\n    - pyhtonbase image\n    - flask\n    - app\n2. \n    ```\n    root@swoole_dev:/home/tb/flask_demo# more app.py \n    ## app.py\n    from flask import Flask\n    app = Flask(__name__)\n    @app.route('/')\n    def hello():\n        return \"hello,tb de docker\"\n    if __name__ == '__main__':\n        app.run()\n\n    # \n    apt-get install python-minimal\n    apt install python-pip\n    pip install flask\n    \n    # \n       root@swoole_dev:/home/tb/flask_demo# python app.py \n     * Serving Flask app \"app\" (lazy loading)\n     * Environment: production\n       WARNING: This is a development server. Do not use it in a production deployment.\n       Use a production WSGI server instead.\n     * Debug mode: off\n     * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n       127.0.0.1 - - [22/Jun/2019 21:00:05] \"GET / HTTP/1.1\" 200 -\n    \n    #dockerfile ,cppy app.py\n    FROM python:2.7\n    LABEL maintainer=\"tongbo<demo.com@126.com>\"\n    RUN pip install flask\n    COPY app.py /app/\n    WORKDIR /app\n    EXPOSE 5000\n    CMD [\"pyhton\",\"app.py\"]\n\n    # build\n    root@swoole_dev:/home/tb/flask_hello_world# docker build -t yaxiaomu/flask_demo:latest .\n    Sending build context to Docker daemon  3.072kB\n    Step 1/7 : FROM python:2.7\n     ---> 37093962fbf5\n    Step 2/7 : LABEL maintainer=\"tongbo<demo.com@126.com>\"\n     ---> Using cache\n     ---> c4ac0caa5aab\n    Step 3/7 : RUN pip install flask\n     ---> Using cache\n     ---> 60c7e35f23a3\n    Step 4/7 : COPY app.py /app/\n     ---> a7a69c1da0b6\n    Step 5/7 : WORKDIR /app\n     ---> Running in 2122fe24efd6\n    Removing intermediate container 2122fe24efd6\n     ---> f6b586c33cbc\n    Step 6/7 : EXPOSE 5000\n     ---> Running in e368df4c5205\n    Removing intermediate container e368df4c5205\n     ---> 6a7e1858c5e7\n    Step 7/7 : CMD [\"pyhton\",\"app.py\"]\n     ---> Running in e8c96756cc9e\n    Removing intermediate container e8c96756cc9e\n     ---> c37bb4c557da\n    Successfully built c37bb4c557da\n    Successfully tagged yaxiaomu/flask_demo:latest\n    \n    ## container\n    root@swoole_dev:/home/tb/flask_hello_world# docker run  yaxiaomu/flask_demo\n    docker: Error response from daemon: OCI runtime create failed: container_linux.go:345: starting container process caused \"exec: \\\"pyhton\\\": executable file not found in $PATH\": unknown.\n    ERRO[0000] error waiting for container: context canceled \n    ```\n3.  debug\n    - imageimage id/bin/bash\n    - docker run it imageid /bin/bash\n    - cd .. && begin your debug\n    \n    ```\n    root@swoole_dev:/home/tb/flask_hello_world# docker run -it c37bb4c557da /bin/bash\n    root@a972581ff13e:/app#\n    root@a972581ff13e:/app# python app.py \n     * Serving Flask app \"app\" (lazy loading)\n     * Environment: production\n       WARNING: This is a development server. Do not use it in a production deployment.\n       Use a production WSGI server instead.\n     * Debug mode: off\n     * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n     ## pythonpyhtondockerfile\n      \n      root@swoole_dev:/home/tb/flask_hello_world# docker run  yaxiaomu/flask_demo \n     * Serving Flask app \"app\" (lazy loading)\n     * Environment: production\n       WARNING: This is a development server. Do not use it in a production deployment.\n       Use a production WSGI server instead.\n     * Debug mode: off\n     * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n     ##  docker run -d,--name \n     root@swoole_dev:/home/tb/flask_hello_world# docker run -d --name tb_demo yaxiaomu/flask_demo\n     e7841af659ab469f598151b0f43c1333a77a52c6610d6894a5dfbec887d6848e\n\n    ```\n## \n1. `docker container stop 664f2033265b | docker stop 664\n664f2033265b\n[1]+  Exit 137                docker run yaxiaomu/flask_demo`\n2. `root@swoole_dev:/home/tb/flask_hello_world# docker exec -it e7841af659ab /bin/bash\nroot@e7841af659ab:/app# `\n3. docker exec -it e7841af659ab ip a\n4. docker rm $(docker ps -aq)\n5. docker start|stop demo\n6. docker inspect containerId # \n7. docker container logs containerid\n8. docker container commands...\n\n## dockerfile2\n1. stress\n2. apt-get install stress\n3.  cpu\n4. dockercpu \n```\nFROM UBUNTU\nRUN apt-get update && apt-get install -y stress\nENTRYPOINT [\"usr/bin/stress\"]\nCMD \n\n## \ndocker run -it yaxiaomu/ubuntu_stress --vm 1 --verbose\n```\n\n## \n1. - virtualbox\n2. -m memory swap memory\n3. -c cpu shares relate weight,\n4. docker run --cpu-shares=5 --name=test2 --cpu1\n5. docker run --cpu-shares=10 --name=test3 --cpu1\n6. control groupslayerunion file system\n\n## \n\n    \n\n\n       ","slug":"docker-one-03","published":1,"updated":"2019-06-23T15:48:18.549Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck2ifan77005xzkgv8iay2z9v","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>appdocker engine</li>\n<li><p>dockerd+rest api server+clidockercs<br>3.docker version</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"> client:</div><div class=\"line\"> Version:           18.09.6</div><div class=\"line\"> API version:       1.39</div><div class=\"line\"> Go version:        go1.10.8</div><div class=\"line\"> Git commit:        481bc77</div><div class=\"line\"> Built:             Sat May  4 02:35:27 2019</div><div class=\"line\"> OS/Arch:           linux/amd64</div><div class=\"line\"> Experimental:      false</div><div class=\"line\"></div><div class=\"line\">Server: Docker Engine - Community</div><div class=\"line\"> Engine:</div><div class=\"line\">  Version:          18.09.6</div><div class=\"line\">  API version:      1.39 (minimum version 1.12)</div><div class=\"line\">  Go version:       go1.10.8</div><div class=\"line\">  Git commit:       481bc77</div><div class=\"line\">  Built:            Sat May  4 01:59:36 2019</div><div class=\"line\">  OS/Arch:          linux/amd64</div><div class=\"line\">  Experimental:     false</div></pre></td></tr></table></figure>\n</li>\n<li><p>containers + images + registry</p>\n</li>\n<li><a id=\"more\"></a>\n<ul>\n<li>namespacepidnetipcmntuts</li>\n<li>control groups cpu</li>\n<li>union file systemscontainer image</li>\n</ul>\n</li>\n<li></li>\n</ol>\n<hr>\n<h2 id=\"docker-image\"><a href=\"#docker-image\" class=\"headerlink\" title=\"docker image\"></a>docker image</h2><ol>\n<li><p>image</p>\n<ul>\n<li>meta dataroot filesystem</li>\n<li>image</li>\n<li>imagelayer</li>\n<li>imageread only</li>\n<li>linuxdocker</li>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb# docker image ls</div><div class=\"line\">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</div><div class=\"line\">hello-world         latest              fce289e99eb9        5 months ago        1.84kB</div><div class=\"line\">root@swoole_dev:/home/tb# docker run centos</div><div class=\"line\">Unable to find image &apos;centos:latest&apos; locally</div><div class=\"line\">latest: Pulling from library/centos</div><div class=\"line\">8ba884070f61: Pull complete </div><div class=\"line\">Digest: sha256:ca58fe458b8d94bc6e3072f1cfbd334855858e05e1fd633aa07cf7f82b048e66</div><div class=\"line\">Status: Downloaded newer image for centos:latest</div><div class=\"line\">root@swoole_dev:/home/tb# docker image ls</div><div class=\"line\">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</div><div class=\"line\">centos              latest              9f38484d220f        3 months ago        202MB</div><div class=\"line\">hello-world         latest              fce289e99eb9        5 months ago        1.84kB</div></pre></td></tr></table></figure>\n</li>\n<li><p>centoslinux kernel</p>\n</li>\n<li><p>image</p>\n<ul>\n<li>dockerfilebuild<ul>\n<li>from ubuntu14.04 base kernel</li>\n<li>label </li>\n<li>run </li>\n<li>expose </li>\n<li>entrypoint</li>\n<li>docker build -t tongbo/redis: latest .,.</li>\n<li>buildid</li>\n</ul>\n</li>\n<li><p>pull from registry(github,dockerhub)</p>\n<ul>\n<li>docker pull ubuntu:14.04</li>\n<li>docker push to server</li>\n<li></li>\n<li>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb# docker pull redis:3.2</div><div class=\"line\">3.2: Pulling from library/redis</div><div class=\"line\">f17d81b4b692: Pull complete </div><div class=\"line\">b32474098757: Pull complete </div><div class=\"line\">8980cabe8bc2: Pull complete </div><div class=\"line\">58af19693e78: Pull complete </div><div class=\"line\">a977782cf22d: Pull complete </div><div class=\"line\">9c1e268980b7: Pull complete </div><div class=\"line\">Digest: sha256:43d2f5e7338ef56b3bda52f1ba7b9b58866c07141e834f64267afb51c89e5086</div><div class=\"line\">Status: Downloaded newer image for redis:3.2</div><div class=\"line\">root@swoole_dev:/home/tb# docker image ls</div><div class=\"line\">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</div><div class=\"line\">centos              latest              9f38484d220f        3 months ago        202MB</div><div class=\"line\">hello-world         latest              fce289e99eb9        5 months ago        1.84kB</div><div class=\"line\">redis               3.2                 87856cc39862        8 months ago        76MB</div><div class=\"line\">root@swoole_dev:/home/tb# docker search redis</div><div class=\"line\">NAME                             DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED</div><div class=\"line\">redis                            Redis is an open source key-value store that   7029                [OK]                </div><div class=\"line\">bitnami/redis                    Bitnami Redis Docker Image                      114</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>dockerhub</p>\n<ul>\n<li>offical</li>\n<li>pull/</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"base-image\"><a href=\"#base-image\" class=\"headerlink\" title=\"base image\"></a>base image</h2><ol>\n<li>u2devbase</li>\n<li>sudosudo groupadd docker sudo gpasswd -a vargant docker service docker restart</li>\n<li>hello-worldimage<ul>\n<li>tag</li>\n<li>digest</li>\n<li>status</li>\n<li>more ambitious<br>-  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div></pre></td><td class=\"code\"><pre><div class=\"line\"># dockerfile</div><div class=\"line\">FROM scratch #baseimage</div><div class=\"line\">ADD hello / #helloaddimage</div><div class=\"line\">CMD  [&quot;/hello&quot;] #</div><div class=\"line\"></div><div class=\"line\">#builddockerfile</div><div class=\"line\">@swoole_dev:/home/tb/my_docker_helloworld# docker build -t tongbo/hello_world .</div><div class=\"line\">Sending build context to Docker daemon  12.29kB</div><div class=\"line\">Step 1/3 : FROM scratch</div><div class=\"line\"> ---&gt; </div><div class=\"line\">Step 2/3 : ADD hello /</div><div class=\"line\"> ---&gt; b89e60e00ca1</div><div class=\"line\">Step 3/3 : CMD [&quot;/hello&quot;]</div><div class=\"line\"> ---&gt; Running in 13d1d20bd719</div><div class=\"line\">Removing intermediate container 13d1d20bd719</div><div class=\"line\"> ---&gt; 462eb2d91ad7</div><div class=\"line\">Successfully built 462eb2d91ad7</div><div class=\"line\">Successfully tagged tongbo/hello_world:latest</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# </div><div class=\"line\"></div><div class=\"line\">#build</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker image ls</div><div class=\"line\">REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE</div><div class=\"line\">tongbo/hello_world   latest              462eb2d91ad7        55 seconds ago      8.6kB</div><div class=\"line\">centos               latest              9f38484d220f        3 months ago        202MB</div><div class=\"line\">hello-world          latest              fce289e99eb9        5 months ago        1.84kB</div><div class=\"line\">redis                3.2                 87856cc39862        8 months ago        76MB</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# </div><div class=\"line\"></div><div class=\"line\"># from scratch</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker history 462eb2d91ad7</div><div class=\"line\">IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT</div><div class=\"line\">462eb2d91ad7        3 minutes ago       /bin/sh -c #(nop)  CMD [&quot;/hello&quot;]               0B                  </div><div class=\"line\">b89e60e00ca1        3 minutes ago       /bin/sh -c #(nop) ADD file:ab92082ce376d310a   8.6kB               </div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld#</div><div class=\"line\"></div><div class=\"line\"># build gcc -static,,====</div><div class=\"line\"># -static  gcc </div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker run tongbo/hello_world</div><div class=\"line\">standard_init_linux.go:207: exec user process caused &quot;no such file or directory</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# gcc -static hello.c -o hello</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker build -t tongbo/hello_world .</div><div class=\"line\">Sending build context to Docker daemon  916.5kB</div><div class=\"line\">Step 1/3 : FROM scratch</div><div class=\"line\"> ---&gt; </div><div class=\"line\">Step 2/3 : ADD hello /</div><div class=\"line\"> ---&gt; Using cache</div><div class=\"line\"> ---&gt; 11b009df24b2</div><div class=\"line\">Step 3/3 : CMD [&quot;/hello&quot;]</div><div class=\"line\"> ---&gt; Using cache</div><div class=\"line\"> ---&gt; 6c539eb137dd</div><div class=\"line\">Successfully built 6c539eb137dd</div><div class=\"line\">Successfully tagged tongbo/hello_world:latest</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker run tongbo/hello_world</div><div class=\"line\">hello,world,docker in c</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"container\"><a href=\"#container\" class=\"headerlink\" title=\"container\"></a>container</h2><ol>\n<li>containerimagecopy</li>\n<li>containerimagecontainer layer image</li>\n<li> imagecontainer</li>\n<li>imageappcontainer</li>\n<li><p>image container</p>\n<ul>\n<li>docker run image </li>\n<li>docker container ls</li>\n<li>docker container ls -a</li>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls -a</div><div class=\"line\">CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS                         PORTS               NAMES</div><div class=\"line\">51869bc1fcd5        tongbo/hello_world   &quot;/hello&quot;            7 minutes ago       Exited (0) 7 minutes ago                           happy_bardeen</div></pre></td></tr></table></figure>\n<ul>\n<li><p>docker run centos:runlatestpull,centos ==bin/bash,why==</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker run centos</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls </div><div class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls -a</div><div class=\"line\">CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS                         PORTS               NAMES</div><div class=\"line\">35f4015c37be        centos               &quot;/bin/bash&quot;         20 seconds ago      Exited (0) 18 seconds ago                          gallant_boyd</div><div class=\"line\">51869bc1fcd5        tongbo/hello_world   &quot;/hello&quot;            11 minutes ago      Exited (0) 11 minutes ago                          happy_bardeen</div></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<ul>\n<li>docker run -it centos<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 1ununtu</div><div class=\"line\">root@swoole_dev:/etc/docker# docker container ls</div><div class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div class=\"line\">29fae6a620a9        centos              &quot;/bin/bash&quot;         47 seconds ago      Up 46 seconds                           affectionate_meitner</div><div class=\"line\">root@swoole_dev:/etc/docker# docker container ls</div><div class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div class=\"line\">29fae6a620a9        centos              &quot;/bin/bash&quot;         51 seconds ago      Up 49 seconds                           affectionate_meitner</div><div class=\"line\">root@swoole_dev:/etc/docker# </div><div class=\"line\"># run -it  centos -iinteractive-ttty docker run --help</div><div class=\"line\">[root@29fae6a620a9 /]# cat /etc/redhat-release</div><div class=\"line\">CentOS Linux release 7.6.1810 (Core) </div><div class=\"line\">[root@29fae6a620a9 /]#</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>dockermanagement commandscommands</p>\n<ul>\n<li><p>Management Commands:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">builder     Manage builds</div><div class=\"line\">config      Manage Docker configs</div><div class=\"line\">container   Manage containers</div><div class=\"line\">engine      Manage the docker engine</div><div class=\"line\">image       Manage images</div><div class=\"line\">network     Manage networks</div><div class=\"line\">node        Manage Swarm nodes</div><div class=\"line\">plugin      Manage plugins</div><div class=\"line\">secret      Manage Docker secrets</div><div class=\"line\">service     Manage services</div><div class=\"line\">stack       Manage Docker stacks</div><div class=\"line\">swarm       Manage Swarm</div><div class=\"line\">system      Manage Docker</div><div class=\"line\">trust       Manage trust on Docker images</div><div class=\"line\">volume      Manage volumes</div></pre></td></tr></table></figure>\n</li>\n<li><p> </p>\n<ul>\n<li>docker rmi  imageid</li>\n<li>docker rm containerid</li>\n<li>docker ps -a container</li>\n<li>docker container ls -aq  container id</li>\n<li>docker rm $(docker container ls -aq) rmcontainer</li>\n<li>xargs grep awk </li>\n<li>docker container ls -f status=exited -q exitedcontainer</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"docker\"><a href=\"#docker\" class=\"headerlink\" title=\"docker\"></a>docker</h2><ol>\n<li>docker container commit<ul>\n<li>Usage:  docker container commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]] Create a new image from a containers changes</li>\n<li> docker commit</li>\n</ul>\n</li>\n<li>docker build<ul>\n<li>build an image from a dockerfile</li>\n</ul>\n</li>\n<li><p></p>\n<ol>\n<li>docker run -it centos</li>\n<li>yum install vim</li>\n<li>exit</li>\n<li>docker container ls -a |grep centos</li>\n<li>4centos vim</li>\n<li><code>docker container ls -a |grep centos\n0f5ccf1365eb        centos               &quot;/bin/bash&quot;         3 minutes ago       Exited (0) About a minute ago                       pedantic_gagarin</code></li>\n<li> <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb# docker commit pedantic_gagarin yaxiaomu/centos_add_vim:default_yaxiaomu_tag</div><div class=\"line\">sha256:3204e122d66ce500790269c1fed291842b6f18c34286647212d9293c9f56cb45</div><div class=\"line\">root@swoole_dev:/home/tb# docker image ls</div><div class=\"line\">REPOSITORY                TAG                    IMAGE ID            CREATED             SIZE</div><div class=\"line\">yaxiaomu/centos_add_vim   default_yaxiaomu_tag   3204e122d66c        10 seconds ago      361MB</div><div class=\"line\">tongbo/hello_world        latest                 6c539eb137dd        17 hours ago        913kB</div><div class=\"line\">centos                    latest                 9f38484d220f        3 months ago        202MB</div><div class=\"line\">redis                     3.2                    87856cc39862        8 months ago        76MB</div></pre></td></tr></table></figure>\n</li>\n<li><p>centoscentos_add_vimimagelayer:<code>9f38484d220f</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb# docker image ls</div><div class=\"line\">REPOSITORY                TAG                    IMAGE ID            CREATED             SIZE</div><div class=\"line\">yaxiaomu/centos_add_vim   default_yaxiaomu_tag   3204e122d66c        3 minutes ago       361MB</div><div class=\"line\">tongbo/hello_world        latest                 6c539eb137dd        17 hours ago        913kB</div><div class=\"line\">centos                    latest                 9f38484d220f        3 months ago        202MB</div><div class=\"line\">redis                     3.2                    87856cc39862        8 months ago        76MB</div><div class=\"line\">root@swoole_dev:/home/tb# docker history 9f38484d220f</div><div class=\"line\">IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT</div><div class=\"line\">9f38484d220f        3 months ago        /bin/sh -c #(nop)  CMD [&quot;/bin/bash&quot;]            0B                  </div><div class=\"line\">&lt;missing&gt;           3 months ago        /bin/sh -c #(nop)  LABEL org.label-schema.sc   0B                  </div><div class=\"line\">&lt;missing&gt;           3 months ago        /bin/sh -c #(nop) ADD file:074f2c974463ab38c   202MB               </div><div class=\"line\">root@swoole_dev:/home/tb# docker history 3204e122d66c</div><div class=\"line\">IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT</div><div class=\"line\">3204e122d66c        3 minutes ago       /bin/bash                                       160MB               </div><div class=\"line\">9f38484d220f        3 months ago        /bin/sh -c #(nop)  CMD [&quot;/bin/bash&quot;]            0B                  </div><div class=\"line\">&lt;missing&gt;           3 months ago        /bin/sh -c #(nop)  LABEL org.label-schema.sc   0B                  </div><div class=\"line\">&lt;missing&gt;           3 months ago        /bin/sh -c #(nop) ADD file:074f2c974463ab38c   202MB</div></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>dockerfilebuild</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">#docker imageyumimage</div><div class=\"line\"># containercommit</div><div class=\"line\">    root@swoole_dev:/home/tb/docker-centos-vim# docker build -t tongbo/centos_add_vim . </div><div class=\"line\">Sending build context to Docker daemon  2.048kB</div><div class=\"line\">Step 1/2 : FROM centos</div><div class=\"line\"> ---&gt; 9f38484d220f</div><div class=\"line\">Step 2/2 : RUN yum install -y vim</div><div class=\"line\"> ---&gt; Running in 67aeb36048ff</div><div class=\"line\">Loaded plugins: fastestmirror, ovl</div><div class=\"line\">...</div><div class=\"line\">    Complete!</div><div class=\"line\">Removing intermediate container 67aeb36048ff</div><div class=\"line\"> ---&gt; 907325d6fc6b</div><div class=\"line\">Successfully built 907325d6fc6b</div><div class=\"line\">Successfully tagged tongbo/centos_add_vim:latest</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"dockerfile\"><a href=\"#dockerfile\" class=\"headerlink\" title=\"dockerfile\"></a>dockerfile</h2><ol>\n<li>FROM [scratch centos ubuntu:14:04] #|base image<ul>\n<li>image</li>\n</ul>\n</li>\n<li>LABEL metadata autohr verison description</li>\n<li>RUN yum install |apt-get update(layer&amp;&amp;\\)</li>\n<li>workdir /root |demo |pwd()</li>\n<li>ADDimage<ul>\n<li>ADD test.tar.gz/ # </li>\n</ul>\n</li>\n<li>COPY copycurl wget</li>\n<li><p>ENV mysql_version 5.6 # ,  </p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">ENV MYSQL_VERSION 5.6 </div><div class=\"line\">RUN apt-get instlal -y mysql-server= &quot;$&#123;MYSSQL_VERSION&#125;&quot; \\</div><div class=\"line\">&amp;&amp; rm -rf /var/lib/apt/lists/*</div></pre></td></tr></table></figure>\n</li>\n<li><p>volume rescource</p>\n</li>\n<li>CMD and entrypoint</li>\n<li><a href=\"https://github.com/docker-library/docs/tree/master/mysql\" target=\"_blank\" rel=\"external\">docker-library on github</a> <a href=\"https://docs.docker.com/reference/\" target=\"_blank\" rel=\"external\">reference</a></li>\n</ol>\n<h2 id=\"run-vs-cmd-vs-encrypoint\"><a href=\"#run-vs-cmd-vs-encrypoint\" class=\"headerlink\" title=\"run vs cmd vs encrypoint\"></a>run vs cmd vs encrypoint</h2><ol>\n<li>runimage layer</li>\n<li><p>cmd</p>\n<ul>\n<li>docker runcmd<ul>\n<li>docker run -it [image] /bin/bash</li>\n</ul>\n</li>\n<li>cmd</li>\n</ul>\n</li>\n<li><p>entrypoint</p>\n<ul>\n<li>cmd</li>\n<li></li>\n<li>shellentrypoint<br>  - </li>\n</ul>\n</li>\n<li><ul>\n<li>shell run echo hello</li>\n<li>exec [/bin/echo,hello]</li>\n<li>exec<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">FROM centos</div><div class=\"line\">EVN name Docker</div><div class=\"line\">ENTRYPOIN [&quot;/bin/bash&quot;,&quot;-c&quot;,&quot;echo hello $name&quot;]</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"image\"><a href=\"#image\" class=\"headerlink\" title=\"image\"></a>image</h2><ol>\n<li><p>dockerhub</p>\n<ul>\n<li>docker login</li>\n<li>docker image push <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker push yaxiaomu/hello_world:latest</div><div class=\"line\">The push refers to repository [docker.io/yaxiaomu/hello_world]</div><div class=\"line\">096f9105d9f4: Pushed </div><div class=\"line\">latest: digest: sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934 size: 527</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# </div><div class=\"line\"># imagedockerid</div><div class=\"line\">denied: requested access to the resource is denied</div><div class=\"line\"># docker hubpull</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker run yaxiaomu/hello_world</div><div class=\"line\">hello,world,docker in c</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker rm yaxiaomu/hello_world</div><div class=\"line\">Error: No such container: yaxiaomu/hello_world</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker rmi yaxiaomu/hello_world</div><div class=\"line\">Untagged: yaxiaomu/hello_world:latest</div><div class=\"line\">Untagged: yaxiaomu/hello_world@sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker run yaxiaomu/hello_world</div><div class=\"line\">Unable to find image &apos;yaxiaomu/hello_world:latest&apos; locally</div><div class=\"line\">latest: Pulling from yaxiaomu/hello_world</div><div class=\"line\">Digest: sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934</div><div class=\"line\">Status: Downloaded newer image for yaxiaomu/hello_world:latest</div><div class=\"line\">hello,world,docker in c</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld#</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>imageDockerfile</p>\n<ul>\n<li>githubdockerfilebuild</li>\n<li><a href=\"https://hub.docker.com/_/registry\" target=\"_blank\" rel=\"external\"></a>docker run -d -p 5000:5000 restart always name registry registry:2 <ul>\n<li>docker built -t serverip:port/name:tag</li>\n<li>/etc/docker/daemon.json deamon.json, insecure-registries: ip :</li>\n<li> root@swoole_dev:/etc/init.d# vim  /lib/systemd/system/docker.service,EnvironmentFile=/etc/docker/daemon.json</li>\n<li>docker service docker restart</li>\n<li>docker registry api  http</li>\n<li>segmentfault</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h2 id=\"dockerfile\"><a href=\"#dockerfile\" class=\"headerlink\" title=\"dockerfile\"></a>dockerfile</h2><hr>\n<ol>\n<li>flask demopythonimagecontainer<ul>\n<li>pyhtonbase image</li>\n<li>flask</li>\n<li>app</li>\n</ul>\n</li>\n<li><p></p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb/flask_demo# more app.py </div><div class=\"line\">## app.py</div><div class=\"line\">from flask import Flask</div><div class=\"line\">app = Flask(__name__)</div><div class=\"line\">@app.route(&apos;/&apos;)</div><div class=\"line\">def hello():</div><div class=\"line\">    return &quot;hello,tb de docker&quot;</div><div class=\"line\">if __name__ == &apos;__main__&apos;:</div><div class=\"line\">    app.run()</div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\">apt-get install python-minimal</div><div class=\"line\">apt install python-pip</div><div class=\"line\">pip install flask</div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\">   root@swoole_dev:/home/tb/flask_demo# python app.py </div><div class=\"line\"> * Serving Flask app &quot;app&quot; (lazy loading)</div><div class=\"line\"> * Environment: production</div><div class=\"line\">   WARNING: This is a development server. Do not use it in a production deployment.</div><div class=\"line\">   Use a production WSGI server instead.</div><div class=\"line\"> * Debug mode: off</div><div class=\"line\"> * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)</div><div class=\"line\">   127.0.0.1 - - [22/Jun/2019 21:00:05] &quot;GET / HTTP/1.1&quot; 200 -</div><div class=\"line\"></div><div class=\"line\">#dockerfile ,cppy app.py</div><div class=\"line\">FROM python:2.7</div><div class=\"line\">LABEL maintainer=&quot;tongbo&lt;demo.com@126.com&gt;&quot;</div><div class=\"line\">RUN pip install flask</div><div class=\"line\">COPY app.py /app/</div><div class=\"line\">WORKDIR /app</div><div class=\"line\">EXPOSE 5000</div><div class=\"line\">CMD [&quot;pyhton&quot;,&quot;app.py&quot;]</div><div class=\"line\"></div><div class=\"line\"># build</div><div class=\"line\">root@swoole_dev:/home/tb/flask_hello_world# docker build -t yaxiaomu/flask_demo:latest .</div><div class=\"line\">Sending build context to Docker daemon  3.072kB</div><div class=\"line\">Step 1/7 : FROM python:2.7</div><div class=\"line\"> ---&gt; 37093962fbf5</div><div class=\"line\">Step 2/7 : LABEL maintainer=&quot;tongbo&lt;demo.com@126.com&gt;&quot;</div><div class=\"line\"> ---&gt; Using cache</div><div class=\"line\"> ---&gt; c4ac0caa5aab</div><div class=\"line\">Step 3/7 : RUN pip install flask</div><div class=\"line\"> ---&gt; Using cache</div><div class=\"line\"> ---&gt; 60c7e35f23a3</div><div class=\"line\">Step 4/7 : COPY app.py /app/</div><div class=\"line\"> ---&gt; a7a69c1da0b6</div><div class=\"line\">Step 5/7 : WORKDIR /app</div><div class=\"line\"> ---&gt; Running in 2122fe24efd6</div><div class=\"line\">Removing intermediate container 2122fe24efd6</div><div class=\"line\"> ---&gt; f6b586c33cbc</div><div class=\"line\">Step 6/7 : EXPOSE 5000</div><div class=\"line\"> ---&gt; Running in e368df4c5205</div><div class=\"line\">Removing intermediate container e368df4c5205</div><div class=\"line\"> ---&gt; 6a7e1858c5e7</div><div class=\"line\">Step 7/7 : CMD [&quot;pyhton&quot;,&quot;app.py&quot;]</div><div class=\"line\"> ---&gt; Running in e8c96756cc9e</div><div class=\"line\">Removing intermediate container e8c96756cc9e</div><div class=\"line\"> ---&gt; c37bb4c557da</div><div class=\"line\">Successfully built c37bb4c557da</div><div class=\"line\">Successfully tagged yaxiaomu/flask_demo:latest</div><div class=\"line\"></div><div class=\"line\">## container</div><div class=\"line\">root@swoole_dev:/home/tb/flask_hello_world# docker run  yaxiaomu/flask_demo</div><div class=\"line\">docker: Error response from daemon: OCI runtime create failed: container_linux.go:345: starting container process caused &quot;exec: \\&quot;pyhton\\&quot;: executable file not found in $PATH&quot;: unknown.</div><div class=\"line\">ERRO[0000] error waiting for container: context canceled</div></pre></td></tr></table></figure>\n</li>\n<li><p>debug</p>\n<ul>\n<li>imageimage id/bin/bash</li>\n<li>docker run it imageid /bin/bash</li>\n<li>cd .. &amp;&amp; begin your debug</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb/flask_hello_world# docker run -it c37bb4c557da /bin/bash</div><div class=\"line\">root@a972581ff13e:/app#</div><div class=\"line\">root@a972581ff13e:/app# python app.py </div><div class=\"line\"> * Serving Flask app &quot;app&quot; (lazy loading)</div><div class=\"line\"> * Environment: production</div><div class=\"line\">   WARNING: This is a development server. Do not use it in a production deployment.</div><div class=\"line\">   Use a production WSGI server instead.</div><div class=\"line\"> * Debug mode: off</div><div class=\"line\"> * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)</div><div class=\"line\"> ## pythonpyhtondockerfile</div><div class=\"line\">  </div><div class=\"line\">  root@swoole_dev:/home/tb/flask_hello_world# docker run  yaxiaomu/flask_demo </div><div class=\"line\"> * Serving Flask app &quot;app&quot; (lazy loading)</div><div class=\"line\"> * Environment: production</div><div class=\"line\">   WARNING: This is a development server. Do not use it in a production deployment.</div><div class=\"line\">   Use a production WSGI server instead.</div><div class=\"line\"> * Debug mode: off</div><div class=\"line\"> * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)</div><div class=\"line\"> ##  docker run -d,--name </div><div class=\"line\"> root@swoole_dev:/home/tb/flask_hello_world# docker run -d --name tb_demo yaxiaomu/flask_demo</div><div class=\"line\"> e7841af659ab469f598151b0f43c1333a77a52c6610d6894a5dfbec887d6848e</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><code>docker container stop 664f2033265b | docker stop 664\n664f2033265b\n[1]+  Exit 137                docker run yaxiaomu/flask_demo</code></li>\n<li><code>root@swoole_dev:/home/tb/flask_hello_world# docker exec -it e7841af659ab /bin/bash\nroot@e7841af659ab:/app#</code></li>\n<li>docker exec -it e7841af659ab ip a</li>\n<li>docker rm $(docker ps -aq)</li>\n<li>docker start|stop demo</li>\n<li>docker inspect containerId # </li>\n<li>docker container logs containerid</li>\n<li>docker container commands</li>\n</ol>\n<h2 id=\"dockerfile2\"><a href=\"#dockerfile2\" class=\"headerlink\" title=\"dockerfile2\"></a>dockerfile2</h2><ol>\n<li>stress</li>\n<li>apt-get install stress</li>\n<li> cpu</li>\n<li>dockercpu <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">FROM UBUNTU</div><div class=\"line\">RUN apt-get update &amp;&amp; apt-get install -y stress</div><div class=\"line\">ENTRYPOINT [&quot;usr/bin/stress&quot;]</div><div class=\"line\">CMD </div><div class=\"line\"></div><div class=\"line\">## </div><div class=\"line\">docker run -it yaxiaomu/ubuntu_stress --vm 1 --verbose</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>- virtualbox</li>\n<li>-m memory swap memory</li>\n<li>-c cpu shares relate weight,</li>\n<li>docker run cpu-shares=5 name=test2 cpu1</li>\n<li>docker run cpu-shares=10 name=test3 cpu1</li>\n<li>control groupslayerunion file system</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2>","site":{"data":{}},"excerpt":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>appdocker engine</li>\n<li><p>dockerd+rest api server+clidockercs<br>3.docker version</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"> client:</div><div class=\"line\"> Version:           18.09.6</div><div class=\"line\"> API version:       1.39</div><div class=\"line\"> Go version:        go1.10.8</div><div class=\"line\"> Git commit:        481bc77</div><div class=\"line\"> Built:             Sat May  4 02:35:27 2019</div><div class=\"line\"> OS/Arch:           linux/amd64</div><div class=\"line\"> Experimental:      false</div><div class=\"line\"></div><div class=\"line\">Server: Docker Engine - Community</div><div class=\"line\"> Engine:</div><div class=\"line\">  Version:          18.09.6</div><div class=\"line\">  API version:      1.39 (minimum version 1.12)</div><div class=\"line\">  Go version:       go1.10.8</div><div class=\"line\">  Git commit:       481bc77</div><div class=\"line\">  Built:            Sat May  4 01:59:36 2019</div><div class=\"line\">  OS/Arch:          linux/amd64</div><div class=\"line\">  Experimental:     false</div></pre></td></tr></table></figure>\n</li>\n<li><p>containers + images + registry</p>\n</li>\n<li>","more":"<ul>\n<li>namespacepidnetipcmntuts</li>\n<li>control groups cpu</li>\n<li>union file systemscontainer image</li>\n</ul>\n</li>\n<li></li>\n</ol>\n<hr>\n<h2 id=\"docker-image\"><a href=\"#docker-image\" class=\"headerlink\" title=\"docker image\"></a>docker image</h2><ol>\n<li><p>image</p>\n<ul>\n<li>meta dataroot filesystem</li>\n<li>image</li>\n<li>imagelayer</li>\n<li>imageread only</li>\n<li>linuxdocker</li>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb# docker image ls</div><div class=\"line\">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</div><div class=\"line\">hello-world         latest              fce289e99eb9        5 months ago        1.84kB</div><div class=\"line\">root@swoole_dev:/home/tb# docker run centos</div><div class=\"line\">Unable to find image &apos;centos:latest&apos; locally</div><div class=\"line\">latest: Pulling from library/centos</div><div class=\"line\">8ba884070f61: Pull complete </div><div class=\"line\">Digest: sha256:ca58fe458b8d94bc6e3072f1cfbd334855858e05e1fd633aa07cf7f82b048e66</div><div class=\"line\">Status: Downloaded newer image for centos:latest</div><div class=\"line\">root@swoole_dev:/home/tb# docker image ls</div><div class=\"line\">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</div><div class=\"line\">centos              latest              9f38484d220f        3 months ago        202MB</div><div class=\"line\">hello-world         latest              fce289e99eb9        5 months ago        1.84kB</div></pre></td></tr></table></figure>\n</li>\n<li><p>centoslinux kernel</p>\n</li>\n<li><p>image</p>\n<ul>\n<li>dockerfilebuild<ul>\n<li>from ubuntu14.04 base kernel</li>\n<li>label </li>\n<li>run </li>\n<li>expose </li>\n<li>entrypoint</li>\n<li>docker build -t tongbo/redis: latest .,.</li>\n<li>buildid</li>\n</ul>\n</li>\n<li><p>pull from registry(github,dockerhub)</p>\n<ul>\n<li>docker pull ubuntu:14.04</li>\n<li>docker push to server</li>\n<li></li>\n<li>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb# docker pull redis:3.2</div><div class=\"line\">3.2: Pulling from library/redis</div><div class=\"line\">f17d81b4b692: Pull complete </div><div class=\"line\">b32474098757: Pull complete </div><div class=\"line\">8980cabe8bc2: Pull complete </div><div class=\"line\">58af19693e78: Pull complete </div><div class=\"line\">a977782cf22d: Pull complete </div><div class=\"line\">9c1e268980b7: Pull complete </div><div class=\"line\">Digest: sha256:43d2f5e7338ef56b3bda52f1ba7b9b58866c07141e834f64267afb51c89e5086</div><div class=\"line\">Status: Downloaded newer image for redis:3.2</div><div class=\"line\">root@swoole_dev:/home/tb# docker image ls</div><div class=\"line\">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</div><div class=\"line\">centos              latest              9f38484d220f        3 months ago        202MB</div><div class=\"line\">hello-world         latest              fce289e99eb9        5 months ago        1.84kB</div><div class=\"line\">redis               3.2                 87856cc39862        8 months ago        76MB</div><div class=\"line\">root@swoole_dev:/home/tb# docker search redis</div><div class=\"line\">NAME                             DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED</div><div class=\"line\">redis                            Redis is an open source key-value store that   7029                [OK]                </div><div class=\"line\">bitnami/redis                    Bitnami Redis Docker Image                      114</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>dockerhub</p>\n<ul>\n<li>offical</li>\n<li>pull/</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"base-image\"><a href=\"#base-image\" class=\"headerlink\" title=\"base image\"></a>base image</h2><ol>\n<li>u2devbase</li>\n<li>sudosudo groupadd docker sudo gpasswd -a vargant docker service docker restart</li>\n<li>hello-worldimage<ul>\n<li>tag</li>\n<li>digest</li>\n<li>status</li>\n<li>more ambitious<br>-  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div></pre></td><td class=\"code\"><pre><div class=\"line\"># dockerfile</div><div class=\"line\">FROM scratch #baseimage</div><div class=\"line\">ADD hello / #helloaddimage</div><div class=\"line\">CMD  [&quot;/hello&quot;] #</div><div class=\"line\"></div><div class=\"line\">#builddockerfile</div><div class=\"line\">@swoole_dev:/home/tb/my_docker_helloworld# docker build -t tongbo/hello_world .</div><div class=\"line\">Sending build context to Docker daemon  12.29kB</div><div class=\"line\">Step 1/3 : FROM scratch</div><div class=\"line\"> ---&gt; </div><div class=\"line\">Step 2/3 : ADD hello /</div><div class=\"line\"> ---&gt; b89e60e00ca1</div><div class=\"line\">Step 3/3 : CMD [&quot;/hello&quot;]</div><div class=\"line\"> ---&gt; Running in 13d1d20bd719</div><div class=\"line\">Removing intermediate container 13d1d20bd719</div><div class=\"line\"> ---&gt; 462eb2d91ad7</div><div class=\"line\">Successfully built 462eb2d91ad7</div><div class=\"line\">Successfully tagged tongbo/hello_world:latest</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# </div><div class=\"line\"></div><div class=\"line\">#build</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker image ls</div><div class=\"line\">REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE</div><div class=\"line\">tongbo/hello_world   latest              462eb2d91ad7        55 seconds ago      8.6kB</div><div class=\"line\">centos               latest              9f38484d220f        3 months ago        202MB</div><div class=\"line\">hello-world          latest              fce289e99eb9        5 months ago        1.84kB</div><div class=\"line\">redis                3.2                 87856cc39862        8 months ago        76MB</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# </div><div class=\"line\"></div><div class=\"line\"># from scratch</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker history 462eb2d91ad7</div><div class=\"line\">IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT</div><div class=\"line\">462eb2d91ad7        3 minutes ago       /bin/sh -c #(nop)  CMD [&quot;/hello&quot;]               0B                  </div><div class=\"line\">b89e60e00ca1        3 minutes ago       /bin/sh -c #(nop) ADD file:ab92082ce376d310a   8.6kB               </div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld#</div><div class=\"line\"></div><div class=\"line\"># build gcc -static,,====</div><div class=\"line\"># -static  gcc </div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker run tongbo/hello_world</div><div class=\"line\">standard_init_linux.go:207: exec user process caused &quot;no such file or directory</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# gcc -static hello.c -o hello</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker build -t tongbo/hello_world .</div><div class=\"line\">Sending build context to Docker daemon  916.5kB</div><div class=\"line\">Step 1/3 : FROM scratch</div><div class=\"line\"> ---&gt; </div><div class=\"line\">Step 2/3 : ADD hello /</div><div class=\"line\"> ---&gt; Using cache</div><div class=\"line\"> ---&gt; 11b009df24b2</div><div class=\"line\">Step 3/3 : CMD [&quot;/hello&quot;]</div><div class=\"line\"> ---&gt; Using cache</div><div class=\"line\"> ---&gt; 6c539eb137dd</div><div class=\"line\">Successfully built 6c539eb137dd</div><div class=\"line\">Successfully tagged tongbo/hello_world:latest</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker run tongbo/hello_world</div><div class=\"line\">hello,world,docker in c</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"container\"><a href=\"#container\" class=\"headerlink\" title=\"container\"></a>container</h2><ol>\n<li>containerimagecopy</li>\n<li>containerimagecontainer layer image</li>\n<li> imagecontainer</li>\n<li>imageappcontainer</li>\n<li><p>image container</p>\n<ul>\n<li>docker run image </li>\n<li>docker container ls</li>\n<li>docker container ls -a</li>\n<li><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls -a</div><div class=\"line\">CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS                         PORTS               NAMES</div><div class=\"line\">51869bc1fcd5        tongbo/hello_world   &quot;/hello&quot;            7 minutes ago       Exited (0) 7 minutes ago                           happy_bardeen</div></pre></td></tr></table></figure>\n<ul>\n<li><p>docker run centos:runlatestpull,centos ==bin/bash,why==</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker run centos</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls </div><div class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker container ls -a</div><div class=\"line\">CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS                         PORTS               NAMES</div><div class=\"line\">35f4015c37be        centos               &quot;/bin/bash&quot;         20 seconds ago      Exited (0) 18 seconds ago                          gallant_boyd</div><div class=\"line\">51869bc1fcd5        tongbo/hello_world   &quot;/hello&quot;            11 minutes ago      Exited (0) 11 minutes ago                          happy_bardeen</div></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<ul>\n<li>docker run -it centos<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 1ununtu</div><div class=\"line\">root@swoole_dev:/etc/docker# docker container ls</div><div class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div class=\"line\">29fae6a620a9        centos              &quot;/bin/bash&quot;         47 seconds ago      Up 46 seconds                           affectionate_meitner</div><div class=\"line\">root@swoole_dev:/etc/docker# docker container ls</div><div class=\"line\">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div class=\"line\">29fae6a620a9        centos              &quot;/bin/bash&quot;         51 seconds ago      Up 49 seconds                           affectionate_meitner</div><div class=\"line\">root@swoole_dev:/etc/docker# </div><div class=\"line\"># run -it  centos -iinteractive-ttty docker run --help</div><div class=\"line\">[root@29fae6a620a9 /]# cat /etc/redhat-release</div><div class=\"line\">CentOS Linux release 7.6.1810 (Core) </div><div class=\"line\">[root@29fae6a620a9 /]#</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>dockermanagement commandscommands</p>\n<ul>\n<li><p>Management Commands:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">builder     Manage builds</div><div class=\"line\">config      Manage Docker configs</div><div class=\"line\">container   Manage containers</div><div class=\"line\">engine      Manage the docker engine</div><div class=\"line\">image       Manage images</div><div class=\"line\">network     Manage networks</div><div class=\"line\">node        Manage Swarm nodes</div><div class=\"line\">plugin      Manage plugins</div><div class=\"line\">secret      Manage Docker secrets</div><div class=\"line\">service     Manage services</div><div class=\"line\">stack       Manage Docker stacks</div><div class=\"line\">swarm       Manage Swarm</div><div class=\"line\">system      Manage Docker</div><div class=\"line\">trust       Manage trust on Docker images</div><div class=\"line\">volume      Manage volumes</div></pre></td></tr></table></figure>\n</li>\n<li><p> </p>\n<ul>\n<li>docker rmi  imageid</li>\n<li>docker rm containerid</li>\n<li>docker ps -a container</li>\n<li>docker container ls -aq  container id</li>\n<li>docker rm $(docker container ls -aq) rmcontainer</li>\n<li>xargs grep awk </li>\n<li>docker container ls -f status=exited -q exitedcontainer</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"docker\"><a href=\"#docker\" class=\"headerlink\" title=\"docker\"></a>docker</h2><ol>\n<li>docker container commit<ul>\n<li>Usage:  docker container commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]] Create a new image from a containers changes</li>\n<li> docker commit</li>\n</ul>\n</li>\n<li>docker build<ul>\n<li>build an image from a dockerfile</li>\n</ul>\n</li>\n<li><p></p>\n<ol>\n<li>docker run -it centos</li>\n<li>yum install vim</li>\n<li>exit</li>\n<li>docker container ls -a |grep centos</li>\n<li>4centos vim</li>\n<li><code>docker container ls -a |grep centos\n0f5ccf1365eb        centos               &quot;/bin/bash&quot;         3 minutes ago       Exited (0) About a minute ago                       pedantic_gagarin</code></li>\n<li> <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb# docker commit pedantic_gagarin yaxiaomu/centos_add_vim:default_yaxiaomu_tag</div><div class=\"line\">sha256:3204e122d66ce500790269c1fed291842b6f18c34286647212d9293c9f56cb45</div><div class=\"line\">root@swoole_dev:/home/tb# docker image ls</div><div class=\"line\">REPOSITORY                TAG                    IMAGE ID            CREATED             SIZE</div><div class=\"line\">yaxiaomu/centos_add_vim   default_yaxiaomu_tag   3204e122d66c        10 seconds ago      361MB</div><div class=\"line\">tongbo/hello_world        latest                 6c539eb137dd        17 hours ago        913kB</div><div class=\"line\">centos                    latest                 9f38484d220f        3 months ago        202MB</div><div class=\"line\">redis                     3.2                    87856cc39862        8 months ago        76MB</div></pre></td></tr></table></figure>\n</li>\n<li><p>centoscentos_add_vimimagelayer:<code>9f38484d220f</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb# docker image ls</div><div class=\"line\">REPOSITORY                TAG                    IMAGE ID            CREATED             SIZE</div><div class=\"line\">yaxiaomu/centos_add_vim   default_yaxiaomu_tag   3204e122d66c        3 minutes ago       361MB</div><div class=\"line\">tongbo/hello_world        latest                 6c539eb137dd        17 hours ago        913kB</div><div class=\"line\">centos                    latest                 9f38484d220f        3 months ago        202MB</div><div class=\"line\">redis                     3.2                    87856cc39862        8 months ago        76MB</div><div class=\"line\">root@swoole_dev:/home/tb# docker history 9f38484d220f</div><div class=\"line\">IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT</div><div class=\"line\">9f38484d220f        3 months ago        /bin/sh -c #(nop)  CMD [&quot;/bin/bash&quot;]            0B                  </div><div class=\"line\">&lt;missing&gt;           3 months ago        /bin/sh -c #(nop)  LABEL org.label-schema.sc   0B                  </div><div class=\"line\">&lt;missing&gt;           3 months ago        /bin/sh -c #(nop) ADD file:074f2c974463ab38c   202MB               </div><div class=\"line\">root@swoole_dev:/home/tb# docker history 3204e122d66c</div><div class=\"line\">IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT</div><div class=\"line\">3204e122d66c        3 minutes ago       /bin/bash                                       160MB               </div><div class=\"line\">9f38484d220f        3 months ago        /bin/sh -c #(nop)  CMD [&quot;/bin/bash&quot;]            0B                  </div><div class=\"line\">&lt;missing&gt;           3 months ago        /bin/sh -c #(nop)  LABEL org.label-schema.sc   0B                  </div><div class=\"line\">&lt;missing&gt;           3 months ago        /bin/sh -c #(nop) ADD file:074f2c974463ab38c   202MB</div></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>dockerfilebuild</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">#docker imageyumimage</div><div class=\"line\"># containercommit</div><div class=\"line\">    root@swoole_dev:/home/tb/docker-centos-vim# docker build -t tongbo/centos_add_vim . </div><div class=\"line\">Sending build context to Docker daemon  2.048kB</div><div class=\"line\">Step 1/2 : FROM centos</div><div class=\"line\"> ---&gt; 9f38484d220f</div><div class=\"line\">Step 2/2 : RUN yum install -y vim</div><div class=\"line\"> ---&gt; Running in 67aeb36048ff</div><div class=\"line\">Loaded plugins: fastestmirror, ovl</div><div class=\"line\">...</div><div class=\"line\">    Complete!</div><div class=\"line\">Removing intermediate container 67aeb36048ff</div><div class=\"line\"> ---&gt; 907325d6fc6b</div><div class=\"line\">Successfully built 907325d6fc6b</div><div class=\"line\">Successfully tagged tongbo/centos_add_vim:latest</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"dockerfile\"><a href=\"#dockerfile\" class=\"headerlink\" title=\"dockerfile\"></a>dockerfile</h2><ol>\n<li>FROM [scratch centos ubuntu:14:04] #|base image<ul>\n<li>image</li>\n</ul>\n</li>\n<li>LABEL metadata autohr verison description</li>\n<li>RUN yum install |apt-get update(layer&amp;&amp;\\)</li>\n<li>workdir /root |demo |pwd()</li>\n<li>ADDimage<ul>\n<li>ADD test.tar.gz/ # </li>\n</ul>\n</li>\n<li>COPY copycurl wget</li>\n<li><p>ENV mysql_version 5.6 # ,  </p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">ENV MYSQL_VERSION 5.6 </div><div class=\"line\">RUN apt-get instlal -y mysql-server= &quot;$&#123;MYSSQL_VERSION&#125;&quot; \\</div><div class=\"line\">&amp;&amp; rm -rf /var/lib/apt/lists/*</div></pre></td></tr></table></figure>\n</li>\n<li><p>volume rescource</p>\n</li>\n<li>CMD and entrypoint</li>\n<li><a href=\"https://github.com/docker-library/docs/tree/master/mysql\">docker-library on github</a> <a href=\"https://docs.docker.com/reference/\">reference</a></li>\n</ol>\n<h2 id=\"run-vs-cmd-vs-encrypoint\"><a href=\"#run-vs-cmd-vs-encrypoint\" class=\"headerlink\" title=\"run vs cmd vs encrypoint\"></a>run vs cmd vs encrypoint</h2><ol>\n<li>runimage layer</li>\n<li><p>cmd</p>\n<ul>\n<li>docker runcmd<ul>\n<li>docker run -it [image] /bin/bash</li>\n</ul>\n</li>\n<li>cmd</li>\n</ul>\n</li>\n<li><p>entrypoint</p>\n<ul>\n<li>cmd</li>\n<li></li>\n<li>shellentrypoint<br>  - </li>\n</ul>\n</li>\n<li><ul>\n<li>shell run echo hello</li>\n<li>exec [/bin/echo,hello]</li>\n<li>exec<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">FROM centos</div><div class=\"line\">EVN name Docker</div><div class=\"line\">ENTRYPOIN [&quot;/bin/bash&quot;,&quot;-c&quot;,&quot;echo hello $name&quot;]</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"image\"><a href=\"#image\" class=\"headerlink\" title=\"image\"></a>image</h2><ol>\n<li><p>dockerhub</p>\n<ul>\n<li>docker login</li>\n<li>docker image push <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker push yaxiaomu/hello_world:latest</div><div class=\"line\">The push refers to repository [docker.io/yaxiaomu/hello_world]</div><div class=\"line\">096f9105d9f4: Pushed </div><div class=\"line\">latest: digest: sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934 size: 527</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# </div><div class=\"line\"># imagedockerid</div><div class=\"line\">denied: requested access to the resource is denied</div><div class=\"line\"># docker hubpull</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker run yaxiaomu/hello_world</div><div class=\"line\">hello,world,docker in c</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker rm yaxiaomu/hello_world</div><div class=\"line\">Error: No such container: yaxiaomu/hello_world</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker rmi yaxiaomu/hello_world</div><div class=\"line\">Untagged: yaxiaomu/hello_world:latest</div><div class=\"line\">Untagged: yaxiaomu/hello_world@sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld# docker run yaxiaomu/hello_world</div><div class=\"line\">Unable to find image &apos;yaxiaomu/hello_world:latest&apos; locally</div><div class=\"line\">latest: Pulling from yaxiaomu/hello_world</div><div class=\"line\">Digest: sha256:dc9c69395640d5fd7cb9e4f8bd2bdbf788b206a59e942a2a40577d9b1c089934</div><div class=\"line\">Status: Downloaded newer image for yaxiaomu/hello_world:latest</div><div class=\"line\">hello,world,docker in c</div><div class=\"line\">root@swoole_dev:/home/tb/my_docker_helloworld#</div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>imageDockerfile</p>\n<ul>\n<li>githubdockerfilebuild</li>\n<li><a href=\"https://hub.docker.com/_/registry\"></a>docker run -d -p 5000:5000 restart always name registry registry:2 <ul>\n<li>docker built -t serverip:port/name:tag</li>\n<li>/etc/docker/daemon.json deamon.json, insecure-registries: ip :</li>\n<li> root@swoole_dev:/etc/init.d# vim  /lib/systemd/system/docker.service,EnvironmentFile=/etc/docker/daemon.json</li>\n<li>docker service docker restart</li>\n<li>docker registry api  http</li>\n<li>segmentfault</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h2 id=\"dockerfile\"><a href=\"#dockerfile\" class=\"headerlink\" title=\"dockerfile\"></a>dockerfile</h2><hr>\n<ol>\n<li>flask demopythonimagecontainer<ul>\n<li>pyhtonbase image</li>\n<li>flask</li>\n<li>app</li>\n</ul>\n</li>\n<li><p></p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb/flask_demo# more app.py </div><div class=\"line\">## app.py</div><div class=\"line\">from flask import Flask</div><div class=\"line\">app = Flask(__name__)</div><div class=\"line\">@app.route(&apos;/&apos;)</div><div class=\"line\">def hello():</div><div class=\"line\">    return &quot;hello,tb de docker&quot;</div><div class=\"line\">if __name__ == &apos;__main__&apos;:</div><div class=\"line\">    app.run()</div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\">apt-get install python-minimal</div><div class=\"line\">apt install python-pip</div><div class=\"line\">pip install flask</div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\">   root@swoole_dev:/home/tb/flask_demo# python app.py </div><div class=\"line\"> * Serving Flask app &quot;app&quot; (lazy loading)</div><div class=\"line\"> * Environment: production</div><div class=\"line\">   WARNING: This is a development server. Do not use it in a production deployment.</div><div class=\"line\">   Use a production WSGI server instead.</div><div class=\"line\"> * Debug mode: off</div><div class=\"line\"> * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)</div><div class=\"line\">   127.0.0.1 - - [22/Jun/2019 21:00:05] &quot;GET / HTTP/1.1&quot; 200 -</div><div class=\"line\"></div><div class=\"line\">#dockerfile ,cppy app.py</div><div class=\"line\">FROM python:2.7</div><div class=\"line\">LABEL maintainer=&quot;tongbo&lt;demo.com@126.com&gt;&quot;</div><div class=\"line\">RUN pip install flask</div><div class=\"line\">COPY app.py /app/</div><div class=\"line\">WORKDIR /app</div><div class=\"line\">EXPOSE 5000</div><div class=\"line\">CMD [&quot;pyhton&quot;,&quot;app.py&quot;]</div><div class=\"line\"></div><div class=\"line\"># build</div><div class=\"line\">root@swoole_dev:/home/tb/flask_hello_world# docker build -t yaxiaomu/flask_demo:latest .</div><div class=\"line\">Sending build context to Docker daemon  3.072kB</div><div class=\"line\">Step 1/7 : FROM python:2.7</div><div class=\"line\"> ---&gt; 37093962fbf5</div><div class=\"line\">Step 2/7 : LABEL maintainer=&quot;tongbo&lt;demo.com@126.com&gt;&quot;</div><div class=\"line\"> ---&gt; Using cache</div><div class=\"line\"> ---&gt; c4ac0caa5aab</div><div class=\"line\">Step 3/7 : RUN pip install flask</div><div class=\"line\"> ---&gt; Using cache</div><div class=\"line\"> ---&gt; 60c7e35f23a3</div><div class=\"line\">Step 4/7 : COPY app.py /app/</div><div class=\"line\"> ---&gt; a7a69c1da0b6</div><div class=\"line\">Step 5/7 : WORKDIR /app</div><div class=\"line\"> ---&gt; Running in 2122fe24efd6</div><div class=\"line\">Removing intermediate container 2122fe24efd6</div><div class=\"line\"> ---&gt; f6b586c33cbc</div><div class=\"line\">Step 6/7 : EXPOSE 5000</div><div class=\"line\"> ---&gt; Running in e368df4c5205</div><div class=\"line\">Removing intermediate container e368df4c5205</div><div class=\"line\"> ---&gt; 6a7e1858c5e7</div><div class=\"line\">Step 7/7 : CMD [&quot;pyhton&quot;,&quot;app.py&quot;]</div><div class=\"line\"> ---&gt; Running in e8c96756cc9e</div><div class=\"line\">Removing intermediate container e8c96756cc9e</div><div class=\"line\"> ---&gt; c37bb4c557da</div><div class=\"line\">Successfully built c37bb4c557da</div><div class=\"line\">Successfully tagged yaxiaomu/flask_demo:latest</div><div class=\"line\"></div><div class=\"line\">## container</div><div class=\"line\">root@swoole_dev:/home/tb/flask_hello_world# docker run  yaxiaomu/flask_demo</div><div class=\"line\">docker: Error response from daemon: OCI runtime create failed: container_linux.go:345: starting container process caused &quot;exec: \\&quot;pyhton\\&quot;: executable file not found in $PATH&quot;: unknown.</div><div class=\"line\">ERRO[0000] error waiting for container: context canceled</div></pre></td></tr></table></figure>\n</li>\n<li><p>debug</p>\n<ul>\n<li>imageimage id/bin/bash</li>\n<li>docker run it imageid /bin/bash</li>\n<li>cd .. &amp;&amp; begin your debug</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@swoole_dev:/home/tb/flask_hello_world# docker run -it c37bb4c557da /bin/bash</div><div class=\"line\">root@a972581ff13e:/app#</div><div class=\"line\">root@a972581ff13e:/app# python app.py </div><div class=\"line\"> * Serving Flask app &quot;app&quot; (lazy loading)</div><div class=\"line\"> * Environment: production</div><div class=\"line\">   WARNING: This is a development server. Do not use it in a production deployment.</div><div class=\"line\">   Use a production WSGI server instead.</div><div class=\"line\"> * Debug mode: off</div><div class=\"line\"> * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)</div><div class=\"line\"> ## pythonpyhtondockerfile</div><div class=\"line\">  </div><div class=\"line\">  root@swoole_dev:/home/tb/flask_hello_world# docker run  yaxiaomu/flask_demo </div><div class=\"line\"> * Serving Flask app &quot;app&quot; (lazy loading)</div><div class=\"line\"> * Environment: production</div><div class=\"line\">   WARNING: This is a development server. Do not use it in a production deployment.</div><div class=\"line\">   Use a production WSGI server instead.</div><div class=\"line\"> * Debug mode: off</div><div class=\"line\"> * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)</div><div class=\"line\"> ##  docker run -d,--name </div><div class=\"line\"> root@swoole_dev:/home/tb/flask_hello_world# docker run -d --name tb_demo yaxiaomu/flask_demo</div><div class=\"line\"> e7841af659ab469f598151b0f43c1333a77a52c6610d6894a5dfbec887d6848e</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><code>docker container stop 664f2033265b | docker stop 664\n664f2033265b\n[1]+  Exit 137                docker run yaxiaomu/flask_demo</code></li>\n<li><code>root@swoole_dev:/home/tb/flask_hello_world# docker exec -it e7841af659ab /bin/bash\nroot@e7841af659ab:/app#</code></li>\n<li>docker exec -it e7841af659ab ip a</li>\n<li>docker rm $(docker ps -aq)</li>\n<li>docker start|stop demo</li>\n<li>docker inspect containerId # </li>\n<li>docker container logs containerid</li>\n<li>docker container commands</li>\n</ol>\n<h2 id=\"dockerfile2\"><a href=\"#dockerfile2\" class=\"headerlink\" title=\"dockerfile2\"></a>dockerfile2</h2><ol>\n<li>stress</li>\n<li>apt-get install stress</li>\n<li> cpu</li>\n<li>dockercpu <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">FROM UBUNTU</div><div class=\"line\">RUN apt-get update &amp;&amp; apt-get install -y stress</div><div class=\"line\">ENTRYPOINT [&quot;usr/bin/stress&quot;]</div><div class=\"line\">CMD </div><div class=\"line\"></div><div class=\"line\">## </div><div class=\"line\">docker run -it yaxiaomu/ubuntu_stress --vm 1 --verbose</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>- virtualbox</li>\n<li>-m memory swap memory</li>\n<li>-c cpu shares relate weight,</li>\n<li>docker run cpu-shares=5 name=test2 cpu1</li>\n<li>docker run cpu-shares=10 name=test3 cpu1</li>\n<li>control groupslayerunion file system</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2>"},{"title":"tcpdump arp","date":"2019-05-13T14:26:44.000Z","_content":"##### 1 udevmacip\n```\nroot@udev:/home/tb# ifconfig\nenp0s3    Link encap:Ethernet  HWaddr 08:00:27:63:49:66  \n          inet addr:10.70.30.73  Bcast:10.70.31.255  Mask:255.255.254.0\n          inet6 addr: fe80::a00:27ff:fe63:4966/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:1992020 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:569243 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:235878919 (235.8 MB)  TX bytes:149889975 (149.8 MB)\n```\n\n <!-- more -->\n##### 2 php56macip arp\n\n```\ntb@php56:~$ ifconfig\ndocker0   Link encap:Ethernet  HWaddr 02:42:c6:68:73:96  \n          inet addr:172.17.0.1  Bcast:172.17.255.255  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\nenp0s3    Link encap:Ethernet  HWaddr 08:00:27:ce:14:39  \n          inet addr:10.70.30.60  Bcast:10.70.31.255  Mask:255.255.254.0\n          inet6 addr: fe80::a00:27ff:fece:1439/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:1636533 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:149265 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:219865638 (219.8 MB)  TX bytes:123084741 (123.0 MB)\nroot@php56:/home/tb# arp -a\n? (10.70.30.79) at 08:62:66:4d:f1:09 [ether] on enp0s3\n? (10.70.30.32) at 64:00:6a:20:ae:c6 [ether] on enp0s3\n? (10.70.30.47) at 8c:ec:4b:5f:e9:49 [ether] on enp0s3\n? (10.70.30.73) at 08:00:27:63:49:66 [ether] on enp0s3\n? (10.70.30.1) at 84:b2:61:8f:98:00 [ether] on enp0s3\n? (10.70.30.72) at 8c:ec:4b:a1:49:3f [ether] on enp0s3\n? (10.70.30.40) at 74:ea:c8:e3:17:ab [ether] on enp0s3\n? (10.70.31.191) at <incomplete> on enp0s3\n```\n\n##### php5610.70.30.73arp\n```\nroot@php56:/home/tb# arp -d 10.70.30.73\n\n#php56(10.70.30.66 ) telnet 10.70.30.73\nroot@php56:/home/tb# tcpdump -i enp0s3 -ent '(dst 10.70.30.73 and src 10.70.30.60) or (dst 10.70.30.60 and src 10.70.30.73)'\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on enp0s3, link-type EN10MB (Ethernet), capture size 262144 bytes\n\n# -e\n```\n##### php56  telnetarptcp\n```\nroot@php56:/home/tb# telnet 10.70.30.73\nTrying 10.70.30.73...\ntelnet: Unable to connect to remote host: Connection refused\n```\n##### \n```\nroot@php56:/home/tb# tcpdump -i enp0s3 -ent '(dst 10.70.30.73 and src 10.70.30.60) or (dst 10.70.30.60 and src 10.70.30.73)'\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on enp0s3, link-type EN10MB (Ethernet), capture size 262144 bytes\n08:00:27:ce:14:39 > ff:ff:ff:ff:ff:ff, ethertype ARP (0x0806), length 42: Request who-has 10.70.30.73 tell 10.70.30.60, length 28\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Reply 10.70.30.73 is-at 08:00:27:63:49:66, length 46\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.42366 > 10.70.30.73.23: Flags [S], seq 803077829, win 29200, options [mss 1460,sackOK,TS val 173958745 ecr 0,nop,wscale 7], length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.23 > 10.70.30.60.42366: Flags [R.], seq 0, ack 803077830, win 0, length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Request who-has 10.70.30.60 tell 10.70.30.73, length 46\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype ARP (0x0806), length 42: Reply 10.70.30.60 is-at 08:00:27:ce:14:39, length 28\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.42368 > 10.70.30.73.23: Flags [S], seq 3070062063, win 29200, options [mss 1460,sackOK,TS val 173961995 ecr 0,nop,wscale 7], length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.23 > 10.70.30.60.42368: Flags [R.], seq 0, ack 3070062064, win 0, length 0\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.52718 > 10.70.30.73.7: Flags [S], seq 4237197441, win 29200, options [mss 1460,sackOK,TS val 173965580 ecr 0,nop,wscale 7], length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.7 > 10.70.30.60.52718: Flags [R.], seq 0, ack 4237197442, win 0, length 0\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.52720 > 10.70.30.73.7: Flags [S], seq 3993979182, win 29200, options [mss 1460,sackOK,TS val 173969570 ecr 0,nop,wscale 7], length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.7 > 10.70.30.60.52720: Flags [R.], seq 0, ack 3993979183, win 0, length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Request who-has 10.70.30.60 tell 10.70.30.73, length 46\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype ARP (0x0806), length 42: Reply 10.70.30.60 is-at 08:00:27:ce:14:39, length 28\n\n```\n##### \nff:ff:ff:ff:ff:ff lanOx086arplength 4246tcpdumpcrclength 28|46 request replyarp  arp\n\n##### \n\n![image.png](https://image-static.segmentfault.com/169/921/1699212970-5dbb9b59ac52c_articlex)\n\n\n","source":"_posts/tcpdump-arp.md","raw":"---\ntitle: tcpdump arp\ndate: 2019-05-13 22:26:44\ncategories: NETWORK\ntags:\n    - ARP\n    - tcpdump\n---\n##### 1 udevmacip\n```\nroot@udev:/home/tb# ifconfig\nenp0s3    Link encap:Ethernet  HWaddr 08:00:27:63:49:66  \n          inet addr:10.70.30.73  Bcast:10.70.31.255  Mask:255.255.254.0\n          inet6 addr: fe80::a00:27ff:fe63:4966/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:1992020 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:569243 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:235878919 (235.8 MB)  TX bytes:149889975 (149.8 MB)\n```\n\n <!-- more -->\n##### 2 php56macip arp\n\n```\ntb@php56:~$ ifconfig\ndocker0   Link encap:Ethernet  HWaddr 02:42:c6:68:73:96  \n          inet addr:172.17.0.1  Bcast:172.17.255.255  Mask:255.255.0.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\nenp0s3    Link encap:Ethernet  HWaddr 08:00:27:ce:14:39  \n          inet addr:10.70.30.60  Bcast:10.70.31.255  Mask:255.255.254.0\n          inet6 addr: fe80::a00:27ff:fece:1439/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:1636533 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:149265 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:219865638 (219.8 MB)  TX bytes:123084741 (123.0 MB)\nroot@php56:/home/tb# arp -a\n? (10.70.30.79) at 08:62:66:4d:f1:09 [ether] on enp0s3\n? (10.70.30.32) at 64:00:6a:20:ae:c6 [ether] on enp0s3\n? (10.70.30.47) at 8c:ec:4b:5f:e9:49 [ether] on enp0s3\n? (10.70.30.73) at 08:00:27:63:49:66 [ether] on enp0s3\n? (10.70.30.1) at 84:b2:61:8f:98:00 [ether] on enp0s3\n? (10.70.30.72) at 8c:ec:4b:a1:49:3f [ether] on enp0s3\n? (10.70.30.40) at 74:ea:c8:e3:17:ab [ether] on enp0s3\n? (10.70.31.191) at <incomplete> on enp0s3\n```\n\n##### php5610.70.30.73arp\n```\nroot@php56:/home/tb# arp -d 10.70.30.73\n\n#php56(10.70.30.66 ) telnet 10.70.30.73\nroot@php56:/home/tb# tcpdump -i enp0s3 -ent '(dst 10.70.30.73 and src 10.70.30.60) or (dst 10.70.30.60 and src 10.70.30.73)'\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on enp0s3, link-type EN10MB (Ethernet), capture size 262144 bytes\n\n# -e\n```\n##### php56  telnetarptcp\n```\nroot@php56:/home/tb# telnet 10.70.30.73\nTrying 10.70.30.73...\ntelnet: Unable to connect to remote host: Connection refused\n```\n##### \n```\nroot@php56:/home/tb# tcpdump -i enp0s3 -ent '(dst 10.70.30.73 and src 10.70.30.60) or (dst 10.70.30.60 and src 10.70.30.73)'\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on enp0s3, link-type EN10MB (Ethernet), capture size 262144 bytes\n08:00:27:ce:14:39 > ff:ff:ff:ff:ff:ff, ethertype ARP (0x0806), length 42: Request who-has 10.70.30.73 tell 10.70.30.60, length 28\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Reply 10.70.30.73 is-at 08:00:27:63:49:66, length 46\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.42366 > 10.70.30.73.23: Flags [S], seq 803077829, win 29200, options [mss 1460,sackOK,TS val 173958745 ecr 0,nop,wscale 7], length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.23 > 10.70.30.60.42366: Flags [R.], seq 0, ack 803077830, win 0, length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Request who-has 10.70.30.60 tell 10.70.30.73, length 46\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype ARP (0x0806), length 42: Reply 10.70.30.60 is-at 08:00:27:ce:14:39, length 28\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.42368 > 10.70.30.73.23: Flags [S], seq 3070062063, win 29200, options [mss 1460,sackOK,TS val 173961995 ecr 0,nop,wscale 7], length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.23 > 10.70.30.60.42368: Flags [R.], seq 0, ack 3070062064, win 0, length 0\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.52718 > 10.70.30.73.7: Flags [S], seq 4237197441, win 29200, options [mss 1460,sackOK,TS val 173965580 ecr 0,nop,wscale 7], length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.7 > 10.70.30.60.52718: Flags [R.], seq 0, ack 4237197442, win 0, length 0\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.52720 > 10.70.30.73.7: Flags [S], seq 3993979182, win 29200, options [mss 1460,sackOK,TS val 173969570 ecr 0,nop,wscale 7], length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.7 > 10.70.30.60.52720: Flags [R.], seq 0, ack 3993979183, win 0, length 0\n08:00:27:63:49:66 > 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Request who-has 10.70.30.60 tell 10.70.30.73, length 46\n08:00:27:ce:14:39 > 08:00:27:63:49:66, ethertype ARP (0x0806), length 42: Reply 10.70.30.60 is-at 08:00:27:ce:14:39, length 28\n\n```\n##### \nff:ff:ff:ff:ff:ff lanOx086arplength 4246tcpdumpcrclength 28|46 request replyarp  arp\n\n##### \n\n![image.png](https://image-static.segmentfault.com/169/921/1699212970-5dbb9b59ac52c_articlex)\n\n\n","slug":"tcpdump-arp","published":1,"updated":"2019-11-03T03:25:11.618Z","_id":"ck2ifimuj000a4ggv0449as5a","comments":1,"layout":"post","photos":[],"link":"","content":"<h5 id=\"1-udevmacip\"><a href=\"#1-udevmacip\" class=\"headerlink\" title=\"1 udevmacip\"></a>1 udevmacip</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@udev:/home/tb# ifconfig</div><div class=\"line\">enp0s3    Link encap:Ethernet  HWaddr 08:00:27:63:49:66  </div><div class=\"line\">          inet addr:10.70.30.73  Bcast:10.70.31.255  Mask:255.255.254.0</div><div class=\"line\">          inet6 addr: fe80::a00:27ff:fe63:4966/64 Scope:Link</div><div class=\"line\">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div class=\"line\">          RX packets:1992020 errors:0 dropped:0 overruns:0 frame:0</div><div class=\"line\">          TX packets:569243 errors:0 dropped:0 overruns:0 carrier:0</div><div class=\"line\">          collisions:0 txqueuelen:1000 </div><div class=\"line\">          RX bytes:235878919 (235.8 MB)  TX bytes:149889975 (149.8 MB)</div></pre></td></tr></table></figure>\n <a id=\"more\"></a>\n<h5 id=\"2-php56macip-arp\"><a href=\"#2-php56macip-arp\" class=\"headerlink\" title=\"2 php56macip arp\"></a>2 php56macip arp</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">tb@php56:~$ ifconfig</div><div class=\"line\">docker0   Link encap:Ethernet  HWaddr 02:42:c6:68:73:96  </div><div class=\"line\">          inet addr:172.17.0.1  Bcast:172.17.255.255  Mask:255.255.0.0</div><div class=\"line\">          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div class=\"line\">          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div class=\"line\">          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div class=\"line\">          collisions:0 txqueuelen:0 </div><div class=\"line\">          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div class=\"line\"></div><div class=\"line\">enp0s3    Link encap:Ethernet  HWaddr 08:00:27:ce:14:39  </div><div class=\"line\">          inet addr:10.70.30.60  Bcast:10.70.31.255  Mask:255.255.254.0</div><div class=\"line\">          inet6 addr: fe80::a00:27ff:fece:1439/64 Scope:Link</div><div class=\"line\">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div class=\"line\">          RX packets:1636533 errors:0 dropped:0 overruns:0 frame:0</div><div class=\"line\">          TX packets:149265 errors:0 dropped:0 overruns:0 carrier:0</div><div class=\"line\">          collisions:0 txqueuelen:1000 </div><div class=\"line\">          RX bytes:219865638 (219.8 MB)  TX bytes:123084741 (123.0 MB)</div><div class=\"line\">root@php56:/home/tb# arp -a</div><div class=\"line\">? (10.70.30.79) at 08:62:66:4d:f1:09 [ether] on enp0s3</div><div class=\"line\">? (10.70.30.32) at 64:00:6a:20:ae:c6 [ether] on enp0s3</div><div class=\"line\">? (10.70.30.47) at 8c:ec:4b:5f:e9:49 [ether] on enp0s3</div><div class=\"line\">? (10.70.30.73) at 08:00:27:63:49:66 [ether] on enp0s3</div><div class=\"line\">? (10.70.30.1) at 84:b2:61:8f:98:00 [ether] on enp0s3</div><div class=\"line\">? (10.70.30.72) at 8c:ec:4b:a1:49:3f [ether] on enp0s3</div><div class=\"line\">? (10.70.30.40) at 74:ea:c8:e3:17:ab [ether] on enp0s3</div><div class=\"line\">? (10.70.31.191) at &lt;incomplete&gt; on enp0s3</div></pre></td></tr></table></figure>\n<h5 id=\"php5610-70-30-73arp\"><a href=\"#php5610-70-30-73arp\" class=\"headerlink\" title=\"php5610.70.30.73arp\"></a>php5610.70.30.73arp</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@php56:/home/tb# arp -d 10.70.30.73</div><div class=\"line\"></div><div class=\"line\">#php56(10.70.30.66 ) telnet 10.70.30.73</div><div class=\"line\">root@php56:/home/tb# tcpdump -i enp0s3 -ent &apos;(dst 10.70.30.73 and src 10.70.30.60) or (dst 10.70.30.60 and src 10.70.30.73)&apos;</div><div class=\"line\">tcpdump: verbose output suppressed, use -v or -vv for full protocol decode</div><div class=\"line\">listening on enp0s3, link-type EN10MB (Ethernet), capture size 262144 bytes</div><div class=\"line\"></div><div class=\"line\"># -e</div></pre></td></tr></table></figure>\n<h5 id=\"php56-telnetarptcp\"><a href=\"#php56-telnetarptcp\" class=\"headerlink\" title=\"php56  telnetarptcp\"></a>php56  telnetarptcp</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@php56:/home/tb# telnet 10.70.30.73</div><div class=\"line\">Trying 10.70.30.73...</div><div class=\"line\">telnet: Unable to connect to remote host: Connection refused</div></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@php56:/home/tb# tcpdump -i enp0s3 -ent &apos;(dst 10.70.30.73 and src 10.70.30.60) or (dst 10.70.30.60 and src 10.70.30.73)&apos;</div><div class=\"line\">tcpdump: verbose output suppressed, use -v or -vv for full protocol decode</div><div class=\"line\">listening on enp0s3, link-type EN10MB (Ethernet), capture size 262144 bytes</div><div class=\"line\">08:00:27:ce:14:39 &gt; ff:ff:ff:ff:ff:ff, ethertype ARP (0x0806), length 42: Request who-has 10.70.30.73 tell 10.70.30.60, length 28</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Reply 10.70.30.73 is-at 08:00:27:63:49:66, length 46</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.42366 &gt; 10.70.30.73.23: Flags [S], seq 803077829, win 29200, options [mss 1460,sackOK,TS val 173958745 ecr 0,nop,wscale 7], length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.23 &gt; 10.70.30.60.42366: Flags [R.], seq 0, ack 803077830, win 0, length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Request who-has 10.70.30.60 tell 10.70.30.73, length 46</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype ARP (0x0806), length 42: Reply 10.70.30.60 is-at 08:00:27:ce:14:39, length 28</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.42368 &gt; 10.70.30.73.23: Flags [S], seq 3070062063, win 29200, options [mss 1460,sackOK,TS val 173961995 ecr 0,nop,wscale 7], length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.23 &gt; 10.70.30.60.42368: Flags [R.], seq 0, ack 3070062064, win 0, length 0</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.52718 &gt; 10.70.30.73.7: Flags [S], seq 4237197441, win 29200, options [mss 1460,sackOK,TS val 173965580 ecr 0,nop,wscale 7], length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.7 &gt; 10.70.30.60.52718: Flags [R.], seq 0, ack 4237197442, win 0, length 0</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.52720 &gt; 10.70.30.73.7: Flags [S], seq 3993979182, win 29200, options [mss 1460,sackOK,TS val 173969570 ecr 0,nop,wscale 7], length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.7 &gt; 10.70.30.60.52720: Flags [R.], seq 0, ack 3993979183, win 0, length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Request who-has 10.70.30.60 tell 10.70.30.73, length 46</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype ARP (0x0806), length 42: Reply 10.70.30.60 is-at 08:00:27:ce:14:39, length 28</div></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>ff:ff:ff:ff:ff:ff lanOx086arplength 4246tcpdumpcrclength 28|46 request replyarp  arp</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><img src=\"https://image-static.segmentfault.com/169/921/1699212970-5dbb9b59ac52c_articlex\" alt=\"image.png\"></p>\n","site":{"data":{}},"excerpt":"<h5 id=\"1-udevmacip\"><a href=\"#1-udevmacip\" class=\"headerlink\" title=\"1 udevmacip\"></a>1 udevmacip</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@udev:/home/tb# ifconfig</div><div class=\"line\">enp0s3    Link encap:Ethernet  HWaddr 08:00:27:63:49:66  </div><div class=\"line\">          inet addr:10.70.30.73  Bcast:10.70.31.255  Mask:255.255.254.0</div><div class=\"line\">          inet6 addr: fe80::a00:27ff:fe63:4966/64 Scope:Link</div><div class=\"line\">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div class=\"line\">          RX packets:1992020 errors:0 dropped:0 overruns:0 frame:0</div><div class=\"line\">          TX packets:569243 errors:0 dropped:0 overruns:0 carrier:0</div><div class=\"line\">          collisions:0 txqueuelen:1000 </div><div class=\"line\">          RX bytes:235878919 (235.8 MB)  TX bytes:149889975 (149.8 MB)</div></pre></td></tr></table></figure>","more":"<h5 id=\"2-php56macip-arp\"><a href=\"#2-php56macip-arp\" class=\"headerlink\" title=\"2 php56macip arp\"></a>2 php56macip arp</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">tb@php56:~$ ifconfig</div><div class=\"line\">docker0   Link encap:Ethernet  HWaddr 02:42:c6:68:73:96  </div><div class=\"line\">          inet addr:172.17.0.1  Bcast:172.17.255.255  Mask:255.255.0.0</div><div class=\"line\">          UP BROADCAST MULTICAST  MTU:1500  Metric:1</div><div class=\"line\">          RX packets:0 errors:0 dropped:0 overruns:0 frame:0</div><div class=\"line\">          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0</div><div class=\"line\">          collisions:0 txqueuelen:0 </div><div class=\"line\">          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</div><div class=\"line\"></div><div class=\"line\">enp0s3    Link encap:Ethernet  HWaddr 08:00:27:ce:14:39  </div><div class=\"line\">          inet addr:10.70.30.60  Bcast:10.70.31.255  Mask:255.255.254.0</div><div class=\"line\">          inet6 addr: fe80::a00:27ff:fece:1439/64 Scope:Link</div><div class=\"line\">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</div><div class=\"line\">          RX packets:1636533 errors:0 dropped:0 overruns:0 frame:0</div><div class=\"line\">          TX packets:149265 errors:0 dropped:0 overruns:0 carrier:0</div><div class=\"line\">          collisions:0 txqueuelen:1000 </div><div class=\"line\">          RX bytes:219865638 (219.8 MB)  TX bytes:123084741 (123.0 MB)</div><div class=\"line\">root@php56:/home/tb# arp -a</div><div class=\"line\">? (10.70.30.79) at 08:62:66:4d:f1:09 [ether] on enp0s3</div><div class=\"line\">? (10.70.30.32) at 64:00:6a:20:ae:c6 [ether] on enp0s3</div><div class=\"line\">? (10.70.30.47) at 8c:ec:4b:5f:e9:49 [ether] on enp0s3</div><div class=\"line\">? (10.70.30.73) at 08:00:27:63:49:66 [ether] on enp0s3</div><div class=\"line\">? (10.70.30.1) at 84:b2:61:8f:98:00 [ether] on enp0s3</div><div class=\"line\">? (10.70.30.72) at 8c:ec:4b:a1:49:3f [ether] on enp0s3</div><div class=\"line\">? (10.70.30.40) at 74:ea:c8:e3:17:ab [ether] on enp0s3</div><div class=\"line\">? (10.70.31.191) at &lt;incomplete&gt; on enp0s3</div></pre></td></tr></table></figure>\n<h5 id=\"php5610-70-30-73arp\"><a href=\"#php5610-70-30-73arp\" class=\"headerlink\" title=\"php5610.70.30.73arp\"></a>php5610.70.30.73arp</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@php56:/home/tb# arp -d 10.70.30.73</div><div class=\"line\"></div><div class=\"line\">#php56(10.70.30.66 ) telnet 10.70.30.73</div><div class=\"line\">root@php56:/home/tb# tcpdump -i enp0s3 -ent &apos;(dst 10.70.30.73 and src 10.70.30.60) or (dst 10.70.30.60 and src 10.70.30.73)&apos;</div><div class=\"line\">tcpdump: verbose output suppressed, use -v or -vv for full protocol decode</div><div class=\"line\">listening on enp0s3, link-type EN10MB (Ethernet), capture size 262144 bytes</div><div class=\"line\"></div><div class=\"line\"># -e</div></pre></td></tr></table></figure>\n<h5 id=\"php56-telnetarptcp\"><a href=\"#php56-telnetarptcp\" class=\"headerlink\" title=\"php56  telnetarptcp\"></a>php56  telnetarptcp</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@php56:/home/tb# telnet 10.70.30.73</div><div class=\"line\">Trying 10.70.30.73...</div><div class=\"line\">telnet: Unable to connect to remote host: Connection refused</div></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">root@php56:/home/tb# tcpdump -i enp0s3 -ent &apos;(dst 10.70.30.73 and src 10.70.30.60) or (dst 10.70.30.60 and src 10.70.30.73)&apos;</div><div class=\"line\">tcpdump: verbose output suppressed, use -v or -vv for full protocol decode</div><div class=\"line\">listening on enp0s3, link-type EN10MB (Ethernet), capture size 262144 bytes</div><div class=\"line\">08:00:27:ce:14:39 &gt; ff:ff:ff:ff:ff:ff, ethertype ARP (0x0806), length 42: Request who-has 10.70.30.73 tell 10.70.30.60, length 28</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Reply 10.70.30.73 is-at 08:00:27:63:49:66, length 46</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.42366 &gt; 10.70.30.73.23: Flags [S], seq 803077829, win 29200, options [mss 1460,sackOK,TS val 173958745 ecr 0,nop,wscale 7], length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.23 &gt; 10.70.30.60.42366: Flags [R.], seq 0, ack 803077830, win 0, length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Request who-has 10.70.30.60 tell 10.70.30.73, length 46</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype ARP (0x0806), length 42: Reply 10.70.30.60 is-at 08:00:27:ce:14:39, length 28</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.42368 &gt; 10.70.30.73.23: Flags [S], seq 3070062063, win 29200, options [mss 1460,sackOK,TS val 173961995 ecr 0,nop,wscale 7], length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.23 &gt; 10.70.30.60.42368: Flags [R.], seq 0, ack 3070062064, win 0, length 0</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.52718 &gt; 10.70.30.73.7: Flags [S], seq 4237197441, win 29200, options [mss 1460,sackOK,TS val 173965580 ecr 0,nop,wscale 7], length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.7 &gt; 10.70.30.60.52718: Flags [R.], seq 0, ack 4237197442, win 0, length 0</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype IPv4 (0x0800), length 74: 10.70.30.60.52720 &gt; 10.70.30.73.7: Flags [S], seq 3993979182, win 29200, options [mss 1460,sackOK,TS val 173969570 ecr 0,nop,wscale 7], length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype IPv4 (0x0800), length 60: 10.70.30.73.7 &gt; 10.70.30.60.52720: Flags [R.], seq 0, ack 3993979183, win 0, length 0</div><div class=\"line\">08:00:27:63:49:66 &gt; 08:00:27:ce:14:39, ethertype ARP (0x0806), length 60: Request who-has 10.70.30.60 tell 10.70.30.73, length 46</div><div class=\"line\">08:00:27:ce:14:39 &gt; 08:00:27:63:49:66, ethertype ARP (0x0806), length 42: Reply 10.70.30.60 is-at 08:00:27:ce:14:39, length 28</div></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>ff:ff:ff:ff:ff:ff lanOx086arplength 4246tcpdumpcrclength 28|46 request replyarp  arp</p>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><img src=\"https://image-static.segmentfault.com/169/921/1699212970-5dbb9b59ac52c_articlex\" alt=\"image.png\"></p>"}],"PostAsset":[],"PostCategory":[{"post_id":"ck2ifan160000zkgvn358ngwr","category_id":"ck2ifan1i0004zkgvegxm6a1x","_id":"ck2ifan1q000ezkgv214p3mdm"},{"post_id":"ck2ifan1f0002zkgv1j3ra0dm","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan1v000kzkgvm9uqrm9x"},{"post_id":"ck2ifan1t000izkgv5zoqms7a","category_id":"ck2ifan1i0004zkgvegxm6a1x","_id":"ck2ifan1y000ozkgvwbwf6dl0"},{"post_id":"ck2ifan1k0006zkgvbdvz0ic6","category_id":"ck2ifan1s000gzkgvu3x4fkqt","_id":"ck2ifan1z000rzkgvm688955u"},{"post_id":"ck2ifan1u000jzkgvda5n0nf0","category_id":"ck2ifan1i0004zkgvegxm6a1x","_id":"ck2ifan21000vzkgv5kqeq7or"},{"post_id":"ck2ifan1x000nzkgvkvosmuj1","category_id":"ck2ifan1i0004zkgvegxm6a1x","_id":"ck2ifan23000zzkgv2xixqjf4"},{"post_id":"ck2ifan1l0008zkgvoqsr3dsu","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan250013zkgvep27na57"},{"post_id":"ck2ifan1y000pzkgv5zz6eamb","category_id":"ck2ifan1i0004zkgvegxm6a1x","_id":"ck2ifan270016zkgvq88qj8hs"},{"post_id":"ck2ifan20000tzkgv8dyy8t6n","category_id":"ck2ifan1i0004zkgvegxm6a1x","_id":"ck2ifan2a001azkgvauaprhkp"},{"post_id":"ck2ifan1m0009zkgvhi97sksd","category_id":"ck2ifan1s000gzkgvu3x4fkqt","_id":"ck2ifan2c001czkgv0ajpbzr3"},{"post_id":"ck2ifan22000wzkgv7li991mn","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan2e001gzkgvpa4rl1i9"},{"post_id":"ck2ifan230010zkgv9k83lk2u","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan2f001izkgv3clqw7xx"},{"post_id":"ck2ifan1p000dzkgvsrkqluzd","category_id":"ck2ifan23000xzkgvj5mbr8s2","_id":"ck2ifan2h001lzkgv9xtnpjhf"},{"post_id":"ck2ifan1r000fzkgvy6fc83qh","category_id":"ck2ifan23000xzkgvj5mbr8s2","_id":"ck2ifan2j001pzkgv5era2mfh"},{"post_id":"ck2ifan270018zkgvvbdt6dq2","category_id":"ck2ifan2c001dzkgv3glibwj7","_id":"ck2ifan2l001tzkgvhfqocex0"},{"post_id":"ck2ifan2g001jzkgvjv3bds71","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan2q001xzkgvaha6cxxv"},{"post_id":"ck2ifan2i001nzkgvqt12wfif","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan2s0020zkgv8ipe8o77"},{"post_id":"ck2ifan2b001bzkgv3d56lqq5","category_id":"ck2ifan2c001dzkgv3glibwj7","_id":"ck2ifan2u0023zkgviu1mzglz"},{"post_id":"ck2ifan2j001qzkgvgdjf68k0","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan2w0025zkgvecf79l2j"},{"post_id":"ck2ifan2l001uzkgvynl63wfm","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan300029zkgvpnl2hl52"},{"post_id":"ck2ifan2d001ezkgv1pdh4rg1","category_id":"ck2ifan2c001dzkgv3glibwj7","_id":"ck2ifan31002czkgv6h9kahyq"},{"post_id":"ck2ifan2r001yzkgvwfne9852","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan32002ezkgvwqvft6vs"},{"post_id":"ck2ifan2s0021zkgvb7uedl7p","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan33002izkgvbn9j13aq"},{"post_id":"ck2ifan2f001hzkgv1qcszp3b","category_id":"ck2ifan2r001zzkgvsy35e91r","_id":"ck2ifan34002kzkgvz7dcfx09"},{"post_id":"ck2ifan30002azkgvfibb2u8n","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan35002mzkgvfapoeyzs"},{"post_id":"ck2ifan2v0024zkgvjwxr62yx","category_id":"ck2ifan2z0028zkgv60tc9gmy","_id":"ck2ifan35002ozkgvcty9y1yi"},{"post_id":"ck2ifan2y0026zkgvfdsz004u","category_id":"ck2ifan32002gzkgvptagr72s","_id":"ck2ifan38002qzkgvuf5xqkws"},{"post_id":"ck2ifan4u0058zkgvnco58t2c","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan4y005czkgv4zdesukj"},{"post_id":"ck2ifan4w005bzkgvq9r7vq8z","category_id":"ck2ifan1n000azkgvolwg40od","_id":"ck2ifan50005ezkgv8t6dyw8y"},{"post_id":"ck2ifan4t0057zkgvo3ixtgyz","category_id":"ck2ifan4v0059zkgvqygbx4e2","_id":"ck2ifan52005fzkgvi8mlg04c"},{"post_id":"ck2ifan6h005szkgvoe5gmlad","category_id":"ck2ifan1s000gzkgvu3x4fkqt","_id":"ck2ifan6j005uzkgv145cvcgi"},{"post_id":"ck2ifan77005xzkgv8iay2z9v","category_id":"ck2ifan23000xzkgvj5mbr8s2","_id":"ck2ifan78005zzkgvvvsihgxr"},{"post_id":"ck2ifimuj000a4ggv0449as5a","category_id":"ck2ifidd900044ggv157d4ctj","_id":"ck2ifimul000c4ggv7kwd2zd5"}],"PostTag":[{"post_id":"ck2ifan160000zkgvn358ngwr","tag_id":"ck2ifan1j0005zkgvcd97hqgv","_id":"ck2ifan1o000czkgvgwconvgr"},{"post_id":"ck2ifan1f0002zkgv1j3ra0dm","tag_id":"ck2ifan1n000bzkgvdapir0g7","_id":"ck2ifan21000uzkgvusz5sknu"},{"post_id":"ck2ifan1f0002zkgv1j3ra0dm","tag_id":"ck2ifan1s000hzkgvfb06ewao","_id":"ck2ifan23000yzkgvpbgnnlq0"},{"post_id":"ck2ifan1f0002zkgv1j3ra0dm","tag_id":"ck2ifan1v000mzkgv9bzzas42","_id":"ck2ifan250012zkgvz5yhdszn"},{"post_id":"ck2ifan1k0006zkgvbdvz0ic6","tag_id":"ck2ifan20000szkgvfeh4lmem","_id":"ck2ifan260015zkgv63qq4pbb"},{"post_id":"ck2ifan1l0008zkgvoqsr3dsu","tag_id":"ck2ifan240011zkgv214hbn1k","_id":"ck2ifan2j001ozkgvklehurax"},{"post_id":"ck2ifan1l0008zkgvoqsr3dsu","tag_id":"ck2ifan290019zkgv8ijsq0hb","_id":"ck2ifan2k001szkgvs279gsjb"},{"post_id":"ck2ifan1l0008zkgvoqsr3dsu","tag_id":"ck2ifan2e001fzkgv7fjc0spu","_id":"ck2ifan2q001wzkgvhhrv41nu"},{"post_id":"ck2ifan1m0009zkgvhi97sksd","tag_id":"ck2ifan2h001mzkgvglw3ii37","_id":"ck2ifan31002bzkgve2bxu8hm"},{"post_id":"ck2ifan1m0009zkgvhi97sksd","tag_id":"ck2ifan2p001vzkgvvdleh7aa","_id":"ck2ifan31002dzkgvo5geymd5"},{"post_id":"ck2ifan1m0009zkgvhi97sksd","tag_id":"ck2ifan2u0022zkgvqbdsud51","_id":"ck2ifan33002hzkgvky0lf51g"},{"post_id":"ck2ifan1p000dzkgvsrkqluzd","tag_id":"ck2ifan2z0027zkgvmg8vbl2i","_id":"ck2ifan33002jzkgv518w99uk"},{"post_id":"ck2ifan1t000izkgv5zoqms7a","tag_id":"ck2ifan32002fzkgvwwbput8i","_id":"ck2ifan35002nzkgvz0cjw6g7"},{"post_id":"ck2ifan1u000jzkgvda5n0nf0","tag_id":"ck2ifan34002lzkgvtkc42w40","_id":"ck2ifan38002rzkgvpy4m67gv"},{"post_id":"ck2ifan1x000nzkgvkvosmuj1","tag_id":"ck2ifan34002lzkgvtkc42w40","_id":"ck2ifan39002tzkgvh1hupo9d"},{"post_id":"ck2ifan1y000pzkgv5zz6eamb","tag_id":"ck2ifan34002lzkgvtkc42w40","_id":"ck2ifan3b002vzkgvuwo0k09m"},{"post_id":"ck2ifan20000tzkgv8dyy8t6n","tag_id":"ck2ifan34002lzkgvtkc42w40","_id":"ck2ifan3c002xzkgv2ikuijft"},{"post_id":"ck2ifan22000wzkgv7li991mn","tag_id":"ck2ifan3b002wzkgveg8rde22","_id":"ck2ifan3e0031zkgvunywoafz"},{"post_id":"ck2ifan22000wzkgv7li991mn","tag_id":"ck2ifan3c002yzkgvil8zjlp2","_id":"ck2ifan3f0032zkgvqt6rk9iu"},{"post_id":"ck2ifan22000wzkgv7li991mn","tag_id":"ck2ifan3d002zzkgvav7e6x2z","_id":"ck2ifan3f0034zkgvkv4a2rr9"},{"post_id":"ck2ifan230010zkgv9k83lk2u","tag_id":"ck2ifan3e0030zkgvphxncpww","_id":"ck2ifan3i0038zkgv1uzrz81q"},{"post_id":"ck2ifan230010zkgv9k83lk2u","tag_id":"ck2ifan3f0033zkgvvyu529lb","_id":"ck2ifan3i0039zkgvi7cw5dm2"},{"post_id":"ck2ifan230010zkgv9k83lk2u","tag_id":"ck2ifan3g0035zkgvm0ymutci","_id":"ck2ifan3j003bzkgv3hazugyr"},{"post_id":"ck2ifan230010zkgv9k83lk2u","tag_id":"ck2ifan3h0036zkgvp6oyg53b","_id":"ck2ifan3j003czkgvwf22hqpb"},{"post_id":"ck2ifan250014zkgv7wb1rm8f","tag_id":"ck2ifan3h0037zkgvyefoczx0","_id":"ck2ifan3l003fzkgvsngr0jrx"},{"post_id":"ck2ifan250014zkgv7wb1rm8f","tag_id":"ck2ifan3j003azkgv06mw627t","_id":"ck2ifan3m003gzkgv97bihpve"},{"post_id":"ck2ifan250014zkgv7wb1rm8f","tag_id":"ck2ifan3k003dzkgvc7851vu1","_id":"ck2ifan3n003izkgvlzqq8o1z"},{"post_id":"ck2ifan270018zkgvvbdt6dq2","tag_id":"ck2ifan3k003ezkgvcr21tych","_id":"ck2ifan3p003lzkgvwpe26c9c"},{"post_id":"ck2ifan270018zkgvvbdt6dq2","tag_id":"ck2ifan3j003azkgv06mw627t","_id":"ck2ifan3p003mzkgvq710fcx9"},{"post_id":"ck2ifan270018zkgvvbdt6dq2","tag_id":"ck2ifan3k003dzkgvc7851vu1","_id":"ck2ifan3q003ozkgvhm902arr"},{"post_id":"ck2ifan2b001bzkgv3d56lqq5","tag_id":"ck2ifan3o003kzkgv0eonqpkl","_id":"ck2ifan3s003rzkgv6d976g3h"},{"post_id":"ck2ifan2b001bzkgv3d56lqq5","tag_id":"ck2ifan3j003azkgv06mw627t","_id":"ck2ifan3s003szkgvxm1wxd0v"},{"post_id":"ck2ifan2b001bzkgv3d56lqq5","tag_id":"ck2ifan3k003dzkgvc7851vu1","_id":"ck2ifan3t003uzkgv5baub3d5"},{"post_id":"ck2ifan2d001ezkgv1pdh4rg1","tag_id":"ck2ifan3r003qzkgvv59yjalx","_id":"ck2ifan3u003xzkgvgd7a8290"},{"post_id":"ck2ifan2d001ezkgv1pdh4rg1","tag_id":"ck2ifan3j003azkgv06mw627t","_id":"ck2ifan3u003yzkgv8ooij9fk"},{"post_id":"ck2ifan2d001ezkgv1pdh4rg1","tag_id":"ck2ifan3k003dzkgvc7851vu1","_id":"ck2ifan3u0040zkgvpwa06pj2"},{"post_id":"ck2ifan2f001hzkgv1qcszp3b","tag_id":"ck2ifan3t003wzkgv9ouyzg8l","_id":"ck2ifan3w0043zkgvaw5cazqc"},{"post_id":"ck2ifan2f001hzkgv1qcszp3b","tag_id":"ck2ifan3u003zzkgvaddatxmb","_id":"ck2ifan3w0044zkgvg9u6fs1u"},{"post_id":"ck2ifan2f001hzkgv1qcszp3b","tag_id":"ck2ifan3u0041zkgvihcwbmfh","_id":"ck2ifan3x0046zkgvq8u0ik3w"},{"post_id":"ck2ifan2g001jzkgvjv3bds71","tag_id":"ck2ifan3v0042zkgvbh3qsziw","_id":"ck2ifan3y0048zkgv8d8duy1r"},{"post_id":"ck2ifan2g001jzkgvjv3bds71","tag_id":"ck2ifan3w0045zkgvxe5cehid","_id":"ck2ifan3y0049zkgvudtjegab"},{"post_id":"ck2ifan2i001nzkgvqt12wfif","tag_id":"ck2ifan3x0047zkgvnsbekie0","_id":"ck2ifan3z004bzkgvqak92u0v"},{"post_id":"ck2ifan2j001qzkgvgdjf68k0","tag_id":"ck2ifan3y004azkgv67wyw1r6","_id":"ck2ifan3z004dzkgvf6reovy8"},{"post_id":"ck2ifan2l001uzkgvynl63wfm","tag_id":"ck2ifan3g0035zkgvm0ymutci","_id":"ck2ifan40004hzkgvwmzsov00"},{"post_id":"ck2ifan2l001uzkgvynl63wfm","tag_id":"ck2ifan3z004ezkgvj36mdcu5","_id":"ck2ifan41004izkgvpjtuqw5c"},{"post_id":"ck2ifan2l001uzkgvynl63wfm","tag_id":"ck2ifan40004fzkgv68ywr9iz","_id":"ck2ifan42004kzkgvg8y9huv0"},{"post_id":"ck2ifan2r001yzkgvwfne9852","tag_id":"ck2ifan40004gzkgvme627dd4","_id":"ck2ifan43004nzkgvirvsqury"},{"post_id":"ck2ifan2r001yzkgvwfne9852","tag_id":"ck2ifan41004jzkgvu9yu32cd","_id":"ck2ifan43004ozkgv7aqsni40"},{"post_id":"ck2ifan2r001yzkgvwfne9852","tag_id":"ck2ifan42004lzkgv24xit8i4","_id":"ck2ifan45004qzkgvi40pb143"},{"post_id":"ck2ifan2s0021zkgvb7uedl7p","tag_id":"ck2ifan42004mzkgvgw7piszs","_id":"ck2ifan46004tzkgv6zb1abfs"},{"post_id":"ck2ifan2s0021zkgvb7uedl7p","tag_id":"ck2ifan3g0035zkgvm0ymutci","_id":"ck2ifan46004uzkgvssalp3ox"},{"post_id":"ck2ifan2s0021zkgvb7uedl7p","tag_id":"ck2ifan45004rzkgvkr257i7u","_id":"ck2ifan47004wzkgv8vra56gj"},{"post_id":"ck2ifan2v0024zkgvjwxr62yx","tag_id":"ck2ifan46004szkgvh23fatsq","_id":"ck2ifan480050zkgv47d9ds9e"},{"post_id":"ck2ifan2v0024zkgvjwxr62yx","tag_id":"ck2ifan46004vzkgvwbt9hy9m","_id":"ck2ifan480051zkgv4jwdj9qp"},{"post_id":"ck2ifan2v0024zkgvjwxr62yx","tag_id":"ck2ifan47004xzkgv5tnnwn18","_id":"ck2ifan480053zkgv3e8x2eqg"},{"post_id":"ck2ifan2v0024zkgvjwxr62yx","tag_id":"ck2ifan47004yzkgvj28ali10","_id":"ck2ifan490054zkgvkd4xjdnz"},{"post_id":"ck2ifan2y0026zkgvfdsz004u","tag_id":"ck2ifan47004zzkgvx9gj5c5k","_id":"ck2ifan490055zkgvlnla7xsy"},{"post_id":"ck2ifan30002azkgvfibb2u8n","tag_id":"ck2ifan480052zkgv9wb3369u","_id":"ck2ifan490056zkgvdbpp2o26"},{"post_id":"ck2ifan4t0057zkgvo3ixtgyz","tag_id":"ck2ifan4v005azkgvi2ykd6qj","_id":"ck2ifan53005izkgv7czsr82j"},{"post_id":"ck2ifan4t0057zkgvo3ixtgyz","tag_id":"ck2ifan4z005dzkgv6kxe8sxo","_id":"ck2ifan53005jzkgvborkmewh"},{"post_id":"ck2ifan4t0057zkgvo3ixtgyz","tag_id":"ck2ifan52005gzkgvbkg8bzc8","_id":"ck2ifan54005lzkgv8twfce00"},{"post_id":"ck2ifan4u0058zkgvnco58t2c","tag_id":"ck2ifan53005hzkgv3oivxwkv","_id":"ck2ifan55005nzkgvo52gpv6q"},{"post_id":"ck2ifan4u0058zkgvnco58t2c","tag_id":"ck2ifan53005kzkgvqvxbbz0f","_id":"ck2ifan55005ozkgv5eiyyxml"},{"post_id":"ck2ifan4w005bzkgvq9r7vq8z","tag_id":"ck2ifan53005hzkgv3oivxwkv","_id":"ck2ifan57005qzkgv0va2o8zx"},{"post_id":"ck2ifan4w005bzkgvq9r7vq8z","tag_id":"ck2ifan55005pzkgvxdrzbb5a","_id":"ck2ifan58005rzkgv4lktdr14"},{"post_id":"ck2ifan6h005szkgvoe5gmlad","tag_id":"ck2ifan6j005tzkgvxl2diyi4","_id":"ck2ifan6k005vzkgvfwkjfhgi"},{"post_id":"ck2ifan6h005szkgvoe5gmlad","tag_id":"ck2ifan3j003azkgv06mw627t","_id":"ck2ifan6k005wzkgv62ll3x4x"},{"post_id":"ck2ifan77005xzkgv8iay2z9v","tag_id":"ck2ifan2z0027zkgvmg8vbl2i","_id":"ck2ifan78005yzkgvsmzv26b3"},{"post_id":"ck2ifimuj000a4ggv0449as5a","tag_id":"ck2ifidd900054ggv8sydnshl","_id":"ck2ifimul000b4ggvsaumccn1"},{"post_id":"ck2ifimuj000a4ggv0449as5a","tag_id":"ck2ifidda00064ggvzx0ngrlf","_id":"ck2ifimul000d4ggvi6j5mx0c"}],"Tag":[{"name":"","_id":"ck2ifan1j0005zkgvcd97hqgv"},{"name":"RSA","_id":"ck2ifan1n000bzkgvdapir0g7"},{"name":"AES","_id":"ck2ifan1s000hzkgvfb06ewao"},{"name":"","_id":"ck2ifan1v000mzkgv9bzzas42"},{"name":"","_id":"ck2ifan20000szkgvfeh4lmem"},{"name":"PHP","_id":"ck2ifan240011zkgv214hbn1k"},{"name":"CI","_id":"ck2ifan290019zkgv8ijsq0hb"},{"name":"","_id":"ck2ifan2e001fzkgv7fjc0spu"},{"name":"","_id":"ck2ifan2h001mzkgvglw3ii37"},{"name":"","_id":"ck2ifan2p001vzkgvvdleh7aa"},{"name":"","_id":"ck2ifan2u0022zkgvqbdsud51"},{"name":"docker","_id":"ck2ifan2z0027zkgvmg8vbl2i"},{"name":"","_id":"ck2ifan32002fzkgvwwbput8i"},{"name":"HEAD_FIRST_C","_id":"ck2ifan34002lzkgvtkc42w40"},{"name":"","_id":"ck2ifan3b002wzkgveg8rde22"},{"name":"","_id":"ck2ifan3c002yzkgvil8zjlp2"},{"name":"sign&token","_id":"ck2ifan3d002zzkgvav7e6x2z"},{"name":"HTTP","_id":"ck2ifan3e0030zkgvphxncpww"},{"name":"CACHE","_id":"ck2ifan3f0033zkgvvyu529lb"},{"name":"PHP","_id":"ck2ifan3g0035zkgvm0ymutci"},{"name":"NGINX","_id":"ck2ifan3h0036zkgvp6oyg53b"},{"name":"","_id":"ck2ifan3h0037zkgvyefoczx0"},{"name":"","_id":"ck2ifan3j003azkgv06mw627t"},{"name":"JAVA","_id":"ck2ifan3k003dzkgvc7851vu1"},{"name":"","_id":"ck2ifan3k003ezkgvcr21tych"},{"name":"","_id":"ck2ifan3o003kzkgv0eonqpkl"},{"name":"","_id":"ck2ifan3r003qzkgvv59yjalx"},{"name":"jp2a","_id":"ck2ifan3t003wzkgv9ouyzg8l"},{"name":"ascii","_id":"ck2ifan3u003zzkgvaddatxmb"},{"name":"meituan","_id":"ck2ifan3u0041zkgvihcwbmfh"},{"name":"linux","_id":"ck2ifan3v0042zkgvbh3qsziw"},{"name":"cpu","_id":"ck2ifan3w0045zkgvxe5cehid"},{"name":"mycnart","_id":"ck2ifan3x0047zkgvnsbekie0"},{"name":"","_id":"ck2ifan3y004azkgv67wyw1r6"},{"name":"","_id":"ck2ifan3z004ezkgvj36mdcu5"},{"name":"","_id":"ck2ifan40004fzkgv68ywr9iz"},{"name":"PHP7","_id":"ck2ifan40004gzkgvme627dd4"},{"name":"FPM","_id":"ck2ifan41004jzkgvu9yu32cd"},{"name":"Ubuntu","_id":"ck2ifan42004lzkgv24xit8i4"},{"name":"PHPSTORM","_id":"ck2ifan42004mzkgvgw7piszs"},{"name":"","_id":"ck2ifan45004rzkgvkr257i7u"},{"name":"github.page","_id":"ck2ifan46004szkgvh23fatsq"},{"name":"hexo","_id":"ck2ifan46004vzkgvwbt9hy9m"},{"name":"git","_id":"ck2ifan47004xzkgv5tnnwn18"},{"name":"node","_id":"ck2ifan47004yzkgvj28ali10"},{"name":"REDIS","_id":"ck2ifan47004zzkgvx9gj5c5k"},{"name":"","_id":"ck2ifan480052zkgv9wb3369u"},{"name":"kafka","_id":"ck2ifan4v005azkgvi2ykd6qj"},{"name":"","_id":"ck2ifan4z005dzkgv6kxe8sxo"},{"name":"","_id":"ck2ifan52005gzkgvbkg8bzc8"},{"name":"traceing","_id":"ck2ifan53005hzkgv3oivxwkv"},{"name":"jaeger","_id":"ck2ifan53005kzkgvqvxbbz0f"},{"name":"zipkin","_id":"ck2ifan55005pzkgvxdrzbb5a"},{"name":"","_id":"ck2ifan6j005tzkgvxl2diyi4"},{"name":"ARP","_id":"ck2ifidd900054ggv8sydnshl"},{"name":"tcpdump","_id":"ck2ifidda00064ggvzx0ngrlf"}]}}